
!Include "cyrdef";
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!START STUFF
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Array statusbar_temp --> 64;
Global statusbar_right = "Right text";
Global hint_menu = vespers_hints;

Replace DrawStatusLine;


!Constant DEBUG;
Constant Story "Вечерня";
Constant Headline "^Если вы играете первый раз, следует ввести @<<инфо@>>^";
Constant DEATH_MENTION_UNDO;

Replace ScoreSub;

!FOR pname
Replace MakeMatch;
Replace Identical;
Replace NounDomain;
Replace TryGivenObject;

!FOR DoMenu
Replace DoMenu;
Replace LowKey_Menu;


Include "Parser";
!Include "pname.h";
Include "SmartCantGo";
Include "Helproutines";


![ BeforeParsing x;
!  for (wn=2 : wn<parse->1 : wn++)
!  if (buffer->(parse->(4*wn + 1)) == '.' &&
!    (parse-->(2*wn - 3) == 'святому' &&
!    parse-->(2*wn + 1) == 'кутберт' or 'медард' or 'драусин' or 'франциск') ||
!    (parse-->(2*wn - 3) == 'mr' &&
!    parse-->(2*wn + 1) == 'burton' or 'knowles')) {
	!      buffer->(parse->(4*wn + 1)) = ' ';
  !    x++;
  !}
  !  if (x) @tokenise buffer parse;
  !];

Object	LibraryMessages
with	before [q;
			Prompt:
				if (misc_shadow.quotes_on == false) {
					q =  child(PendingQuote);
					if(q) {
						move q to SeenQuote;
						style underline; q.show_quote_inline(); style roman;
					}

					}


			Attack:
				"Ты слишком слаб.";
			Burn:
				"Не горит. Сырость пропитала здесь всё.";
			Buy:
				"Здесь нечего купить.";
			Climb:
				"Ты давно не ребёнок.";
			Eat:
				"Ты не настолько голодный.";
			Examine:
				if (lm_n == 1)
				"Просто и чисто.";
				else
					return false;
			Give:
				if (lm_n == 3)
					print "Благотворительность это хорошо, но ", (cDat) second,
					" это неинтересно.^";
					rtrue;
			Jump:
				"В воздухе хорошо, но твои колени и позвоночник не выдержат приземления.";
			Kiss:
				"Ты не можешь себя заставить это сделать.";
			Listen:
				"Ветер. Больше ничего.";
			Miscellany:
				if (lm_n == 39)
					"Это не представляет для тебя интереса.";
				if (lm_n == 5) {
					if (deadflag == 3) {
						print "Вы хотите вернуться в НАЧАЛО игры, ЗАГРузить сохранённую игру,
						сделать ОТКАТ последнего хода или закончить (КОНЕЦ) игру?
						^^Вы пришли к одной из трёх главных концовок. Если хотите
						увидеть остальные, введите АЛЬТЕРНАТИВЫ после ПЕРЕЗАПУСКа игры.^";

						return true;
					}

					if (deadflag == 4) {
						print "Вы хотите вернуться в НАЧАЛО игры, ЗАГРузить сохранённую игру,
						сделать ОТКАТ последнего хода или закончить (КОНЕЦ) игру?^";
						box
							"При захождении солнца крепкий сон"
							"напал на Аврама, и вот, напал на"
							"него ужас и мрак великий."
							""
							"                        -- Бытие 15:12";
						return true;
					}
					else
						return false;
				}
				if (lm_n == 19) {
					if (emmanuele_body in new_church)
						"Крылья покачиваются вверх-вниз с каждым вдохом,
						воздух завихряется вокруг них. Снизу доносится приятное
						цоканье от твоих копыт. Холод камней под ногами больше не
						доставляет тебе неудобств - это жалкая человеческая проблема.
						^^Одна из множества.";
					if (devil.prayed == true) {
					QuoteFrom(matthew13_46);
						"Свисающая бледная кожа. Сгорбленая спина. Коричневые пятна повсюду.
						^^Это слабая оболочка, но пока действующая.";
					}
					else
					switch(time_shadow.current_time) {
					0:
					QuoteFrom(iisamuel14_25);
					"Ты уже не тот мужчина, которым был несколько дней назад. Кожа 
					провисает землистыми складками на подбородке. Ряса развевается
					вокруг тебя, и сложно найти под ней тело. Утешает только то, что ты
					пока не обнаружил на себе следов чумы.";
					1:
					if (cupboard.opened == true)
					"Ты уже не тот мужчина, которым был несколько дней назад. Кожа 
					провисает землистыми складками на подбородке, руки истощены. 
					Ряса развевается вокруг тебя, и сложно найти под ней тело. Царапины 
					покрывают руку от кисти до локтя. Сейчас это только полоски
					засохшей крови.
					^^Прощупывая шею, ты находишь маленький бугорок, скрытый в
					складках кожи. Это настораживает.";
					else
					"Ты уже не тот мужчина, которым был несколько дней назад. Кожа 
					провисает землистыми складками на подбородке, руки истощены. 
					Ряса развевается вокруг тебя, и сложно найти под ней тело. 
					^^Прощупывая шею, ты находишь маленький бугорок, скрытый в
					складках кожи. Это настораживает.";
					2:
					"Здесь темно, а ты слаб. Кровать зовёт, обещая тепло,
					но ты знаешь, что это ложь. Засохшая кровь с твоей царапины
					осыпалась, оставив на месте себя тёплую розовую линию.
					^^Шишика на шее увеличилась, и болит когда ты сглатываешь.";
					3:
					QuoteFrom(jeremiah13_23);
					"Утренний свет позволяет лучше разглядеть твоё тело.
					Огромные опухоли покрывают шею и подмышки, отдаваясь болью
					при движении рук и головы. Глядя вниз, ты видишь царапины,
					покрытыю чёрной коркой, тянущиеся вдоль руки.";
					4:
					QuoteFrom(jeremiah13_23);
					"Опухоли покрывают твоё тело как грибы. Почти вся кожа стала
					чёрно-белой.";
					5:
					QuoteFrom(jeremiah13_23);
					"Чернота распространяется по телу как мазут. Растёт, расширяется.
					Под кожей повсюду набухли шишки.";
					6,7:
					QuoteFrom(jeremiah13_23);
					"Ты с трудом осознаёшь себя. Руки почти не слушаются;
					на них больше бугров, чем мышц. Цвета отвратительные: смесь
					смолы и желчи.";
					8:
					QuoteFrom(jeremiah13_23);
					"Ходячая зараза. Почти весь почернел. Ты умираешь.";
					9:
					if (sin_shadow.evil == true)
					"Твоя оболочка сломана. Старые кости скрутились и погнулись.
					Белое стало чёрным. Чужая уже плоть пузырится от опухолей и
					трясётся от холода. Жалкие смертные.";
					else
						QuoteFrom(jeremiah13_23);
					"Белое стало чёрным. Плоть пузырится от опухолей. Тело
					непроизвольно сотрясается: окружающее пламя не в силах
					прогнать озноб.";
				}
				}
				else
					return false;

			Pull,Push:
				if (lm_n == 1 or 2)
					"Возможно, много лет назад ты мог бы это сделать, но сейчас ты слишком слаб.";
				else
					return false;
			Search:
				! if (noun has male)
				if (noun ofclass Brother)
					"Он сбрасывает твои пальцы.";
			Show:
				if (lm_n == 2) {
					if (noun ofclass Drogo)
						"Дрого осторожно смотрит на ", (cAcc) self, ". Он визжит. Он плачет.
						Он ни о чём не думает.";
					if (noun ofclass Cecilia_class)
						"@<<Я не знаю, что вам сказать@>>, - отвечает она, пожимая
						плечами.";
					if (noun ofclass Matteo)
						"@<<Пожалуйста, отец, - он вздыхает. - У меня нет сил@>>.";
					if (noun ofclass Ignatius)
						"Его глаза подёргиваются: @<<Что?@>>";
					if (noun ofclass Lucca)
						"Он притворяется, что не видит.";
					if (noun ofclass Constantin)
						"@<<Я не думаю об этом@>>, - рычит он.";
				}

			Sing:
				"Дни проведённые в хоре давно позади.";
			Sleep:
				"Ты не устал. По крайней мере, не настолько, чтобы спать.";
			Smell:
				if (location ofclass Outside_room)
				"Холод проникает в твой нос будто иглы. Ты не чувствуешь
				ничего необычного.";
				else
				"Плесень.";
			Strong:
				"Ты выругался. Будем надеяться, Бог этого не слышал.";
			Taste:
				"Плесень.";
			Touch:
				if (lm_n == 2)
					"Ты чувствуешь шероховатую поверхность под пальцами.";
				else
					return false;
			Think:
				"Тебе сложно сконцентрироваться.";
			Wait:
				"Время идёт. Медленно.";
			Wake:
				"Если бы только это было так просто.";



		];

Include "Verblib";
Include "utility";
Include "domenu";
Include "AltMenu";
Include "Hints";

Include "dirs_2";

!HINTS AND HELP MENU

Menu	vespers_hints "Вечерня: Подсказки и Информация"
with	description
			" Выберите один из перечисленных разделов:",
		number 1;

Hint	amusing_things "Для развлечения"
with	description
			"Для развлечения";

Menu 	alternatives_menu "Альтернативы"
!with 	banner_tags "Enter=Выбор" "Esc=Назад" " " " " " " 9;
with 	banner_tags "N = Вниз" "P = Вверх" "ENTER = Выбор" " Q = Назад" "Q = Назад" 9 9;

HintTopic	general_alternative "Главное" alternatives_menu;

Hint	"Главное" general_alternative
with description [;
"^^
Существует три способа пройти игру: хороший, плохой, и между ними. Каждый
приведёт к различному финалу и изменит некоторые вещи в игре. Если Вы захотите
увидеть прохождения всех, введите: ПРОХОЖДЕНИЕ ДОБРО, ПРОХОЖДЕНИЕ ЗЛО, или
ПРОХОЖДЕНИЕ СЕРЕДИНА. Команда ПРОХОЖДЕНИЕ без уточнений покажет нейтральное прохождение.
Я знаю, это очень упрощённое деление, но это не урок теологии, поэтому прошу не
придираться.
^^
";]
;

HintTopic	good_alternative "Добро" alternatives_menu;

Hint	"Добро" good_alternative
with description [;
"^^
Это, должно быть, самый сложный способ, так как любая оплошность откинет
Вас на другой путь. Хотя, это не так уж и трудно. Достаточно не убивать и не
домогаться никого (включая себя), и всё будет хорошо. Так же не стоит молиться
Сесилье (поклонение ложным идолам и всё такое).
^^
";]
;

HintTopic	middle_alternative "Середина" alternatives_menu;

Hint	"Середина" middle_alternative
with description [;
"^^
Просто не убивайте и не домогайтесь никого, но можно совершать другие грехи:
молиться Сесилье, например.
^^
";]
;

HintTopic	evil_alternative "Зло" alternatives_menu;

Hint	"Зло" evil_alternative
with description [;
"^^
Это точно проще всего. Можно свободно убивать, грабить и продавать душу Дьяволу.
Однажды ступив на этот путь, невозможно уйти с него.
^^
";]
;


Menu 	matteo_journal "Дневник Матвея"
!with 	banner_tags "Enter=Выбор" "Esc=Назад" " " " " " " 9;
with 	banner_tags "N = Вниз" "P = Вверх" "ENTER = Выбор" " Q = Назад" "Q = Назад" 9 9;






HintTopic	matteo_day1 "12 января" matteo_journal;

Hint	"12 января" matteo_day1
with description [;
font on;

style underline;
"^^
Отец закрыл ворота сегодняшним утром, как только поступили новости из
Ровато. Я не знаю, что сделал бы на его месте, но точно не это.
После того как это случилось, меня стали одолевать странные чувства:
апатия, подавленность. До этого я никогда не чувствовал себя запертым в
монастыре, но осознание того, что я не могу его покинуть всё изменило.
Я устал. Я чувствовал себя уставшим весь день, и теперь я, наконец,
могу поспать.
^^
";]
;

HintTopic	matteo_day2 "13 января" matteo_journal;

Hint	"13 января" matteo_day2
with description [;
font on;

style underline;
"^^
План отца ничего не дал. Первые признаки чумы появились этим утром.
Лазарет сразу же наполнился, а дортуар опустел.
^^
Я чувствую себя хуже чем вчера. Не от болезни - я по-прежнему здоров.
Я не хочу ничего делать. Я просто хочу спать.
^^" ;]
;

HintTopic	matteo_day3 "14 января" matteo_journal;

Hint	"14 января" matteo_day3
with description [;
font on;

style underline;
"^^
Я ничуть не выделяюсь среди других. Шестеро из нас немного изменились, за
исключением Луки; он остался всё тем же стеснительным ребёнком, которым всегда
был. Я не знаю, что происходит. Возможно, нам просто сложно оставаться в
закрытом пространстве. Я провожу всё своё время в колокольне. Она всегда
пустая: здесь не происходит ничего важного.
^^
Вечерня
^^
Я был прав. Мы все изменились. Дрого, который никогда не был эталоном
нормальности, стал ещё страннее в последнее время. Он провёл весь день в
саду, разговаривая с чем-то, что видел только он.
^^
Константин тоже. Он таскал какие-то мешки в трапезную. Я незаметно спросил
отца, привозили ли какую-нибудь еду в монастырь - ответил что нет. Но он
не оставит этого без внимания. Он стал параноиком в последнее время.
^^
Я не знаю про Игната. Он всегда скрывается от моих глаз в лазарете или в 
церкви.
^^" ;];

HintTopic	matteo_day4 "15 января" matteo_journal;

Hint	 "15 января" matteo_day4
with description [;
font on;
style underline;
"^^
Третий час
^^
Константин тайно перетаскивает тела в подвал. Его мешок напоролся на сучок,
когда он тащил его через галерею, и на снег потекла кровь. Я знаю, что
должен что-то сделать, сказать кому-нибудь, но я не могу. Я не хочу нагружать
этим Луку, а больше я никому не верю.
^^
Особенно отцу. Он превратился в бредящего лунатика. Выкрикивает цитаты из
Библии в самый неподходящий момент, когда происходят обычные мирские события.
Иногда они вообще не из Библии. Паранойя и подозрительность совсем его 
одолели. Он совсем перестал молиться, кроме случаев, когда ему что-то
нужно.
^^
Повечерие
^^
Дрого, оказывается, не такой безумный, как я думал. Или, вернее, это
безумие другого рода. Он не сам с собой разговаривал в саду. Похоже, он
завёл дружбу с волками, и говорит с ними. Почему-то, они не нападают на
него, хотя, думаю, они ещё голоднее нас.";];

HintTopic	matteo_day5 "16 января" matteo_journal;

Hint	 "16 января" matteo_day5
with description [;
font on;
style underline;
"^^
Я сдаюсь. Я слишком устал. Я не хочу нагружать Луку своим знанием.
^^Снег под колокольней кажется мне постелью, а я просто хочу спать.";];

HintTopic	disclaimer "Противопоказания" vespers_hints;

Hint	"Эта игра содержит жестокость и изображение насилия (Насколько это возможно
в текстовой игре). Если это доставляет вам дискомфорт, прекратите игру.
^^Несмотря на тему, и обилие цитат из Библии, @<<Вечерня@>> не религиозная игра,
по крайней мере, она не пытается никого заставить изменить свои религиозные взгляды.
^^Я не христианин и не противник христианства, моя позиция далека от запутанных теологических вопросов. Надеюсь, я никого не оскорбил.
^^В любом случае, надеюсь, вы получите удовольствие." disclaimer;

Menu	new_player_info "Если вы играете в Интерактивную Литературу впервые" vespers_hints
!with 	banner_tags "Enter=Выбор" "Esc=Назад" " " " " " " 9;
with 	banner_tags "N = Вниз" "P = Вверх" "ENTER = Выбор" " Q = Назад" "Q = Назад" 9 9;


HintTopic	introduction_menu "Введение" new_player_info;

Hint	"Введение" introduction_menu
with	description [;
			LongIntro();
		]
			;

HintTopic	prompt_menu "Что это @<<>@>> такое?" new_player_info;

Hint	"Что это @<<>@>> такое?" prompt_menu
with	description [;
			ExplainPrompt();
		]
			;

HintTopic	starting_instructions_menu "Начальные инструкции" new_player_info;

Hint	"Начальные инструкции" starting_instructions_menu
with	description [;
			StartingInstructions();
		]
			;

HintTopic	stuck_instructions_menu "Если вы застряли" new_player_info;

Hint	"Если вы застряли" stuck_instructions_menu
with	description [;
			StuckInstructions();
		]
			;

HintTopic	standard_verbs_menu "Стандартные глаголы" new_player_info;

Hint	"Стандартные глаголы" standard_verbs_menu
with	description [;
			StandardVerbs();
		]
			;

HintTopic	abbreviations_menu "Аббревиатуры" new_player_info;

Hint	"Аббревиатуры" abbreviations_menu
with	description [;
			Abbreviations();
		]
			;

HintTopic	communications_menu "Общение" new_player_info;

Hint	"Общение" communications_menu
with	description [;
			AllCommunication();
		]
			;

HintTopic	internet_menu "Ресурсы в интернете" new_player_info;

Hint	"Ресурсы в интернете" internet_menu
with	description [;
			MoreGames();
		]
			;




Menu	general_info "Основная информация об игре и авторе" vespers_hints
!with 	banner_tags "Enter=Выбор" "Esc=Назад" " " " " " " 9;
with 	banner_tags "N = Вниз" "P = Вверх" "ENTER = Выбор" " Q = Назад" "Q = Назад" 9 9;


HintTopic	about_the_game "Игра и автор" general_info;

Hint	"об игре и авторе" about_the_game
with	description
			"@<<Вечерня@>> была начата в мае, и, наконец, в августе выпущена 
			бета-версия. Боже, эти игры занимают намного больше времени, если работать параллельно
			с их написанием.
			^^За время написания я перешёл на третий курс бакалавриата, занимаясь,
			в основном, химией, и немного биологией в университете Malaspina в сонном
			маленьком городке Нанаимо (Nanaimo), в Британской Колумбии. Со мной можно
			связаться по адресу jdevlin1984@@64hotmail.com, и я буду более чем счастлив
			получать сообщения об ошибках, комментарии, обзоры и оскорбления.
			^^Это моя вторая игра: первой была комедийная @<<Sting of the Wasp@>>.
			Если вы ищете что-то полегче Вечерни, могу порекомендовать вам её (нескромная
			реклама, я знаю).";

HintTopic	thank_you "Благодарности" general_info;

Hint	"Благодарности" thank_you
with	description
					"Я хотел бы поблагодарить своих единомышленников, без которых
					создание этой игры не было бы возможным:
					^^Грэма Нельсона (Graham Nelson) за Inform и DM4, которые
					сначала отпугнули меня, но дали возможность написать эту игру.
					^^Нейла Церутти (Neil Cerutti) за pname.h, Л Росс Разевски
					(L. Ross Raszewski) за hints.h и сопутствующие файлы, которые
					я немного подредактировал, Роджера Фёрт (Roger Firth) за
					smartcantgo.h, Джесси Бёрнеко (Jesse Burneko) за info.h,
					Эмили Шорт (Emily Short) за HelpRoutines.h и Гюнтера Шмидла
					(Gunther Schmidl) за dirs_2, очень полезные и удобные библиотеки.
					^^Стефана Гренейда (Stephen Granade) и Марка Мусанти (Mark Musante)
					за их работу над ежегодным конкурсом IFComp.
					^^Тех из IFMud, кто отвечал на мои вопросы по программированию.
					^^И, конечно, своих бета-тестеров Andy Ko, Dirk Straube, Katzy, Dan
					Shiovitz, JD Casteliero, Brian Rapp, Stephan Schonberg, Ramona White,
					Robert Devlin, and Dara Barker. Они определённо заслужили аплодисменты
					после того ада, по которому я их провёл. Спасибо, ребята.";

Menu	general_hints "Советы и новые глаголы" vespers_hints
!with 	banner_tags "Enter=Выбор" "Esc=Назад" " " " " " " 9;
with 	banner_tags "N = Вниз" "P = Вверх" "ENTER = Выбор" " Q = Назад" "Q = Назад" 9 9;


HintTopic 	general_hints2 "Советы" general_hints;

Hint 	"Советы" general_hints2
with	description
					"Пока я хотел сделать эту игру максимально дружелюбной к
					новичкам, написав целый набор инструкций по тому, как играть
					в Интерактивную Литературу, это сделали до меня. Поэтому я
					рекомендую вам взглянуть на прекрасный путеводитель по ИЛ
					Фредерика Рамсберга (Fredrik Ramsberg), на
					http://www.microheaven.com/IFGuide, так как он научит вас
					лучше, чем я.";

HintTopic	new_verbs "Новые глаголы" general_hints;

Hint	"Новые глаголы" new_verbs
with	description
					"В игре присутствуют новые глаголы, необходимые для прохождения. Кроме того,
					значительно изменены и некоторые глаголы из стандартной библиотеки (учитывая
					тематику игры, нетрудно догадаться, какие именно).
					^^Кроме того, был немного изменён способ общения. Можно ГОВОРИТЬ С <ПЕРСОНАЖЕМ>.
					Чтобы провести беседу о наиболее важных в настоящее время событиях (вы можете
					ГОВОРИТЬ С несколько раз, чтобы вести беседу). Если после этого ваша жажда
					знаний ещё не утолена, вы можете СПРОСИТЬ, СКАЗАТЬ или ГОВОРИТЬ С <ПЕРСОНАЖЕМ>
					о <ТЕМЕ>. Все три варианта приведут к одинаковым ответам, это поможет избежать
					путаницы, связанной с тем, что можно спросить о чем-либо до того, как сообщите
					об этом.
					^^Команда ПРОХОЖДЕНИЕ выведет список действий, позволяющих пройти игру.
					Также, если вы имеете проблемы с запоминанием имён братьев или святых, введите
					БРАТЬЯ или СВЯТЫЕ.
					^^Наконец, если вас раздражают всплывающие цитаты, вы можете в любой момент
					отключить их командой ЦИТАТЫ ОТКЛ. Команда ЦИТАТЫ ВКЛ вернёт их.";

Menu	translation_info "От переводчиков" vespers_hints
!with 	banner_tags "Enter=Выбор" "Esc=Назад" " " " " " " 9;
with 	banner_tags "N = Вниз" "P = Вверх" "ENTER = Выбор" " Q = Назад" "Q = Назад" 9 9;


HintTopic	translation_info2 "О переводе" translation_info;

Hint "О переводе" translation_info2
with description "Идея перевести эту игру возникла спонтанно, 4-го августа 2009-го года. Вернее, сначала появилась идея перевести какую-либо игру, а @<<Вечерня@>> оказалась первой, исходники которой подвернулись под руку. Итак, с огромным энтузиазмом, я приступил к работе, параллельно открывая для себя всё более пугающие тайны Монастыря Святого Кутберта. К середине ноября перевод был практически завершён, однако оставалось довольно большое количество багов, стилистических ошибок и неточностей. Тем не менее, 22-го ноября, я отправил игру на КРИЛ-2009. Через несколько часов я одумался, и снял заявку, забрав игру на доработку. Как ни странно, доделывание игры заняло в два раза больше времени, чем первоначальный перевод, и никогда бы не закончилось, если бы не терпеливая помощь и поддержка Всеволода Зубарева, известного под пседонимом @<<y4n@>>. И вот, спустя 11 месяцев, мы, уже не со стыдом, а с гордостью, представляем вам русскую версию прекрасной, хоть и ужасной игры Джейсона Девлина @<<Vespers@>>!^
-- Ugo (Александр Мосьпан).^^

@<<Это адская игра во всех трёх смыслах!@>>^
@<<А я вот сейчас телепортану зайца и погляжу, как он склоняется :)@>>^
-- y4n (Всеволод Зубарев).^^^

Выражаем отдельное спасибо нашим бета-тестерам -- Вячеславу @<<cheshire@>> Добранову и Валентину @<<uux@>> Коптельцеву.";

HintTopic	contact_us "Как нас найти" translation_info;

Hint "Как нас найти" contact_us
with description "Мы будем рады получить отзывы, замечания, отчёты об ошибках или транскрипт игры.^^
В онлайне проще всего найти нас на IRC-канале #ifrus в сети irc.forestnet.org. Также можно написать письмо Ugo по адресу alexander.mospan@@64gmail.com или y4n'у по адресу yandexx@@64gmail.com.";

HintTopic	bonus "Бонус-трек" translation_info;

Hint "Бонус-трек" bonus
with description "Лог работы (бонус-трек):
^^4.08.2009
^Начата работа над переводом.
^^5.08.2009
^Переведены все цитаты из Ветхого Завета.
^^6.08.2009
^Переведены объекты спальни, свеча и огниво.
^^9.08.2009
^Прошло три дня почти непрерывной работы над переводом. Только что я поборол все ошибки компилятора и
увидел счётчик байтов, оставшихся до успешной компиляции. Сейчас он показывает 111272.
^^10.08.2009 (0:36)
^110000. Ложусь спать. Надо делать минимум 10000 в день.
^^11.08.2009
^93200. Почистил gametext от переведённого - 193 килобайта.
^^16.09.2009
^32000 до компиляции. 129 килобайта текста без хелпов осталось. Несколько локаций и почти всё оставшееся - диалоги.
^^25.09.2009
^7 килобайт до компиляции. Осталось три локации.
^^15.10.2009
^Бился с багами, поборол несколько в начале игры.
^^21.10.2009
^107 килобайт до конца. Около пяти каверзных багов.
^^23.11.2009 0:10
^Yeeeeaaaah! Отправлено на КРИЛ.
^^24.11.2009
^Снята заявка на КРИЛ. Нужно ещё многое доработать и исправить.";


Menu	all_hints "Подсказки" vespers_hints
!with 	banner_tags "Enter=Выбор" "Esc=Назад" " " " " " " 9;
with 	banner_tags "N = Вниз" "P = Вверх" "ENTER = Выбор" " Q = Назад" "Q = Назад" 9 9;


Menu	getting_started "Начало" all_hints
!with 	banner_tags "Enter=Выбор" "Esc=Назад" " " " " " " 9;
with 	banner_tags "N = Вниз" "P = Вверх" "ENTER = Выбор" " Q = Назад" "Q = Назад" 9 9;


HintTopic	trying_to_do "Что я должен делать?" getting_started;

Hint	"Для начала, получайте удовольствие." trying_to_do;
Hint	"Исследуйте, говорите с людьми." trying_to_do;
Hint	"Составьте впечатление о монастыре." trying_to_do;
Hint	"Посмотрите куда умчался Лука." trying_to_do;
Hint	"Затем вернитесь в холл." trying_to_do;

HintTopic	waking_cecilia "Как разбудить девушку?";

Hint	"Вы должны обеспечить ей уют." waking_cecilia;
Hint	"В зале для переговоров уютно и тепло. Ладно, просто теплее чем где-либо ещё."
waking_cecilia;
Hint	"Вы настолько ленивы? Если вы действительно так нетерпеливы, можете попробовать ударить её."
waking_cecilia;
Hint	"Иначе вам нужно обеспечить её теплом." waking_cecilia;
Hint	"И дать ей поесть." waking_cecilia;
Hint	"Возьмите одеяло в своей комнате, разожгите огонь, и возьмите еду из серванта на кухне." waking_cecilia;
Hint	"Не желаете ли вы просто ударить её вместо этого?" waking_cecilia;

HintTopic	what_now "Что делать теперь?";

Hint	"При свете дня всё совсем по-другому." what_now;
Hint	"Было бы разумно поговорить с людьми, разузнать немного." what_now;
Hint	"После того, как Луку заперли, вам ничего не остаётся кроме как пойти в кровать."
what_now;
Hint	"Будьте осторожны." what_now;

HintTopic	going_to_bed "Как подготовиться ко сну?..";

Hint	"Монастырь - опасное место." going_to_bed;
Hint	"Некоторые предосторожности могут оказаться не лишними." going_to_bed;
Hint	"На вашей двери нет замка, но, возможно, вы сможете подпереть её чем-нибудь."
going_to_bed;
Hint	"Чем-нибудь тяжёлым." going_to_bed;
Hint	"Вроде стола." going_to_bed;
Hint	"Или вы можете помолиться о защите." going_to_bed;
Hint	"Вы не любимец Бога, вам нужны посредники." going_to_bed;
Hint	"Например, Святой или Ангел." going_to_bed;
Hint	"Церковь - хорошее место, чтобы найти одного из них, но которого?"
going_to_bed;
Hint	"Зал для переговоров - тоже подходящее место." going_to_bed;

HintTopic	night_time "Незнакомцы в ночи...";
Hint	"Иногда вы можете что-то сделать." night_time;
Hint	"Иногда - нет." night_time;
Hint	"Возвращайтесь в кровать." night_time;

HintTopic	morning_lucca "Теперь здесь будет свет...";

Hint	"Новый день и новые проблемы." morning_lucca;
Hint	"Лука сбежал." morning_lucca;
Hint	"Или нет. Посмотрите на дыру в двери отопительной." morning_lucca;
Hint	"Снаружи?" morning_lucca;
Hint	"Что-то не так. Расследование может поставить всё на места." morning_lucca;

HintTopic	drogo_church_hint "С Дрого что-то не так?";

Hint	"Да." drogo_church_hint;
Hint	"Для начала, он безумен." drogo_church_hint;
Hint	"Но сейчас вы ничего не сможете с этим сделать." drogo_church_hint;
Hint	"Позже он доставит вам ещё достаточно проблем." drogo_church_hint;

HintTopic	riding_horse "Лошадь, лошадь, царство за лошадь...";

Hint	"Она не в лучшей форме, не правда ли?" riding_horse;
Hint	"Ей нужна еда." riding_horse;
Hint	"И дисциплина." riding_horse;
Hint	"Вы можете побить её для послушания." riding_horse;
Hint	"Физически или духовно." riding_horse;
Hint	"Отведите её к воротам и оседлайте." riding_horse;

HintTopic	at_the_river "Что делать на реке?";

Hint	"Осмотреться." at_the_river;
Hint	"Следы, по которым вы шли, оканчиваются здесь, и, на первый взгляд, выглядят 
не очень симпатично." at_the_river;
Hint	"Посмотрите в реке." at_the_river;
Hint	"Что бы это могло быть?" at_the_river;
Hint	"Бедный Лука." at_the_river;
Hint	"Возможно, он хотел что-то сказать." at_the_river;
Hint	"Или написать (обыщите его)." at_the_river;
Hint	"Или вы просто не в себе." at_the_river;

HintTopic	drogo_wolves "Я посреди прожорливых зверей...";

Hint	"Волки голодны." drogo_wolves;
Hint	"Можете покормить их чем-нибудь, но они прожорливые." drogo_wolves;
Hint	"Если они смогут съесть вас обоих, они так и сделают." drogo_wolves;
Hint	"Вы должны найти убежище, прежде чем кормить их." drogo_wolves;
Hint	"Лучше где-нибудь повыше." drogo_wolves;
Hint	"На крыше конюшни." drogo_wolves;
Hint	"Или помолиться." drogo_wolves;

HintTopic	infirmary_cemetery "Что я могу сделать в лазарете и на кладбище?";

Hint	"Не так уж и много." infirmary_cemetery;
Hint	"Собрать немного улик." infirmary_cemetery;
Hint	"Лазарет совсем пустой. Чума действует быстро, но разве настолько?" infirmary_cemetery;
Hint	"И кладбище выглядит подозрительно пустым." infirmary_cemetery;

HintTopic	getting_in_cellar "Как попасть в подвал?";

Hint	"Вы не попадёте туда, по крайней мере до трёх часов." getting_in_cellar;
Hint	"Константин совершенно не в себе сейчас." getting_in_cellar;
Hint	"Его ключ должно быть несложно взять." getting_in_cellar;
Hint	"Если не разбудить его." getting_in_cellar;
Hint	"Вы всегда можете убить его, тогда он никогда не проснётся." getting_in_cellar;
Hint	"Или, если вы трусишка, можете просто убедиться, что он вас не слышит."
getting_in_cellar;
Hint	"Залив воск ему в уши." getting_in_cellar;
Hint	"Или вы можете просто взять его инструменты там, где он их оставил." getting_in_cellar;

HintTopic	once_in_cellar "Ужас великой тьмы упал на него...";

Hint	"Подвалы всегда опасны, не правда ли?" once_in_cellar;
Hint	"Кто-то идёт, вам лучше спрятаться." once_in_cellar;
Hint	"Некоторые места лучше других." once_in_cellar;
Hint	"Из них вы можете наброситься на него." once_in_cellar;
Hint	"Или опрокинуть его на лестницу." once_in_cellar;
Hint	"Положите свечку на супеньку, или молитесь, или просто нападите на него.";

HintTopic	after_cellar "Что теперь делать?";

Hint	"Итак, теперь у вас есть кочерга." after_cellar;
Hint	"Теперь вы можете достать то, о чём, возможно, уже забыли."
after_cellar;
Hint	"Камень в комнате Матвея." after_cellar;
Hint	"Идите, выкопайте его.";

HintTopic	end_game_evil "Конец";

Hint	"Это почти конец." end_game_evil;
Hint	"Если вы читаете это, значит вы были абсолютно порочны." end_game_evil;
Hint	"Были и другие способы пройти игру. Если вас еще не тошнит от неё,
попробуйте начать заново, и попробовать быть не таким злым." end_game_evil;
Hint	"Всё, что вам остаётся - сбросить бесполезное тело." end_game_evil;
Hint	"И вернуться туда, откуда пришли." end_game_evil;

HintTopic	end_game "Конец";
Hint	"Это почти конец." end_game;
Hint	"Подожди, пока Сесилья закончит свои разглагольствования." end_game;
Hint	"Затем поговори с ней." end_game;
Hint	"Куда уйти? Выбор за вами." end_game;


!TEMPORARY DEFINITIONS

Object	label;
Object	toggle;
Object	menu_style;
Object	sup_bar;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!ACCESSORY START STUFF
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!




!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!CLASSES, ATTRIBUTES, ETC.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Attribute legible;


Class	Room
with	name 'стен' 'комнат',
has		light;

Class	Outside_Room
has		light;

Class Simple_Door
  with
	description [;
		if (self hasnt open)
			"Дверь закрыта, но растрескавшаяся древесина не останавливает
			сквозняк, гуляющий по монастырю.";
		else
			"Дверь скрипит, покачиваясь на петлях от сквозняка.";
		],

  door_to
  [; if (location==self.side1_to) return self.side2_to; return self.side1_to;
  ],
  door_dir
  [; if (location==self.side1_to) return self.side2_dir; return self.side1_dir;
  ],
  side1_to 0,
  side2_to 0,
  side1_dir 0,
  side2_dir 0,
  opendesc "открыта",
  closeddesc "закрыта",
  statedesc [; if (self has open)   print (string) self.opendesc;
               if (self hasnt open) print (string) self.closeddesc; ],
  isconcealed 1, ! concealed by default
  describe
  [; if (self.isconcealed==1) rtrue;
     print "^";
     print (The) self, " "; self.statedesc(); ".";
  ],
  autoopen 1, ! automaticaly open by default
  before
  [; Enter: self.automat();
  		Push,Pull:
  			<<Open self>>;
  ],
  react_before
  [; Go: if (noun notin compass) rfalse;
         if ((noun.door_dir==self.side1_dir && location==self.side2_to)
          || (noun.door_dir==self.side2_dir && location==self.side1_to)
          || (location.(noun.door_dir)==self))
               self.automat();
  ],
  automat
  [; if (self.autoopen==0) return;
     if (self has locked) return; ! can't open if locked
     if (self has open) return;   ! nothing to do if open
     if (self hasnt open && self hasnt locked)
       {print "(открыв ", (cAcc) self, ")^"; give self open;}
  ],
  has door scenery openable female;


Class	Saint
with
		before [;
			Examine:
				if (noun == cecilia)
					"Ты не видишь её.";
				if (location ~= church or chancel)
					"Ты не видишь его.";
				else
					return false;
			PrayTo:
				return false;
			default:
				if (location ~= church or chancel)
					"Он не здесь.";
				else
					"Он слишком высоко.";
		],
		found_in [;
			return true;
		],
has		scenery proper;


Class Quotation;
Object PendingQuote; Object SeenQuote;
[ QuoteFrom q;
  if (~~(q ofclass Quotation)) "*** Oops! Not a quotation. ***";
  if (q notin PendingQuote or SeenQuote) move q to PendingQuote;
];
[ AfterPrompt q;
  q = child(PendingQuote);
  if (q) {
      move q to SeenQuote;
      q.show_quote();
  }
];

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!CONVERSATION TOPICS
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

[ TopicScope;
    switch(scope_stage)
    {
     1: rfalse;
     2: ScopeWithin(Topics);
	rtrue;
     3: "";
    }
];

Class 	Topic
! with 	short_name "этом",
 has 	proper;

Object	Topics;

Topic -> Tsnow "погоду"
with	name 'снеге' 'снег' 'холоде' 'холод' 'погоде' 'погоду' 'небе' 'небо' 'зиме' 'зиму';

Topic -> Tsaint_cuthbert "Кутберте"
with	name 'кутберте' 'кутберта';

Topic -> Tsaint_medard "Медарда"
with	name 'медарде' 'медарда';

Topic -> Tsaint_francis "Франциска"
with	name 'франциске' 'франциска';

Topic -> Tsaint_drausinus "Драусина"
with	pname 'драусине' 'драусина';

Topic -> Tmonastery "монастырь"
with	name 'монастыре' 'монастырь';

Topic -> Tchurch "церковь"
with	name 'церковь' 'церкви' 'часовня' 'часовню';

Topic -> Tcalefactory "отопительную"
with	name 'отопительной' 'отопительную';

Topic -> Tbelltower "башню"
with	name 'колокол' 'колоколе' 'башня' 'башне' 'колокольн' 'колокольне';

Topic -> Tinfirmary "лазарет"
with	name 'лазарет' 'лазарете';

Topic -> Tdormitory "дортуар"
with	name 'дортуар' 'дортуаре' 'келью' 'келье';

Topic -> Tcellar "подвал"
with	name 'подвал' 'подвале';

Topic -> Tlocutory "зал"
with	name 'зал' 'зале';

Topic -> Tfood "еду"
with	name 'еду' 'еде' 'голод' 'голоде' 'сыр' 'сыре' 'хлеб' 'хлебе';

Topic -> Tsleep "сон"
with	name 'сон' 'усталость' 'усталости' 'отдых' 'отдыхе' 'кроват' 'кровати';

Topic -> Tplague "чуму"
with	name 'чуму' 'чуме' 'болезнь' 'болезни' 'больных';

Topic -> Trovato "Ровато"
with	name 'город' 'городе' 'ровато' 'деревне' 'деревню' 'прихожанах' 'прихожан';

Topic -> Tgate "ворота"
with	name 'ворота' 'воротах' 'закрытии' 'закрытых';

Topic -> Tsin "грехи"
with	name 'грехе' 'грех' 'зле' 'зло';

Topic -> Tdevil "дьявола"
with	name 'дьявола' 'дьяволе' 'люцифера' 'люцифере' 'сатану' 'сатане';

Topic -> Tyourself "себя"
with	name 'мне' 'меня' 'себя' 'отца' 'отце';

Topic -> Tcecilia "девушку"
with	name 'девушку' 'девушке' 'женщину' 'женщине' 'сесилье' 'сесилии' 'сесилью' 'гостью' 'гостье' 'незнакомку' 'незнакомке';

Topic -> Tdrogo "Дрого"
with	name 'дрого';

Topic -> Tignatius "Игната"
with	pname 'игната' 'игнате';

Topic -> Tconstantin "Константина"
with	pname 'константина' 'константине';

Topic -> Tmatteo "Матвей"
with	name 'матвея' 'матвее';

Topic -> Tlucca "Луку"
with	pname 'луке' 'луку';

Topic -> Thimself "него самого"
with	name 'нём' 'него';

Topic -> Therself "неё"
with	name 'ней' 'неё';

Topic -> Tgod "бога"
with	name 'боге' 'бога' 'религию' 'религии' 'господе' 'господа';

Topic -> Tprayer "молитву"
with	name 'молитве' 'молитву' 'молении' 'моление' 'вечерню' 'вечерне' 'службу' 'службе';

Class	NPC
has		animate;

Class	Brother
with	name 'брат' 'мужчин',
has		proper male animate container transparent;

Class	Drogo
class	Brother
with	name 'дрого',
		talking_garden 0,
		talking_chancel 0,
		talking_refectory 0,
		talking_tower 0,
		visitor_told 0,
		before [;
			Listen:
				switch(time_shadow.current_time){
					default:
					print_ret (string) random("@<<Сделай это! - выкрикивает он в 
					сторону. - Нет, сам это делай!@>>", "@<<Отче наш, иже еси на
					небесех...@>>", "@<<Радуйся, Благодатная Мария, Господь с
					тобою@>>.", "@<<Ты хочешь это сделать? - спрашивает он. -
					Конечно. А он будет смотреть?@>> - Дрого замолкает.
					@<<Нет, я обещаю, нет@>>.");
			}
			TalkTo:
				switch(time_shadow.current_time) {
				0:
				switch((self.talking_refectory)++) {
				0:
				QuoteFrom(ecclesiastes10_13);
				"@<<Как ты себя чувствуешь, брат?@>>
				^^@<<О, я в полном порядке. На самом деле, я чувствую себя будто
				птица, которая ползает под землёй@>>.";
				1:
				"@<<Почему ты царапаешь стол, брат Дрого?@>> - спрашиваешь ты.
				^^@<<Чтобы добраться до середины, конечно@>>, - отвечает он, глядя на
				тебя как на сумасшедшего.";
				2:
				"@<<И почему ты хочешь добраться до середины?@>>
				^^@<<Потому что оттуда гораздо ближе до низа@>>.";
				3:
				"@<<А зачем тебе низ?@>>
				^^@<<Хмм. - он задумчиво всматривается в получившееся углубление. - 
				Это хороший вопрос. Процарапаю - посмотрю@>>.";
				default:
				"@<<Пожалуйста, отец, - бормочет он, не поднимая глаз. -
				Это очень важно@>>.";
				}
				1:
				switch((self.talking_tower)++) {
				0:
					if (brothers_tower.murder_conversation >= 2)
						"@<<Почему они думают, что это сделал Лука?@>> - спрашиваешь ты.
						^^@<<Потому что это он сделал. - отвечает он сконфуженно. - почему
						ещё думают такие вещи?@>>
						^^@<<Я имею в виду, откуда вы узнали, что это сделал он?@>>
						^^@<<Ну так бы и спрашивал, отец, - Он продолжает. - Когда мы
						сюда пришли, брат Лука уже был здесь, причитая: @<<Прости, прости@>>.";
					else
						"@<<Что с Лукой?@>>
						^^@<<Он убийца, без сомнений@>>.";
				1:
					"@<<Что случилось, Дрого?@>> - спрашиваешь ты.
					^^@<<Ну, мы видели, как Матвей хотел летать, но Бог сказал:
					@<<Нет, Матвей, летают только птицы. Ты не птица и даже не думай
					ей стать, - Дрого усмехается. - Матвей был так расстроен этим,
					вы знаете, каким он бывает иногда. Похоже, он думал, что Бог
					сошёл с ума, и пытался взлететь сам. Вот Лука ему и помог@>>.";
				default:
					if (brothers_tower in belltower_bottom)
					"@<<Тсс, - шипит он, прикладывая палец к губам. - Это самая
					забавная сатира из всех, что я видел@>>.";
					else
					"Дрого ловит невидимую муху, игнорируя тебя.";
				}
				3:
					if (location ~= chancel or garden)
					"@<<Тише, отец. Скоро будет много времени для вопросов и
					ответов@>>.";
					if (location == chancel)
					switch((self.talking_chancel)++) {
					0:
					"@<<Что ты сделал, Дрого?@>> - спрашиваешь ты. Кровь отливает от
					лица.
					^^Он будто не слышит тебя. @<<Это так прекрасно. Матвей умер за
					наши грехи как Иисус. Он тоже заслужил распятие@>>.";
					1:
					"@<<Матвей не Иисус, Дрого, - говоришь ты как можно спокойнее -
					Ты ведь знаешь это, правда?@>>
					^^Его взгляд затуманивается на мгновение. @<<Я знаю это, отец, -
					он выплёвывает это слово. - Матвей лучше. Велика заслуга - умереть,
					если через три дня вернёшься обратно. Матвей умер по-настоящему.
					Он попал в ад за наши грехи, и он не вернётся, как Иисус@>>.";
					default:
					"Он молча смотрит на Матвея, с благоговейным трепетом в глазах.";
					}

					if (location == garden && self.talking_garden == 0) {
					self.talking_garden = 1;
					"@<<Что ты делаешь, Дрого?@>> -  спрашиваешь ты, боясь услышать ответ.
					^^@<<Матвею чего-то не хватает. Чего-то ещё, - говорит он, возвращаясь
					обратно к зарослям терновника. - Ты увидишь, это будет потрясающе@>>.";
					}
					else
					"@<<Тише, отец. Мне нужно найти идеальный@>>.";

			}
		],
		life [;
			Order:
				switch(time_shadow.current_time) {
					default:
					"@<<Пожалуйста, отец, - выдыхает он. - Это очень важно@>>.";
					}

			Ask,Tell:
				switch(second) {
				'человеке', 'человечестве', 'людях', 'людей', 'человечности', 'человечность':
					"@<<Слабые, грязные твари, - говорит он, глядя прямо на тебя. - Не
					то, что мои друзья@>>. Он отворачивается: @<<Совсем не то, что мои друзья@>>.";
				'кошке', 'кошку', 'коте', 'кота':
					"@<<Я ничего не говорил@>>, - его голос слегка дрожит.";
				'лошади', 'лошадь', 'кобылу', 'кобыле':
					"@<<Она грязная и больная. Жестокость - единственное, что она
					понимает.@>>";
				'терновнике', 'терновник','заросли', 'зарослях', 'кустах', 'шипах', 'венок', 'венке', 'колючках':
					"@<<Увидишь, это будет прекрасно@>>.";
				'волке', 'волка', 'вожаке', 'вожака', 'собаках', 'собак', 'стае', 'стаю', 'рёв', 'глаза', 'глазах', 'силуэтах':
					"@<<Мои дорогие друзья. Намного лучше людей@>>.";
				'царапинах', 'царапины', 'стол', 'столе', 'поверхности', 'поверхность':
				"@<<Почему ты царапаешь стол, брат Дрого?@>> - спрашиваешь ты.
				^^@<<Чтобы добраться до середины, конечно@>>, - отвечает он, глядя на
				тебя как на сумасшедшего.";
				'середину', 'середине':
				"@<<И почему ты хочешь добраться до середины?@>>
				^^@<<Потому что оттуда гораздо ближе до низа@>>.";
				'низ', 'низе':
				"@<<А зачем тебе низ?@>>
				^^@<<Хмм. - он задумчиво уставляется на получившееся углубление. - 
				Это хороший вопрос. Процарапаю - посмотрю@>>.";
				'сумасшествии', 'сумасшествие', 'безумии', 'безумие', 'дрого', 'нём':
				QuoteFrom(ecclesiastes10_13);
				"@<<Как ты себя чувствуешь, брат?@>>
				^^@<<О, я в полном порядке. На самом деле, я чувствую себя будто
				птица, которая ползает под землёй@>>.";
				'откуда', 'кто', 'сказал', 'них':
					"@<<Кто? Кто сказал, что она здесь?@>>
					^^Взгляд Дрого застывает на минуту, он покачивается из стороны
					в сторону. Затем поворачивается, и озадаченно смотрит на тебя:
					@<<Кто? Ты, конечно@>>.";
				'убийство', 'убийстве', 'случай', 'случае', 'убийцу', 'убийце', 'смерти', 'смерть', 'труп', 'трупе', 'матвее',
				'матвея', 'мёртвеце':
					"@<<Что случилось, Дрого?@>> - спрашиваешь ты.
					^^@<<Ну, мы видели, как Матвей хотел летать, но Бог сказал:
					@<<Нет, Матвей, летают только птицы. Ты не птица и даже не думай
					ей стать, - Дрого усмехается. - Матвей был так расстроен этим.
					Вы знаете, каким он бывает иногда. Похоже, он думал, что Бог
					сошёл с ума, и пытался взлететь сам. Вот Лука ему и помог.@>>";
				'луку', 'луке':
					if (brothers_tower.murder_conversation >= 2)
						"@<<Почему они думают, что это сделал Лука?@>> - спрашиваешь ты.
						^^@<<Потому что это он сделал. - отвечает он сконфуженно. - почему
						ещё думают подобные вещи?@>>
						^^@<<Я имею в виду, откуда вы узнали, что это сделал он?@>>
						^^@<<Ну так бы и спрашивал, отец, - Он продолжает. - Когда мы
						сюда пришли, брат Лука уже был здесь, причитая: @<<Прости, прости@>>.";
					else
						"@<<Что с Лукой?@>>
						^^@<<Он убийца, без сомнений@>>.";
				'секрет', 'секрете', 'секретах', 'секреты':
					"@<<Какие секреты, Дрого?@>>
					^^@<<Хорошие секреты. Такие, что ты бы умер, чтобы их узнать.
					Или такие, что ты бы умер, если бы их узнал. Я не могу удержать
					их, не согнувшись@>>.";
				'лице', 'лицо', 'встревоженности', 'встревоженность':
					"@<<Как он выглядел?@>>
					^^Дрого закрывает один глаз, и кривит лицо, изображая ужас: @<<Вот
					так: @<<Ах, Матвей@>>, - восклицает он, махая руками
					перед собой@>>.";
				'друзьях', 'друзей', 'играх', 'игру', 'игре':
						"@<<Какие друзья, Дрого?@>>
						^^@<<Ох, тебе они не понравятся, - он улыбается, его зубы
						сверкают как ряд бриллиантов. - Но ты, без сомнения, понравишься им!@>>";
				Thimself:
				switch(time_shadow.current_time) {
				default:
				QuoteFrom(ecclesiastes10_13);
				"@<<Как ты себя чувствуешь, брат?@>>
				^^@<<О, я в полном порядке. На самом деле, я чувствую себя будто
				птица, которая ползает под землёй@>>.";
				}
				Tsnow:
				switch(time_shadow.current_time) {
						"@<<Бррр, - он оживлённо растирает плечи. - Не волнуйся, скоро нам
						всем будет теплее, чем когда-либо@>>.";
				}
				Tsaint_cuthbert:
				switch(time_shadow.current_time) {
				0,1:
						"@<<Такой красивый, - говорит он, смотря куда-то вдаль. - Отважный
						защитник нашей милой маленькой обители@>>.";
				3:
						"@<<Не очень внимательно он смотрит, не правда ли? - Дрого надувает
						губы в притворной озабоченности. - Наверно, просто плохая погода@>>.";
				default:
						"@<<Я думаю, он позвал к себе личинок, - Дрого хмурится. - Мне
						кажется, ему не нравится соседство с Матвеем@>>.";
				}
				Tsaint_medard:
				switch(time_shadow.current_time) {
						"@<<Он защищает нас от ярости Господа!@>> - смеётся Дрого, складывая
						руки щитом.";
				}
				Tsaint_francis:
				switch(time_shadow.current_time) {
						"@<<О, Франциск, - глаза Дрого светятся нежностью. - Он повелевает
						всеми ползучими, пресмыкающимися, удивительными чудовищами на земле!
						Я надеюсь стать на него похожим!@>>";
				}
				Tsaint_drausinus:
				switch(time_shadow.current_time) {
						"@<<Он защищает от темноты. Я предпочитаю держать свои глаза открытыми
						во сне@>>.";
				}
				Tmonastery:
				switch(time_shadow.current_time) {
				0,1:
				"@<<Я так рад возвращению! - говорит Дрого, кланяясь. - В лазарете
				начало вонять!@>>";
				3:
				"@<<Становится всё комфортнее, пока я здесь@>>.";
				default:
				"@<<Да, я снова начинаю чувствовать себя как дома@>>.";
				}
				Tchurch:
				switch(time_shadow.current_time) {
				0,1:
				"@<<Она страшная, - говорит Дрого. - Такая острая и злая@>>";
				3:
				"@<<Она успокаивается. Она осознаёт, что её место здесь, на Земле@>>.";
				default:
				"@<<Не беспокойся, я сделаю её уютной и дружелюбной@>>.";
				}
				Tcalefactory:
				switch(time_shadow.current_time) {
				1:
				"@<<Счастливчик Лука! - восклицает Дрого. - Ему досталось
				тепло, а мы остались в холоде. Может, я тоже кого-нибудь
				убью!@>> Он улыбается, но не так весело, как хотелось бы.";
				default:
				"@<<Я не понимаю, - сказал Дрого не поднимая глаз. - Если таков Ад, почему же мы
				так рвемся к Небесам?@>>";
				}
				Tbelltower:
				switch(time_shadow.current_time) {
				0:
				"@<<Отсюда можно увидеть всех друзей@>>.";
				default:
				"@<<Матвей всегда говорил, что чувствует как летит, когда дует ветер@>>.";
				}
				Tdormitory:
				switch(time_shadow.current_time) {
				"@<<Потрясающе, не правда ли? - спрашивает он. - У каждого своя келья;
				никаких спящих рядом лунатиков. Хотя, мне кажется, рядом с Игнатом спит
				один@>> - он подмигивает.";
				}
				Tinfirmary:
				switch(time_shadow.current_time) {
				"@<<Фу, омерзительно! - он высовывает язык. - Здесь намного лучше@>>.";
				}
				Tcellar:
				switch(time_shadow.current_time) {
				"@<<Оох, там внизу темно! - он притягивает тебя поближе. - Темнота
				скрывает вещи лучше чем свет@>>.";
				}
				Tlocutory:
				switch(time_shadow.current_time) {
				}
				Tfood:
					if (cecilia_food hasnt moved)
					"@<<Ты, случайно, не знаешь, осталась ли здесь какая-нибудь
					еда?@>>
					^^@<<В серванте было что-то, когда я смотрел в последний раз@>> -
					отвечает он, не поднимая головы.";
					else
					"@<<Ты голоден, брат?@>>
					^^@<<Нет, - отвечает он. - Пусть животные едят. Любовь Господа
					придаёт мне силы@>>. Его голос поднимается до пронзительного
					фальцета, и он уставляется в потолок.";
				Tsleep:
				switch(time_shadow.current_time) {
				0:
				"@<<Я не могу сейчас спать! - говорит он с нарастающей яростью.
				- Эта важная работа должна быть закончена!@>> - он продолжает
				царапать стол.";
				1:
				"@<<Да, - говорит он, потягиваясь. - Я думаю, сейчас самое время@>>.";
				default:
				"@<<У нас осталось совсем немного времени! Я не хочу тратить его
				на сон@>>.";
				}
				Tplague:
				switch(time_shadow.current_time) {
				0,1:
				"@<<Я рад, что она проникла в монастырь! Иначе я до сих пор лежал бы в
				лазарете@>>.";
				default:
				"@<<В последнее время здесь стало довольно мило, не правда ли? Обычно люди такие 
				спокойные и скучные@>>.";
				}
				Trovato:
				switch(time_shadow.current_time) {
				"@<<Я очень давно не видел его. Держу пари, сейчас оно симпатичнее@>>.";
				}
				Tgate:
				switch(time_shadow.current_time) {
				"@<<Я хотел, чтобы ты оставил их открытыми, тогда сюда пришло бы так много
				людей, с которыми можно было бы играть@>>.";
				}
				Tsin:
				switch(time_shadow.current_time) {
				"@<<Весело, правда?@>>";
				}
				Tdevil:
				switch(time_shadow.current_time) {
				"@<<Они говорят, что он повсюду...@>> - его голос обрывается, а расширившиеся
				от ужаса глаза таращатся на что-то позади тебя. Ты оборачиваешься - ничего.
				^^@<<Просто развлекаюсь с тобой, отец, - он смеётся.";
				}
				Tyourself:
				switch(time_shadow.current_time) {
				"@<<Ты удивительный, - взвизгивает Дрого, обнимая тебя. - Если бы только
				мы все были такими же старыми и опухшими!@>>";
				}
				Tcecilia:
					if (self.visitor_told == false) {
						self.visitor_told = true;
						!"@<<Ты знаешь, что у нас гостья, брат Дрого?@>>
						!^^@<<Ну конечно, отец. А ты разве нет?@>>";
						"@<<У нас гостья, брат Дрого. Здорово, правда?@>>
						^^@<<Да. Они говорили мне, что она здесь, - затем, впервые за долгое
						время, его взгляд встречается с твоим. - Знаешь, она собирается
						всё здесь изменить?@>>.";
					} else {
						"@<<Как она собирается всё изменить?@>> - спрашиваешь ты.
						^^@<<Как собирается, так и изменит@>>.";
					}
				Tdrogo:
				switch(time_shadow.current_time) {
				default:
				QuoteFrom(ecclesiastes10_13);
				"@<<Как ты себя чувствуешь, брат?@>>
				^^@<<О, я в полном порядке. На самом деле, я чувствую себя будто
				птица, которая ползает под землёй@>>.";
				}
				Tignatius:
				switch(time_shadow.current_time) {
				0:
				"@<<Он пугает меня, - Дрого преувеличено дрожит. - Постоянно смотрит
				своим глазом@>>.";
				1:
				"@<<Когда Игнат пришёл сюда?@>>
				^^@<<Сразу после меня. Ты, наверно, видел его лицо - оно было
				взволнованым@>>.";
				default:
				"Дрого жмурит один глаз и перекашивает лицо: @<<Что с ним?@>>";
				}
				Tconstantin:
				switch(time_shadow.current_time) {
				0:
					"@<<Он поймал нам немного еды, - он корчит недовольную гримасу. -
					Я не хочу, чтобы он это делал. Мои друзья тоже должны есть@>>.";
				1:
					"@<<Почему Константин такой злой?@>>
					^^@<<Потому что это Константин, - он хватает тебя за воротник, и подтягивает
					поближе. - У него есть секреты, которые ранят его@>>.";
				default:
				"@<<Он становиться таким милым. Чума его красит@>>.";
				}
				Tmatteo:
				if (location == chancel)
					<<TalkTo self>>;
				else
				switch(time_shadow.current_time) {
					0:
					"@<<Вечно шпионит! - восклицает он. - Никогда не даёт нам с друзьями
					играть в саду@>>";
					1:
					"@<<Что случилось, Дрого?@>> - спрашиваешь ты.
					^^@<<Ну, мы видели, как Матвей хотел летать, но Бог сказал:
					@<<Нет, Матвей, летают только птицы. Ты не птица и даже не думай
					ей стать, - Дрого усмехается. - Матвей был так расстроен этим,
					Вы знаете, каким он бывает иногда. Похоже, он думал, что Бог
					сошёл с ума, и пытался взлететь сам. Вот Лука ему и помог.@>>";
					default:
					"@<<Я надеюсь, он наслаждается тёплой погодой. В аду всегда
					прекрасное время года@>>.";

				}
				Tlucca:
				switch(time_shadow.current_time) {
				0:
				"@<<Как дитя, - Дрого пускает фальшивую слезу. - Постоянно плачет@>>.";
				1:
					if (lucca_behind_door in outside_calefactory)
						"@<<Счастливчик Лука! - восклицает Дрого. - Ему досталось
						тепло, а мы остались в холоде. Может, я тоже кого-нибудь
						убью!@>> Он улыбается, но не так весело, как хотелось бы.";
					if (brothers_tower.murder_conversation >= 2)
						"@<<Почему они думают, что это сделал Лука?@>> - спрашиваешь ты.
						^^@<<Потому что это он сделал. - отвечает он сконфуженно. - почему
						ещё думают подобные вещи?@>>
						^^@<<Я имею в виду, откуда вы узнали, что это сделал он?@>>
						^^@<<Ну так бы и спрашивал, отец, - Он продолжает. - Когда мы
						сюда пришли, брат Лука уже был здесь, причитая: @<<Прости, прости@>>.";
					else
						"@<<Что с Лукой?@>>
						^^@<<Он убийца, без сомнений@>>.";
				3:
					"@<<Сбежал? - переспрашивает он, почёсывая шею. - Нет, исключено.
					Он ещё совсем дитя@>>.";
				default:
					"@<<Мёртвый, говоришь? - он задумывается. - Наконец-то, у Матвея
					появится кто-то, кто составит ему компанию!@>>";
				}
				Tgod:
				switch(time_shadow.current_time) {
				default:
				"@<<Я скучаю по Нему, - Дрого опускает плечи. - Я больше
				никогда Его не услышу. Здесь слишком шумно@>>, - он стучит
				костяшками пальцев по своей голове.";
				}
				Tprayer:
				switch(time_shadow.current_time) {
				"@<<Отче наш, иже еси на небеси, якоже и на земли, да святится имя Твое...@>> -
				он продолжает некоторое время.";
				}
				default:
				switch(time_shadow.current_time) {
				0:
				"@<<Пожалуйста, отец, - он не поднимает голову от стола. - Это очень
				важно@>>.";
				1:
				if (location == belltower_bottom)
				"@<<Тсс, - шипит он, прикладывая палец к губам. - Это самая забавная
				сатира из всех, что я когда-либо видел@>>.";
				else
				"@<<Что это было?@>> - спрашивает он, озадаченно глядя на тебя.
				^Ты повторяешь. Он нетерпеливо отмахивается: @<<Не сейчас@>>, -
				выдыхает он, погружаясь в свои мысли.";
				default:
 							"@<<Что это было?@>> - спрашивает он, озадаченно глядя на тебя.
							^^Ты повторяешь. Он нетерпеливо отмахивается: @<<Не сейчас@>>, -
							выдыхает он, погружаясь в свои мысли.";
				}
				}
		],
has	male	;

Class	Constantin
class	Brother
with	name 'константин',
		talking_hare 0,
		talking_lucca 0,
		talking_door 0,
		before [;
			TalkTo:
				switch(time_shadow.current_time) {
				0:
				switch((self.talking_hare)++) {
				0:
				"@<<Что у тебя там, Константин?@>> - спрашиваешь ты, наклоняясь вперёд.
				^^@<<Кое-что поесть@>>, - бормочет он.";
				1:
				"@<<В подвале не осталось еды?@>> - он слегка отстраняется.
				^^@<<Нет. В подвале пусто@>>.";
				2:
				"@<<Ладно, не забудь сказать нам, когда закончишь. Мы все голодны@>>.
				^^@<<Скажу@>>.";
				default:
				"Недовольное ворчание - это всё, что ты слышишь.";
				}

				1:
				if (location == belltower_bottom)
							"@<<Заткнись, отец@>>, - рычит он. Мгновение кажется, что он
							собирается извиниться, но он этого не делает.";
				else
				switch((self.talking_lucca)++) {
				0:
							"@<<Ты действительно веришь, что Лука мог это сделать?@>> - спрашиваешь ты.
							^^@<<Конечно верю, - отвечает он зло. Ярость снова наполняет его глаза. -
							Мы нашли его рядом с телом, бормочущим: @<<Прости, прости@>>, - снова и снова@>>.";
				1:
							"@<<Но это ведь Лука@>>, - возражаешь ты.
							^^@<<Я знаю! - раздражённо восклицает он. - Но теперь он изменился. Мы должны
							запереть его после всего этого@>>.";
				default:
							"@<<Уйди, отец, - рычит он. - Я хочу спать@>>.";
				}
				3:
				switch((self.talking_door)++) {
				0:
							"@<<Почему ты думаешь, что он сбежал?@>> - спрашиваешь ты, пробегая по
							двери рукой.
							^^@<<Потому что дверь сломана, идиот! - кричит он. Его лицо пылает. - 
							Думаешь, кто-нибудь ещё хочет, чтобы убийца расхаживал по монастырю?@>>";
				1:
							"@<<Но...@>>, - пытаешься вставить ты.
							^^@<<Просто заткнись, отец, и дай мне работать@>>.";
				default:
							"@<<Я пытаюсь работать@>>, - рычит он.";
				}
				default:
							"Он бормочет что-то: искажённые слова выплёвываются вместе со рвотой.
							Кажется, он с трудом осознаёт, что происходит вокруг.";
			}
		],
		life [;
			Order:
				switch(time_shadow.current_time) {
					0:
							"@<<Пожалуйста, отец, - он свежует зайца. - Это гораздо
							важнее@>>.";
					1:
						if (location ~= constantin_room)
							"@<<Я занят@>>, - рявкает он.";
						else
							"@<<Я пытаюсь заснуть, отец@>>, - рычит он.";
					3:
						if (location ~= outside_calefactory)
							"@<<Я пытаюсь работать!@>>";
						else
							"@<<У меня много дел, отец@>>, - рычит он.";
					default:
							"Булькающие рыдания - это всё, что ты слышишь в ответ.";
					}

			Ask,Tell:
				if (location == belltower_bottom)
				"@<<Заткнись, отец@>>, - рявкает он. Кажется, что он собирается
				извиниться, но не делает этого.";
				if (time_shadow.current_time > 3)
				"Он бормочет что-то: искажённые слова выплёвываются вместе со рвотой.
				Кажется, он с трудом осознаёт, что происходит вокруг.";
				else
				switch(second) {
				'замок', 'замке', 'ключ', 'ключе':
					if (location == outside_calefactory)
				"@<<Лука полностью выломал его@>>.";
					else
				"@<<Предосторожность. Я не хочу, чтобы кто-нибудь крал еду@>>.";
				'зайца', 'зайце', 'кролике', 'кролика', 'нож', 'ноже', 'добычу', 'добыче':
				if (time_shadow.current_time == 0) {
					QuoteFrom(isaiah1_15);
				"@<<О, я вижу, ты нашёл нам кое-что поесть@>>.
				^^Константин поднимает рассеянный взгляд: @<<Что? А, да. Кое-что
				поесть@>>, - бормочет он, возвращаясь к своей добыче.";
				}
				else
				"@<<Можете забрать его. Я не смогу проглотить больше ни кусочка@>>.";
				Thimself:
				switch(time_shadow.current_time) {
				0:
				"@<<О, я в порядке@>>, - он слегка кашляет, сотрясаясь при этом всем телом.";
				1:
				"@<<Я устал. Оставь меня одного@>>, - Кашель сотрясает его тело, и
				маленькие капельки крови вылетают на воротник.";
				3:
				"@<<Я был в порядке, - он кашляет. - Пока кое-кто не начал отвлекать
				меня от работы@>>.";
				}
				Tsnow:
				switch(time_shadow.current_time) {
				0:
				"@<<Вот из-за чего я в снегу, - он триумфально поднимает зайца. -
				Знаешь, как долго я его ловил?@>>";
				1:
				"@<<Снег набился в одежду, пока я тащил Луку в отопительную@>>, - он
				хмурится@>>.";
				3:
				"Он трясётся почти бесконтрольно. @<<Чудесно, - говорит он, кашляя. -
				Мне недолго осталось@>>.";
				}
				Tsaint_cuthbert:
				switch(time_shadow.current_time) {
				0,1:
				"@<<Он делает нам много хорошего. Спасает от чумы, и присматривает за этим местом@>>, -
				Константин возвращается к зайцу.";
				3:
				"@<<Похоже, Кутберт меняется@>>, - говоришь ты.
				^^@<<Тебе кажется, отец@>>.";
				default:
				"@<<Святой Кутберт гниёт!@>> - плачешь ты.
				^^@<<Осторожнее, отец. Ты становишься похож на Дрого@>>.";
				}
				Tsaint_medard:
				switch(time_shadow.current_time) {
				"@<<Ты в порядке, отец? - смотрит он на тебя удивлённо. - Это святой, покровитель
				погоды@>>.";
				}
				Tsaint_francis:
				switch(time_shadow.current_time) {
				"@<<Ты в порядке, отец? - смотрит он на тебя удивлённо. - Это святой, покровитель
				животных@>>.";
				}
				Tsaint_drausinus:
				switch(time_shadow.current_time) {
				"@<<Мне не нужна защита, - он дотрагивается до лезвия ножа. - Если кто-нибудь
				попытается что-нибудь...@>>";
				}
				Tmonastery:
				switch(time_shadow.current_time) {
				0,1:
				"@<<Здесь становится мрачно, отец. Это место для жизни, а не для смерти.
				По крайней мере, раньше так было@>>.";
				default:
				"@<<До меня начало доходить, - говорит он, хватаясь за твою рясу. - Нам нужны
				новые люди!@>>";
				}
				Tchurch:
				switch(time_shadow.current_time) {
				"@<<В ней жутко без братьев. Там только Игнат. Всегда Игнат@>>.";
				}
				Tcalefactory:
				switch(time_shadow.current_time) {
				1:
				"@<<Не бойся, отец. Мы все будем в безопасности, пока он там@>>";
				default:
				"@<<Внутри слишком жарко. Снаружи слишком холодно. Я ненавижу зиму@>>.";
				}
				Tbelltower:
				switch(time_shadow.current_time) {
				0:
				"@<<Я рад, что Матвей звонит в колокол. Там слишком высоко для меня@>>.";
				default:
				"@<<Я знаю, я должен был сделать эти ограждения выше@>>.";
				}
				Tinfirmary:
				"@<<Так трудно содержать его. Так много тел@>>.";
				Tdormitory:
				switch(time_shadow.current_time) {
				"@<<Это единственное место, которое никогда не бывает пустым@>>.";
				}
				Tcellar:
				switch(time_shadow.current_time) {
				"@<<Что? - он вздрагивает. - Я сниму замок, когда будет время. Там всё равно больше
				нет еды. - Его глаза темнеют, когда встречаются с твоими. - Так что нет смысла
				ходить туда@>>.";
				}
				Tlocutory:
				switch(time_shadow.current_time) {
				}
				Tfood:
				switch(time_shadow.current_time) {
				0,1:
				QuoteFrom(isaiah1_15);
				"@<<Я не думаю, что здесь осталась еда. - он поднимает окровавленного зайца. - Так
				что, я решил поохотиться@>>.";
				default:
				"@<<Я не могу ничего есть. Я оставил зайца в своей комнате@>>.";
				}
				Tsleep:
				switch(time_shadow.current_time) {
				0:
				"@<<После того, как закончу@>>, - говорит он, не поднимая глаз.";
				default:
				"@<<Будь осторожен, отец. Спать всегда рискованно@>>.";
				}
				Tplague:
				switch(time_shadow.current_time) {
				0,1:
				"@<<Она распространяется слишком быстро, - говорит он, почти виновато. - Я не
				могу сдержать её@>>.";
				default:
				"Константин закатывает рукав, демонстрируя широкий чёрный кровоподтёк и дюжины
				бубонов: @<<Я следующий@>>.";
				}
				Trovato:
				switch(time_shadow.current_time) {
				"@<<Ты сделал всё, что мог, отец. Ровато получило то, что заслужило@>>.";
				}
				Tgate:
				"@<<Должно быть, тебе непросто далось это решение@>>.";
				Tsin:
				switch(time_shadow.current_time) {
				0:
				"@<<Цена греха - смерть, а цена жизни - грех@>>, - говорит он, глядя на зайца.";
				default:
				"@<<Это неизбежно. Не принимай близко к сердцу@>>.";
				}
				Tdevil:
				switch(time_shadow.current_time) {
				0:
				"@<<Я слышал, что он может заставлять делать людей что-либо без их ведома@>>.
				^^Пока Константин говорит, его нож перемещается всё дальше от зайца, к его
				собственным пальцам. В тот момент, когда кажется, будто он вот-вот отсечёт
				кусок своего большого пальца, нож возвращается обратно к шее, и продолжает процесс.";
				default:
				"Он подтягивает тебя поближе, и ты впервые видишь, что он напуган. @<<Он здесь,
				знаешь? В наших сердцах, - его глаза блестят. - В наших умах@>>.";
				}
				Tyourself:
				switch(time_shadow.current_time) {
				"@<<Ты в порядке. Во всяком случае, был, пока не начал приставать с этими
				навязчивыми вопросами@>>.";
				}
				Tcecilia:
				switch(time_shadow.current_time) {
				0,1:
				"@<<Женщина, говоришь? - произносит он, расстилая постель. - Это может означать
				только неприятности@>>.";
				3:
				"@<<Я ей не верю. Она нечистая@>>.";
				}
				Tdrogo:
				switch(time_shadow.current_time) {
				0:
				"@<<Почему ты вернул его сюда? Он не подходит для жизни с нами@>>.";
				1:
				"@<<Присматривай за ним, отец, - говорит он убеждённо. - Он не такой послушный,
				каким кажется. Он опасен@>>.";
				3:
				if (drogo4 in garden)
				"@<<Дрого распял Матвея@>>, - произносишь ты ровно, безжизненно.
				^^@<<Проклятье, - он делает сильный удар молотком, и поворачивается к тебе. -
				Почему ты не выгнал его? - он мягко дотрагивается до молотка. - Ладно, передай
				ему, что я не гарантирую его сохранность, если будет здесь шататься@>>.";
				else
				"@<<Он возится с чем-то в церкви. Мне это не нравится@>>.";
				}
				Tignatius:
				switch(time_shadow.current_time) {
				0:
				"@<<Думаю, он в церкви, исповедуется в своих грехах, - он усмехается. - Думаю,
				он будет там всю ночь@>>.";
				default:
				"Кровь приливает к его щекам, он вспыливает: @<<Отстань, Отец@>>.";
				}
				Tconstantin:
				switch(time_shadow.current_time) {
				0:
				"@<<Ох, я в порядке@>>, - он слегка кашляет, сотрясаясь всем телом.";
				1:
				"@<<Я устал. Оставь меня в покое@>>, - Кашель сотрясает его тело, и
				маленькие капельки крови вылетают на его воротник.";
				3:
				"@<<Всё было прекрасно, - он кашляет. - Пока кое-кто не начал отвлекать
				меня, пока я пытался работать@>>.";
				}
				Tmatteo:
				switch(time_shadow.current_time) {
				0:
				"@<<Он такой странный в последнее время, - Константин прихлопывает
				воображаемую муху. - Он только и делает, что смотрит с колокольни@>>.";
				1,3:
				"@<<Проклятый Лука. Он будет гореть в аду за то, что сделал@>>.";
				}
				Tlucca:
				switch(time_shadow.current_time) {
				0:
				"@<<Я слышал, как он, плача, побежал в комнату Матвея, - говорит он.
				- чума ещё не сильно укоренилась в нём@>>.";
				}
				Tgod:
				switch(time_shadow.current_time) {
				0:
				"@<<Он ведь не может видеть всё, правда?@>>";
				1:
				"@<<Он покарает Луку за то, что он сделал@>>.";
				3:
				"@<<Чем мы его так разозлили?@>> - он почти плачет.";
				}
				Tprayer:
				switch(time_shadow.current_time) {
				"@<<Это всё, что мы оставили@>>.";
				}
				default:
				switch(time_shadow.current_time) {
				0:
				"Константин полностью поглощён своей добычей, и кажется, что
				он не слышит тебя.";
				1:
				"@<<Уйди, отец, - рычит он. - Я хочу спать@>>.";
				3:
				"@<<Я пытаюсь работать@>>, - рычит он.";
				}
				}
		],
has	male	;

Class	Ignatius
class	Brother
with	name  'игната' 'игнат' 'игнату' 'игнатом',
		talking_church 0,
		talking_bed 0,
		talking_calefactory 0,
		before [;
			TalkTo:
				switch(time_shadow.current_time) {
					0:
					switch((self.talking_church)++) {
					0:
					"@<<Как ты, Игнат? - спрашиваешь ты, кладя руку ему на плечо.
					^^Он вздрагивает, озираясь. Его красные глаза бегают и
					подёргиваются. @<<Ох, отец, ты напугал меня, - он трясёт
					головой. - Прости, что ты спросил?@>>";
					1:
					"@<<Я просто поинтересовался, как у тебя дела@>>.
					^^@<<А, замечательно, - он расслабляется, отворачиваясь обратно
					к свечам. - Просто замечательно@>>.";
					default:
					"@<<Тссс, отец, - он приставляет палец к губам. - Я пытаюсь
					молиться@>>.";
					}
					1:
					switch((self.talking_bed)++) {
					0:
					"@<<Ты веришь, что это сделал Лука?@>> - спрашиваешь ты.
					^^@<<Я не знаю, - отвечает он тихо. - Но лучше пока его запереть.
					Я никогда бы не подумал, что Лука может совершить подобное, но
					нынешние трудные времена делают из нас всех демонов@>>. Он
					многозначительно смотрит на тебя.";
					1:
					"@<<Что ты имеешь в виду?@>>
					^^На минуту он задумывается, глядя в потолок: @<<Только то, что
					в эти времена мы иногда можем обнаружить себя делающими такие вещи,
					которых никогда в себе не замечали@>>.";
					2:
					"@<<Например?@>>
					^^Он пожимает плечами: @<<Если ты не против, отец, - говорит он,
					расправляя постель. - Я бы не отказался немного поспать@>>.";
					default:
					"@<<Если ты не против, отец, - говорит он,
					расправляя постель. - Я бы не отказался немного поспать@>>.";
					}
					5,6,7,8:
					switch((self.talking_calefactory)++) {
					0:
					"@<<Что ты имеешь в виду?@>> - спрашиваешь ты, отступая к двери.
					^^Игнат смеётся холодным, мёртвым смехом: @<<Ты знаешь лучше, чем
					любой из нас, отец@>>, - он улыбается тебе.";
					1:
					"@<<Я не знаю, о чём ты говоришь@>>, - отвечаешь ты. Он близко.
					Слишком близко.
					^^@<<Ха, - Игнат подмигивает. Забавно, это ослепляет его на мгновение.
					- Конечно нет, отец, я просто шучу@>>.";
					2:
					"Ты выдавливаешь слабый, напряжённый смешок.
					^^Он только пялится.";
					}

					default:
					"Он просто пялится на тебя одним глазом. Второй подёргивается и
					смеётся.";
			}
		],

		life [;
			Order:
				switch(time_shadow.current_time) {
					0:
							"@<<Пожалуйста, отец, - говорит он. Я пытаюсь молиться@>>.";
					1:
						if (location ~= ignatius_room)
							"@<<Я занят!@>>";
						else
							"@<<Пожалуйста, отец, - говорит он устало. - Мне нужно поспать@>>.";
					default:
						"У него просто дёргается глаз.";
					}

			Ask,Tell:
				switch(second) {
				'жизни', 'жизнь', 'весне', 'весну':
					"@<<Я уверен, всё будет хорошо, брат Игнат. Весна наступит
					раньше, чем ты думаешь@>>.
					^^@<<Знаешь, отец, - он внимательно смотрит на тебя. -
					Ложь это грех@>>.";
				'свечи', 'свечах', 'огне', 'огонь', 'пламени', 'пламя', 'свече':
					QuoteFrom(psalms106_18);
					"@<<Красиво, правда?@>> - спрашиваешь ты, указывая на мерцающие
					огни.
					^^@<<Действительно. Будто Лик Божий@>>, - отвечает он, не отрывая
					взгляд ни на мгновение.";
				'молитве', 'молитву', 'моление', 'молении':
					"@<<О чём ты молишься, брат?@>> - спрашиваешь ты.
					^^@<<О том, чтобы дожить до весны, отец, - он замолкает. -
					У нас осталось очень мало еды@>>.";
				Thimself:
				switch(time_shadow.current_time) {
				0:
				"@<<Я удивился, встретив тебя здесь@>>.
				^^А, прекрасно, - он расслабляется, отворачиваясь обратно к свечам. -
				Просто прекрасно@>>.";
				default:
				"@<<Как ты себя чувствуешь, брат?@>>
				^^@<<Прекрасно@>>, - это всё, что он произносит.";
				}
				Tsnow:
				switch(time_shadow.current_time) {
				"@<<Он укрывает нас. В последнее время его очень много@>>.";
				}
				Tsaint_cuthbert:
				switch(time_shadow.current_time) {
				0,1:
				"@<<Такой чистый. Это настоящее счастье, что он с нами@>>.";
				3:
				"@<<Что происходит со Святым Кутбертом? - спрашиваешь ты.
				^^@<<Я не знаю, о чём ты говоришь, отец. Он прекрасно
				выглядит@>>.";
				default:
				"@<<Святой Кутберт разлагается!@>> - плачешь ты.
				^^@<<Тебе кажется, отец. Он выглядит как обычно@>>.";
				}
				Tsaint_medard:
				switch(time_shadow.current_time) {
				"@<<С тобой всё в порядке, отец? - он озабоченно смотрит на тебя. -
				Он покровитель погоды@>>.";
				}
				Tsaint_francis:
				switch(time_shadow.current_time) {
				"@<<С тобой всё в порядке, отец? - он озабоченно смотрит на тебя. -
				Он покровительствует животным@>>.";
				}
				Tsaint_drausinus:
				switch(time_shadow.current_time) {
				}
				Tmonastery:
				switch(time_shadow.current_time) {
				0:
				"@<<Тут сейчас такое запустение, - произносит Игнат, глядя на ряды
				опустевших скамей. - Не то, что в лазарете@>>.";
				default:
				"@<<Такое ощущение, что весь монастырь дал обет молчания, - он смотрит
				в землю. - Хотя, думаю, он действительно его дал@>>, - он усмехается.";
				}
				Tchurch:
				switch(time_shadow.current_time) {
				0:
				"@<<Свечи согревают мои руки, а церковь согревает моё сердце, - говорит
				он, кивая головой. - Холоду достаётся всё остальное@>>.";
				default:
				"@<<Она становится всё красивее со временем, - он замолкает. - Или,
				скорее, мы все со временем становимся уродливее@>>.";
				}
				Tcalefactory:
				switch(time_shadow.current_time) {
				1:
				"@<<Не беспокойся, отец. Там он будет в безопасности@>>.";
				default:
				"@<<Она напоминает мне восток, - его голос дрожит. - Я ненавидел восток@>>.";
				}
				Tbelltower:
				switch(time_shadow.current_time) {
				0:
				"@<<На ней сейчас Матвей. Он всегда там@>>.";
				default:
				"@<<Как горько, - он трясёт головой. - Если бы только ограждение было
				повыше@>>.";
				}
				Tinfirmary:
				switch(time_shadow.current_time) {
				0,1:
				"@<<Там осталось всего несколько живых, - он качает головой. - Но они
				долго не протянут, скорее всего, даже эту ночь@>>.";
				default:
				"@<<Они все мертвы, - он плачет? - абсолютно!@>> - восклицает он, вытаскивая
				соринку из глаза.";
				}
				Tdormitory:
				switch(time_shadow.current_time) {
				"@<<Там хорошо, только меня немного мучает клаустрофобия@>>.";
				}
				Tcellar:
				switch(time_shadow.current_time) {
				"@<<Я думаю, там ничего нет@>>.";
				}
				Tlocutory:
				switch(time_shadow.current_time) {
				}
				Tfood:
				switch(time_shadow.current_time) {
				"@<<Ты можешь поискать на кухне@>>.";
				}
				Tsleep:
				switch(time_shadow.current_time) {
				0:
				"@<<После того, как закончу молитву@>>";
				1:
				"@<<Да, думаю, нам всем не помешает отдохнуть@>>.";
				default:
				"@<<Я не устал@>>.";
				}
				Tplague:
				switch(time_shadow.current_time) {
				"@<<Бог прогневался. Европа падёт. Он проклял нас, наслав чуму, -
				бубнит он монотонным голосом.";
				}
				Trovato:
				switch(time_shadow.current_time) {
				"@<<Гадкое, отвратительное место. Не удивительно, что Господь
				наслал на него чуму@>>.";
				}
				Tgate:
				switch(time_shadow.current_time) {
				"@<<Хорошо, что ты закрыл ворота, отец. Я едва успеваю заботиться
				о наших больных@>>.";
				}
				Tsin:
				switch(time_shadow.current_time) {
				"Игнат поднимает глаза: @<<У Бога не очень длинные руки@>>.";
				}
				Tdevil:
				switch(time_shadow.current_time) {
				"@<<Он повсюду. Мир - это его танцплощадка@>>.";
				}
				Tyourself:
				switch(time_shadow.current_time) {
				"@<<Ты прекрасный священник, и замечательный настоятель. Мы счастливы,
				что ты у нас есть@>>.";
				}
				Tcecilia:
				switch(time_shadow.current_time) {
				1:
				"@<<Она настоящий ангел. Я уверен, что теперь наши дела наладятся@>>.";
				default:
				"@<<Слушай её, она нас всех спасёт@>>.";
				}
				Tdrogo:
				switch(time_shadow.current_time) {
				"@<<Он был таким послушным, когда я ухаживал за ним в лазарете. Теперь
				он стал другим. Темнее@>>.";
				}
				Tignatius:
				switch(time_shadow.current_time) {
				0:
				"@<<Я удивился, встретив тебя здесь@>>.
				^^А, прекрасно, - он расслабляется, отворачиваясь обратно к свечам. -
				Просто прекрасно@>>.";
				default:
				"@<<Как ты себя чувствуешь, брат?@>>
				^^@<<Прекрасно@>>, - это всё, что он произносит.";
				}
				Tconstantin:
				switch(time_shadow.current_time) {
				0:
				"@<<Он убирает тела из лазарета. Он работает очень быстро@>>.";
				1:
				"@<<Он такой разъярённый. Я уверен, он бы убил Луку, если бы я не
				заступился@>>.";
				default:
				"@<<Он болен, я знаю эти симптомы. Я чувствую, он долго не протянет@>>.";
				}
				Tmatteo:
				switch(time_shadow.current_time) {
				0:
				"@<<Он на колокольне, - Игнат зло сплёвывает. - Он всегда наблюдает
				оттуда@>>.";
				default:
				"@<<Бедный Матвей. Он был таким хорошим@>>, - произносит он с каменным
				лицом.";
				}
				Tlucca:
				switch(time_shadow.current_time) {
				0:
				"@<<Такой славный мальчишка. Думаю, ему трудно здесь@>>.";
				1:
				"@<<Чума всех нас изменила@>>.";
				default:
				"@<<Не волнуйся, отец. Он больше никого не убьёт@>>.";
				}
				Tgod:
				switch(time_shadow.current_time) {
				"@<<Он наблюдает, пристально@>>, - глаз Игната подёргивается.";
				}
				Tprayer:
				switch(time_shadow.current_time) {
				"@<<О чём ты молишься, брат?@>> - спрашиваешь ты.
				^^@<<О том, чтобы дожить до весны, отец, - он замолкает. - У нас
				осталось очень мало еды@>>.";
				}
				default:
				switch(time_shadow.current_time) {
				0:
					"@<<Тсс, отец, - он приставляет палец к губам. - Я пытаюсь
					молиться@>>.";
				1:
					"@<<Может тебе и всё равно, отец, - говорит он растягиваясь на
					своей кровати. - Но я собираюсь поспать@>>.";
				default:
					"Он просто пялится на тебя одним глазом. Второй подёргивается и
					смеётся.";
				}
				}
		],
has	male	;

Class	Lucca
class	Brother
with	name 'лук',
		before [;
			TalkTo:
				switch(time_shadow.current_time) {
				0:
				switch((self.stone_talking)++) {
				0:
				"@<<Что ты выкапываешь, Лука?@>> - спрашиваешь ты.
				^^@<<Матвей что-то спрятал. Я знаю только, что где-то здесь@>>.";
				1:
				"@<<Почему ты так думаешь?@>>
				^^Кровь капает с его пальцев. @<<Я слышал! - Лука всхлипывает. - Он скрёб
				здесь ночью@>>.";
				default:
				"@<<Оставь меня одного!@>> - воет он. Слёзы смешиваются с соплями,
				стекающими из его носа.";
				}
				1:
				if (location == outside_calefactory && matteo1.pushed == true)
				"@<<Оставь меня одного, ублюдок@>>, - он плюётся, его слова
				сотрясают дверь.";
				else
				switch((self.murder_talking)++) {
				0:
				"@<<Насчёт убийства, Лука...@>> - начинаешь ты.
				^^@<<Какого убийства?@>>";
				1:
				"@<<Ты знаешь, Лука. Матвея скинули с колокольни@>>.
				^^@<<Не может быть, - говорит Лука недоверчиво. - Он, должно быть,
				спрыгнул@>>.";
				2:
				"@<<Почему он спрыгнул?@>> - спрашиваешь ты.
				^^Долгое, тяжёлое молчание. @<<Потому что он был умён@>>.";
				3:
				"@<<И что же он понял?@>>
				^^@<<Просто, он знал, что здесь происходит, в монастыре@>>.";
				4:
				"@<<Что же здесь происходит?@>>
				^^Лука смеётся: @<<Если бы я это знал, наверно, спрыгнул бы тоже@>>.";
				5:
				"@<<Пожалуйста, отец, - он вздыхает. - Я просто хочу побыть один@>>.";
				}
			}
		],

		life [;
			Order:
				switch(time_shadow.current_time) {
					0:
						"@<<Пожалуйста, отец, - он всхлипывает. - Мне нужно это сделать@>>.";
					default:
						"Всхлипывания - единственное, что ты слышишь в ответ@>>.";
					}

			Ask,Tell:
				if (location == outside_calefactory && matteo1.pushed == true)
				"@<<Оставь меня одного, ублюдок@>>, - он плюётся, его слова
				сотрясают дверь.";
				else
				switch(second) {
				'камне', 'камень', 'плиту', 'плите', 'полу', 'пол', 'земле', 'рытье':
				"@<<Что ты выкапываешь, Лука?@>> - спрашиваешь ты.
				^^@<<Матвей кое-что спрятал. Я знаю только, что где-то здесь@>>.";
				'плаче', 'плач':
					"@<<Почему ты плачешь, брат Лука?@>> - спрашиваешь ты, осторожно
					кладя руку ему на плечо.
					^^Он тут же резко отстраняется: @<<Я боюсь, отец. У нас не осталось
					еды, здесь холодно, и нас самих осталась только горстка. Если мы
					уйдём сейчас, у нас может остаться шанс выжить@>>.
					^^@<<Это слишком опасное путешествие, Лука. Наше место здесь.
					Не бойся, Господь защитит нас@>>.
					^^Он только мрачно посмеивается в ответ.";
				'смехе', 'смех', 'мрачности':
					"@<<Почему ты смеёшься?@>> - спрашиваешь ты более строго, чем
					намеревался.
					^^@<<Разве ты не видишь, что Господь нас бросил? Мы одни@>>, - 
					вскидывается он. Его богохульство режет твои уши. Он бормочет
					что-то себе под нос.";
				'богохульстве', 'богохульство', 'бога', 'боге', 'господе', 'господа':
					"@<<Что? - начинаешь ты, стиснув зубы. - Что ты сказал?@>>
					^^@<<Ничего, отец@>>.
					^^@<<Что ты сказал?@>> - настаиваешь ты. Что происходит?
					^^@<<Ладно! Господь бросил нас точно так же, как и ты бросил Ровато!@>>";
				'страх', 'страхе', 'боязни', 'боязнь':
				"@<<Чего ты боишься?@>>
				^^@<<Тебя. Меня. Всех. Всего@>>, - отвечает он, в его голосе нарастает
				напряжение. Затем оно спадает: @<<Бога@>>. Слово соскакивает с его уст
				и выскальзывает за дверь.";
				'вине', 'вину':
				"@<<Почему ты чувствуешь вину, Лука?@>>
				^^@<<Потому что из-за моего промаха умер Матвей. Я как убийца.@>>";
				'промах', 'промахе':
				"@<<Какого промаха, Лука?@>>
				^^@<<Потому что я знал, что он хочет умереть, и не остановил его.@>>";
				'убийстве', 'убийство':
				if (self.murder_asked == false) {
				self.murder_asked = true;
				"@<<Насчёт убийства, Лука...@>>
				^^@<<Какого убийства?@>>";
				}
				else
				"@<<Ты помнишь, Лука. Матвей был сброшен с колокольни@>>.
				^^@<<Нет, не может быть, - недоверчиво говорит Лука. - Он,
				должно быть, прыгнул@>>.";
				'прыжке', 'прыжок', 'самоубийстве', 'самоубийство':
				"@<<Почему Матвей прыгнул?@>> - спрашиваешь ты.
				^^Долгое, тяжёлое молчание. @<<Потому что он был умён@>>.";
				'уме', 'ум':
				"@<<Что же он знал, что заставило его прыгнуть?@>>
				^^@<<Он знал, что происходит здесь, в монастыре@>>.";
				'знание', 'происходит', 'здесь':
				"@<<И что же здесь происходит?@>>
				^^Лука усмехается: @<<Если бы я это знал, я, скорее всего,
				прыгнул бы вслед за ним@>>.";
				'падение', 'падении', 'трагедии', 'трагедию':
				"@<<Матвея столкнули?@>>
				^^@<<Нет, должно быть, он спрыгнул@>>.";
				Thimself:
				switch(time_shadow.current_time) {
				0:
				"@<<Как ты, Лука?@>> - спрашиваешь ты, кладя руку ему на плечо.
				^^Он отстраняется. @<<Оставь меня одного, отец@>>, - он бросает на тебя
				недоверчивый взгляд, прежде чем вернуться к плите.";
				1:
				"@<<Как ты себя чувствуешь, Лука?@>> - спрашиваешь ты, прижимая ухо к двери.
				^^Он всхлипывает: @<<Я чувствую страх, отец. И вину@>>.";
				}
				Tsnow:
				switch(time_shadow.current_time) {
				"@<<Он повсюду. В моих волосах, в моей одежде. Его холод обжигает@>>.";
				}
				Tsaint_cuthbert:
				switch(time_shadow.current_time) {
				"@<<Он защитит нас, правда, отец?@>>
				^^@<<Конечно защитит, Лука@>>, - ложь даётся тебе всё легче@>>.";
				}
				Tsaint_medard:
				switch(time_shadow.current_time) {
				"@<<Ты в порядке, отец? - он смотрит на тебя с недоумением. - Это
				Святой, покровитель погоды@>>.";
				}
				Tsaint_francis:
				switch(time_shadow.current_time) {
				"@<<Ты в порядке, отец? - он смотрит на тебя с недоумением. - Это
				Святой, покровитель животных@>>.";
				}
				Tsaint_drausinus:
				switch(time_shadow.current_time) {
				"@<<Матвей просил меня молиться за него, если я вдруг почувствую угрозу,
				нависшую над нами@>>, - повисает тяжёлое молчание. - @<<Я молюсь о
				нём каждую ночь@>>.";
				}
				Tmonastery:
				switch(time_shadow.current_time) {
				0:
				"@<<Мне здесь больше не нравится@>>, - Лука всхлипывает.";
				default:
				"@<<Что здесь происходит? - он понижает голос. - Чем мы это заслужили?@>>";
				}
				Tchurch:
				switch(time_shadow.current_time) {
				0:
				"@<<Твоя последняя месса была великолепной. И церковь тоже, как всегда@>>.";
				1:
				"@<<Матвей всегда любил церковь@>>.";
				}
				Tcalefactory:
				switch(time_shadow.current_time) {
				0:
				"@<<Там хорошо, если быть там недолго@>>.";
				1:
				"Он усмехается, но в этой усмешке слышится страдание: @<<Ну, я думаю,
				мне лучше привыкнуть к этим условиям@>>.";
				}
				Tbelltower:
				switch(time_shadow.current_time) {
				0:
				"@<<Я не хочу об этом говорить!@>>";
				1:
				"@<<Матвей любил бывать там. Оттуда ему всё было видно. Ему
				нравилось наблюдать за нами сверху@>>.";
				}
				Tinfirmary:
				switch(time_shadow.current_time) {
				0:
				"@<<Там было неплохо, когда я ломал руку. Теперь там пахнет смертью@>>.";
				1:
				"@<<Я считаю, что Матвею повезло умереть не там@>>.";
				}
				Tdormitory:
				switch(time_shadow.current_time) {
				0:
				"@<<Наши маленькие могилки@>>, - он усмехается.";
				1:
				"@<<Мне и здесь хорошо@>>.";
				}
				Tcellar:
				switch(time_shadow.current_time) {
				"@<<Там внизу творится что-то странное. Матвей знает, но не говорит
				мне@>>.";
				}
				Tlocutory:
				switch(time_shadow.current_time) {
				"Он продолжает всхлипывать.";
				}
				Tfood:
				switch(time_shadow.current_time) {
				"@<<Поищи на кухне@>>.";
				}
				Tsleep:
				switch(time_shadow.current_time) {
				0:
				"@<<Ещё рано! Я должен это найти!@>>";
				1:
				"@<<Самое время, всё равно больше ничего не остаётся@>>.";
				}
				Tplague:
				switch(time_shadow.current_time) {
				0:
				"@<<Она наносит больший ущерб, чем я думал@>>, - он бросает взгляд
				в сторону монастыря.";
				1:
				"@<<Я думаю, разбиться - это самый мягкий жребий@>>.";
				}
				Trovato:
				switch(time_shadow.current_time) {
				"@<<Было бы лучше, если бы я просто остался там@>>.";
				}
				Tgate:
				"@<<Это не моё дело - обсуждать твои действия@>>.";
				Tsin:
				switch(time_shadow.current_time) {
				0:
				"@<<Мы все грешны, - произносит он горько. Затем, не поднимая
				глаз, но, очевидно, имея в виду тебя, добавляет. - Однако одни
				больше других@>>.";
				1:
				"@<<На мне ужасный грех. Я знал, что у Матвея проблемы, но не знал,
				насколько они серьёзны. Его смерть на моей совести@>>.";
				}
				Tdevil:
				switch(time_shadow.current_time) {
				"@<<Он, должно быть, здесь! Все стали вести себя странно. В этом не
				может быть виновата одна только болезнь@>>.";
				}
				Tyourself:
				switch(time_shadow.current_time) {
				0:
				"@<<Ты такой хороший человек, - говорит он. Затем, чуть помедлив,
				добавляет. - По крайней мере, я привык так думать@>>.";
				1:
				"@<<Матвей часто говорил о тебе. Особенно в последнее время@>>.";
				}
				Tcecilia:
				switch(time_shadow.current_time) {
				"@<<Может быть, она спасёт нас. Потому что самим нам точно не спастись@>>.";
				}
				Tdrogo:
				switch(time_shadow.current_time) {
				"@<<Он пугает меня, - Лука понижает голос. - Но его безумие хотя
				бы заметно, в отличие от остальных@>>.";
				}
				Tignatius:
				switch(time_shadow.current_time) {
				0:
					"@<<Его справедливость пугает меня. В ней нет человечности. Он может
					видеть соринки в чужих глазах, но не замечать бревна в своём@>>.";
				1:
					"@<<Если бы он не помешал, я уверен, Константин убил бы меня@>>.";
				}
				Tconstantin:
				switch(time_shadow.current_time) {
				0:
					"@<<Он стал ещё грубее, чем раньше. Чума не даёт ему покоя@>>.";
				1:
					"@<<Он бы убил меня, я уверен@>>.";
				}
				Tmatteo:
				switch(time_shadow.current_time) {
				0:
					"@<<Он знает что-то, но не говорит мне, - его рыдания становятся
					громче. - Он больше ничего мне не говорит@>>.";
				1:
					"Лука скорбно воет. Этот звук пронизывает воздух и режет твои уши.";
				}
				Tlucca:
				switch(time_shadow.current_time) {
				0:
				"@<<Что ты делаешь, Лука?@>> - спрашиваешь ты, кладя руку ему на плечо.
				^^Он отстраняется: @<<Оставь меня одного, отец@>>, - он бросает на тебя
				недоверчивый взгляд, прежде чем вернуться к плите.";
				1:
				"@<<Как ты себя чувствуешь, Лука?@>> - спрашиваешь ты, прижимая ухо к двери.
				^^Он всхлипывает: @<<Я чувствую страх, отец. И вину@>>.";
				}
				Tgod:
				switch(time_shadow.current_time) {
				0:
					"@<<Я думаю, он забыл о нас@>>.";
				1:
					"@<<Хм, - фыркает он. - Он уже давно покинул нас@>>.";
				}
				Tprayer:
				switch(time_shadow.current_time) {
				0:
					"@<<Я пытаюсь, но в ответ только тишина@>>.";
				1:
					"@<<Зачем? - спрашивает он. - Больше никто нас не слышит@>>.";
				}
				default:
				if (time_shadow.current_time == 1)
				"Он отвечает, но очень невнятно.";
				else
				"Он только всхлипывает.";
				}
		],
		stone_talking 0,
		murder_talking 0,
has	male fem_grammar;

Class	Matteo
class	brother
with	name 'матвей',
		tower_talking 0,
		before [;
			TalkTo:
				switch((self.tower_talking)++) {
				0:
				QuoteFrom(matteo_push_quote1);
				"@<<Как ты, Матвей?@>> - спрашиваешь ты, облокачиваясь на ограждение
				рядом с ним.
				^^Он поворачивается с дружелюбной улыбкой на лице: @<<Я уже даже
				и не знаю@>>, - он преувеличенно пожимает плечами.";
				1:
				QuoteFrom(matteo_push_quote2);
				"@<<Что это значит?@>> - ты не можешь подавить сдавленный смешок.
				^^@<<Я не знаю!@>> - он смеётся, вскидывая руки вверх.";
				2:
				QuoteFrom(matteo_push_quote3);
				"@<<Тогда я лучше оставлю тебя с твоим незнанием@>>, - посмеиваешься ты.
				^^@<<Это будет лучше всего@>>, - Отвечает он неожиданно серьёзно.";
				default:
				"Ты думаешь, что тебе нечего сказать.";
			}
		],

		life [;
			Order:
				switch(time_shadow.current_time) {
					default:
						"Матвей вздыхает: @<<Мне это не очень нравится, отец@>>. Он
						просто смотрит вдаль.";
					}

			Ask,Tell:
				switch(second) {
				'тайник', 'тайнике', 'комнате', 'комнату', 'келью', 'келье', 'плиту', 'плите', 'камень', 'камне':
					"@<<Лука думает, что ты что-то прячешь в своей комнате под
					полом@>>, - говоришь ты, облокачиваясь на ограждение.
					^^Матвей тяжело вздыхает: @<<Я знаю@>>.";
				'колокол', 'колоколе', 'звоне', 'звон':
					"@<<Тебе никогда не надоедало звонить в колокол, Матвей?@>>
					^^@<<Нет, - он делает паузу. - Созывать верующих это величайшая
					честь@>>. В его словах слышится доля сарказма. Ах, Матвей.";
				Thimself:
				switch(time_shadow.current_time) {
				"@<<Я в порядке, - он вздыхает. - Я просто хочу спать@>>.";
				}
				Tsnow:
				switch(time_shadow.current_time) {
				"@<<Красиво, не правда ли? - он задумывается, уставившись на снег. -
				Только навевает сон@>>.";
				}
				Tsaint_cuthbert:
				switch(time_shadow.current_time) {
				"@<<А, да. Наш защитник, - говорит он небрежно. - Хм@>>.";
				}
				Tsaint_medard:
				switch(time_shadow.current_time) {
				"@<<Ты в порядке, отец? - он смотрит на тебя с недоумением. - Это
				Святой, покровитель погоды.@>>";
				}
				Tsaint_francis:
				switch(time_shadow.current_time) {
				"@<<Ты в порядке, отец? - он смотрит на тебя с недоумением. - Это
				Святой, покровитель животных.@>>";
				}
				Tsaint_drausinus:
				switch(time_shadow.current_time) {
				"@<<Он защищает нас от ночи и тьмы, - говорит он, глядя куда-то вдаль.
				 - Ночи бывают ужасными@>>.";
				}
				Tmonastery:
				switch(time_shadow.current_time) {
				"@<<Он очень тихий@>>, - говорит он, глядя вниз, на здания.";
				}
				Tchurch:
				switch(time_shadow.current_time) {
				"@<<Её шпили удивительно смотрятся отсюда, не правда ли? - он
				любовно смотрит на них. - Как руки, готовые подхватить тебя, если
				ты упадёшь@>>.";
				}
				Tcalefactory:
				switch(time_shadow.current_time) {
				"@<<Мне здесь больше нравится, - говорит он. - Воздух такой чистый@>>.";
				}
				Tbelltower:
				switch(time_shadow.current_time) {
				"@<<Здесь красиво, не правда ли? Господь укрыл Землю одеялом@>>.";
				}
				Tinfirmary:
				switch(time_shadow.current_time) {
				"@<<Никто не поправляется там, - вздыхает он. - Но они, хотя бы,
				умирают в тепле@>>.";
				}
				Tdormitory:
				switch(time_shadow.current_time) {
				"@<<Мне здесь больше нравится@>>.";
				}
				Tcellar:
				switch(time_shadow.current_time) {
				"@<<А, да, - он делает паузу. - Подвал@>>. Он посмеивается.";
				}
				Tlocutory:
				switch(time_shadow.current_time) {
				"@<<Кажется таким пустым, не правда ли? Помнишь дни, когда
				путешественники заходили каждый день? Я скучаю по ним@>>.";
				}
				Tfood:
				switch(time_shadow.current_time) {
				"@<<У меня плохой аппетит в эти дни@>>.";
				}
				Tsleep:
				switch(time_shadow.current_time) {
				"@<<Что тут скажешь? @<<Нет грешным покоя@>>. Я сомневаюсь, что
				кто-нибудь будет мирно спать этой ночью@>>.";
				}
				Tplague:
				switch(time_shadow.current_time) {
				"@<<Забавно, как влияют на нас болезнь и одиночество. В конце концов, наши
				тела это наша забота@>>.";
				}
				Trovato:
				switch(time_shadow.current_time) {
				"@<<Бедное Ровато, - Матвей смотрит в темноту, где раньше светились
				огни деревни. - Мы должны были больше им помогать@>>.";
				}
				Tgate:
				"@<<Я считаю, ты поступил правильно, отец, - его голос звучит не слишком
				убедительно. - Хотя может и нет, но ты сделал то, что некоторые из
				нас хотели@>>.";
				Tsin:
				switch(time_shadow.current_time) {
				"@<<Это наш собственный запах, не правда ли? - он смотрит вниз на
				монастырь, пробегая взглядом все здания. - Запах, который ещё не
				выветрился до конца@>>.";
				}
				Tdevil:
				switch(time_shadow.current_time) {
				"@<<Не смотри на вилы и рога. В наши дни он хитрее@>>.";
				}
				Tyourself:
				switch(time_shadow.current_time) {
				"@<<Я знаю, у нас было много разногласий, но я надеюсь оставить их
				позади. Сейчас время прощения@>>.";
				}
				Tdrogo:
				switch(time_shadow.current_time) {
				"@<<Бедный Дрого, - вздыхает он, глядя вниз на трапезную. - Но его
				безумие - только поверхность, которую мы можем видеть@>>.";
				}
				Tignatius:
				switch(time_shadow.current_time) {
				"@<<Он стал очень благодетельным в последнее время, не правда ли?
				Я думаю, он участвовал бы в крестовом походе, родись на сотню лет
				раньше. Он жаждет сражаться со злом, и если здесь нет сражений, он
				устроит собственное@>>.";
				}
				Tconstantin:
				switch(time_shadow.current_time) {
				"@<<Он не признаёт этого, но он болен. Чума поселилась в нём. Он
				не проживёт долго@>>.";
				}
				Tmatteo:
				switch(time_shadow.current_time) {
				"@<<Я в порядке, - он вздыхает. - Я просто хочу спать@>>.";
				}
				Tlucca:
				switch(time_shadow.current_time) {
				"@<<Бедный Лука, - вздыхает он. - Я думал что смогу защитить его,
				но его конец близко@>>.";
				}
				Tgod:
				switch(time_shadow.current_time) {
				"@<<Он ушёл, ты знаешь, - он пристально смотрит на тебя. - И вместе
				с ним его защита@>>.";
				}
				Tprayer:
				switch(time_shadow.current_time) {
				"@<<У меня больше нет сил@>>.";
				}
				default:
				"Он, должно быть, слышит тебя, но предпочитает слушать ветер.";
				}
		],
has		male;


Class	Cecilia_class
class	NPC
with	name 'девушк' 'сесили' 'сесиль' 'молод' 'женщин' 'ангел' 'сесилии',
		woken true,
		talking_toolate 0,
		talking_angel 0,
		talking_hall 0,
		talking_cecilia 0,
		talking_constantin 0,
		talking_cellar 0,
		talking_endgame_evil 0,
		talking_endgame_middle 0,
		talking_endgame_good 0,
		react_before [;
			PrayTo:
				if (noun == self)
					<<PrayTo cecilia>>;
		],
		before [;
						PrayTo:
							"Ты можешь просто поговорить с ней.";
						PrayThrough:
							<<PrayThrough cecilia>>;

			Kill:
				QuoteFrom(kill_cecilia_quote);
				"Ты двигаешься, но что-то останавливает тебя.";
			TalkTo:
				switch(time_shadow.current_time) {
				1:
				if (lucca_behind_door in outside_calefactory) {
				switch((self.talking_angel)++) {
				0:
				"@<<Как ты узнала что случится? Кто ты? Почему ты пришла?@>> - вопросы
				появляются быстрее, чем ответы.
				^^@<<Успокойтесь, отец, - говорит она, кладя ладонь на твоё запястье.
				Это касание согревает. Жизнь, радость и покой растекаются по телу. -
				Я здесь для того, чтобы помочь.@>>.";
				1:
				"@<<Господь послал меня, но я слаба. Источник моей силы в праведности,
				а ваши братья потеряли свой путь. Они устроили заговор против вас.
				И против меня@>>. Она бросает испуганный взгляд на дверь.
				^^@<<Пожалуйста, помолитесь мне, отец, когда пойдёте спать. Я нуждаюсь
				в вашей силе, среди царящего вокруг нечестия@>>.
				^^Она откидывается на подушку и бессильно закрывает глаза.";
				2:
				"@<<Идите, отец, - говорит она, заворачиваясь в твоё одеяло. - Поспите@>>.
				Она бросает на тебя последний взгляд, перед тем, как закрыть глаза: 
				@<<Но будьте осторожны, здесь многие хотят причинить вам вред@>>.";
				default:
				"Она спит.";
				}
				}
				if (self.talking_toolate == 0) {
				self.talking_toolate = 1;
				"@<<Что ты имеешь в виду?@>> - спрашиваешь ты.
				^^Девушка поднимает на тебя заплаканные глаза: @<<Увидите@>>.";
				}
				else
				"Ты слышишь только сдавленные всхлипывания.";
				3:
				if (location == locutory && self.talking_cecilia == 0) {
				self.talking_cecilia = 1;
				"Она закрывает глаза: @<<Я почти не слышу. Голос Господа
				слаб в этом месте. Но я знаю, Лука не сбежал. По крайней мере,
				не сам@>>.";
				}
				if( location == locutory && self.talking_cecilia ==1) {
				self.talking_cecilia = 2;
				"@<<Идите, найдите Луку, - говорит она, указывая на дверь. - Если
				попадёте в беду, помолитесь мне. Я сделаю что-нибудь, чтобы помочь
				вам@>>.";
				}
				if (location == locutory && self.talking_cecilia == 2)
				"@<<Я больше не могу вам помочь@>>.";
				if (location == entrance_hall && self.talking_hall == 0){
				self.talking_hall = 1;
				"@<<Лука не сбежал@>>, - шепчет она тебе на ухо. Ты чувствуешь её
				мягкое дыхание";
				}
				if (location == entrance_hall && self.talking_hall == 1)
				move self to locutory;
				"@<<Нет, идите с Константином, - говорит она, возвращаясь в зал. -
				Я потом вам расскажу@>>.";
				5,6,7,8:
				if (location == tower)
				"@<<Помоги!@>> - кричит она, борясь с Константином.";
				if (cellar has visited) {
				switch((self.talking_cellar)++) {
				0:
				"@<<Проклятье, - бросает она. - Ну ладно. Сходите к плите в келье
				Матвея. Я хочу увидеть ситуацию целиком@>>.";
				default:
				"@<<Идите. Сейчас самое время@>>.";
				}
				}
				else
				if (self.talking_constantin == 0) {
				self.talking_constantin =1;
				"@<<Слава Небесам, вы здесь, - говорит Сесилья, обнимая тебя. Что
				это на её спине? - Вы должны поторопиться, Господь сказал мне, что
				Константин запер жертв чумы в подвале, пока они не умрут. Поэтому он и
				повесил замок - не для того, чтобы спасти еду, а чтобы спасти самого себя.
				Он убил Луку, чтобы сохранить это в тайне. Пойдите, возьмите у него ключи
				от подвала. Поспешите, возможно, кого-нибудь ещё можно спасти@>>.";
				}
				if (self.talking_constantin == 1) {
				self.talking_constantin = 2;
				"@<<Как я возьму ключ?@>> - спрашиваешь ты.
				^^@<<Константин слаб, можете делать с ним всё, что захотите.
				Его жизнь не дороже, чем жизни тех, кого он запер. Идите, у вас
				мало времени@>>.";
				}
				else
				"@<<Идите, мы скоро поговорим@>>.";
				9:
					if (sin_shadow.middle == true)
						switch((self.talking_endgame_middle)++) {
						0:
						"Сесилья прохаживается вперёд-назад. Странный звук шагов,
						не плоть соприкасается с камнем, что-то другое. Копыта.
						@<<Это было так просто@>>, - говорит она, скорее сама себе.
						^^Улыбка блуждает на её лице: @<<Сломанная оболочка человека,
						живущего в изоляции от своих братьев, от Бога. Священник, который
						повернулся спиной к своим прихожанам, чтобы избежать чумы@>>.";
						1:
						if (sin_shadow.prayed_cecilia == true)
						"@<<Ты был в таком отчаянии, - продолжает она. - Что стал
						молиться мне. Мне. Не Богу. Мне. @<<Да не будет у тебя других
						богов пред лицем Моим@>>, - помнишь это? - спрашивает она,
						смеясь. - Ты преклонился предо мной, как перед фальшивым 
						идолом. Несколько дней одиночества, и всё твоё благочестие
						испарилось@>>.";
						if (coin has moved)
						"Она ухмыляется: @<<Стоило только мне положить монету в
						коробку для милостыни, как невротичная жадность захлестнула
						тебя. Ты схватил её, хотя здесь в ней нет никакого смысла,
						жалкий человек@>>.";
						2:
						"@<<Но знаешь, в чём твой главный грех, тот, из-за
						которого я пришла сюда?@>> - она наклоняется, её дыхание
						источает запах серы. Она ухмыляется: @<<Ты пытался быть
						праведным: пытался поступать так, как по-твоему, было 
						хорошо, - она задумывается, глядя на потолок. - Но это
						само по себе грех. Бог не хочет, чтобы ты поступал так,
						как считаешь правильным, нужно делать то, что считает
						правильным Он. Это ревнивый, злой Бог. Он не примет того,
						кто не станет слепо следовать за ним. Я надеюсь, ты
						осознаешь это, и присоединишься ко мне. Но куда тебе@>>.";
						3:
						"Она становится на колени рядом с тобой, и берёт твой подбородок
						рукой. Она обжигает, оставляя подпаленные отпечатки на твоей
						рябой коже.
						@<<Твой грех такой же, как и мой, отец, - напевает она. -
						Гордыня - попытка не зависеть от Бога. Он составил план для
						всех нас, даже для меня. Возможно, в Его план входило, что
						я обращу треть ангелов против Него, возможно - нет. В любом
						случае, он покарал меня. Так же, как и тебя. Наказание за
						всё, что ты делаешь по своей воле, за право выбора. Мой грех
						не в совращении ангелов, а в самом факте принятия решения@>>.";
						4:
						move fissure to new_church;
						"@<<Тебе остался последний выбор, отец. Это просто. Вверх
						или вниз? Рай или Ад? - пламя ревёт в унисон её словам. - Ты
						будешь счастлив в Раю, чистый и светлый. Но какова цена?
						Ты согласишься на смирительную рубашку. Никакого выбора.
						Бог не позволяет выбирать@>>. Она замолкает.^
						Сесилья делает пасс рукой, и трещина раскалывает церковь.
						Языки пламени извергаются из глубины. Запах серы ударяет
						в нос.
						^^@<<Или ты можешь пойти со мной, вниз. Ты будешь страдать,
						но сможешь сам делать выбор. Ты будешь помнить себя. В Раю Бог
						отнимет тебя у самого себя, оставив счастливую, пустую оболочку,
						улыбающуюся тень. Со мной, ты останешься собой@>>.";
						5:
						remove self;
						"@<<Выбор за тобой, - пламя поглощает её, когда она ступает
						в раскол. - Распорядись им мудро@>>, - её последние слова
						доносятся из глубины.";
					}
					if (sin_shadow.good == true)
						switch((self.talking_endgame_good)++) {
						0:
						"Сесилья прохаживается вперёд-назад. Странный звук шагов,
						не плоть соприкасается с камнем, что-то другое. Копыта.
						@<<Это было так просто@>>, - говорит она, скорее сама себе.
						^^Улыбка блуждает на её лице: @<<Сломанная оболочка человека,
						живущего в изоляции от своих братьев, от Бога. Священник, который
						повернулся спиной к своим прихожанам, чтобы избежать чумы@>>.";
						1:
						if (coin has moved)
						"@<<Затем, - продолжает она. - Ты взял монету из коробка для
						милостыни просто так, безо всякого права. Этого хватило.
						Теперь грех ослабил это место достаточно, чтобы я смогла войти.
						После этого я могла влиять на твоих братьев на расстоянии.
						^^Она ухмыляется: @<<Ты пытался быть
						праведным: пытался поступать так, как по-твоему, было 
						хорошо, - она задумывается, глядя на потолок. - Но это
						само по себе грех. Бог не хочет, чтобы ты поступал так,
						как считаешь правильным, нужно делать то, что считает
						правильным Он. Это ревнивый, злой Бог. Он не примет того,
						кто не станет слепо следовать за ним. Я надеюсь, ты
						осознаешь это, и присоединишься ко мне. Но куда тебе@>>.";
						else
						"@<<Ты пытался быть
						праведным: пытался поступать так, как по-твоему, было 
						хорошо, - она задумывается, глядя на потолок. - Но это
						само по себе грех. Бог не хочет, чтобы ты поступал так,
						как считаешь правильным, нужно делать то, что считает
						правильным Он. Это ревнивый, злой Бог. Он не примет того,
						кто не станет слепо следовать за ним. Я надеюсь, ты
						осознаешь это, и присоединишься ко мне. Но куда тебе@>>.";
						2:
						"Она становится на колени рядом с тобой, и берёт твой подбородок
						рукой. Она обжигает, оставляя подпаленные отпечатки на твоей
						рябой коже.
						@<<Твой грех такой же, как и мой, отец@>>, - напевает она. -
						гордыня: попытка не зависеть от Бога. Он составил план для
						всех нас, даже для меня. Возможно, в Его план входило, что
						я обращу треть ангелов против Него, возможно - нет. В любом
						случае, он покарал меня. Так же, как и тебя. Наказание за
						всё, что ты делаешь по своей воле, за право выбора. Мой грех
						не в совращении ангелов, а в самом факте принятия решения@>>.";
						3:
						move fissure to new_church;
						"@<<Тебе остался последний выбор, отец. Это просто. Вверх
						или вниз? Рай или Ад? - пламя ревёт в унисон её словам. - Ты
						будешь счастлив в Раю, чистый и светлый. Но какова цена?
						Ты согласишься на смирительную рубашку. Никакого выбора.
						Бог не позволяет выбирать@>>. Она делает паузу.
						Сесилья делает пасс рукой, и трещина раскалывает церковь.
						Языки пламени извергаются из глубины. Запах серы ударяет
						в нос.
						^^@<<Или ты можешь пойти со мной, вниз. Ты будешь страдать,
						но сможешь сам делать выбор. Ты будешь помнить себя. В Раю Бог
						отнимет у тебя тебя, оставив счастливую, пустую оболочку,
						улыбающуюся тень. Со мной, ты останешься собой@>>.";
						4:
						remove self;
						"@<<Выбор за тобой, - пламя поглощает её, когда она ступает
						в раскол. - Распорядись им мудро@>>, - её последние слова
						доносятся из глубины.";
						}

					if (sin_shadow.evil == true) {
						if (emmanuele_body notin new_church)
						"Ты пытаешься говорить, но получается только резкий кашель. 
						Кусочки лёгких вылетают изо рта. Проклятое
						слабое тело.";
						else
						switch((self.talking_endgame_evil)++) {
						0:
						"@<<Ты всё сделал как надо, - напевает Сесилья, прохаживаясь
						по церкви. - Монастырь Святого Кутберта наш@>>.";
						1:
						"@<<Отец был таким глупцом, - продолжает она, мягко запуская
						пальцы в волосы покойника. - До того, как мы пришли, он был
						слепцом: Бог дёргал его, как марионетку, направляя каждый
						его шаг, - она останавливается, глядя на поверженного
						священника. - Ты дал ему свободу. Ты дал ему выбор пути.
						Без нас он мог бы никогда не узнать, что живой@>>.";
						2:
						if (matteo1.pushed == false)
							"Она смеётся. Тёмный звук. Злой звук. @<<Не могу
							поверить, что ты не столкнул Матвея, когда был шанс,
							- она хватает твою руку, оставляя глубокие борозды от
							ногтей. - Так что мне пришлось заставить его прыгнуть,
							- она смеётся снова, немного светлее, - люди такие
							слабые, поэтому все прошло гладко@>>.";
						else
							"@<<Столкнуть Матвея было замечательной идеей, - бесстрастно
							рассуждает она. - Считается, что немного безумия и недоверия,
							распространенного среди людей - это то, что приводит к
							непрогнозируемым последствиям@>>.";
						3:
							deadflag = 3;
							"@<<Ладно, я думаю, пора возвращаться, - Сесилья
							задумывается. - Этот монастырь был только началом@>>.
							^^Она делает пасс рукой, и трещина раскалывает церковь.
							Ты берёшь её за руку и шагаешь в пролом.
							^^Крики грешников ласкают твой слух. Хор приветствует
							тебя дома.";
						}
					}

			}
		],
		life [;
			Order:
				switch(time_shadow.current_time) {
					default:
						"@<<Нет отец, - говорит она строго, но ласково. - Лучше вы делайте, что
						я говорю@>>.";
					}
			Ask,Tell:
				if (time_shadow.current_time == 9) {
					switch(second) {
					'отца', 'отце', 'священнике', 'священника':
					if(sin_shadow.evil == true)
					"@<<Прости, что он достался тебе. Он такой слабый@>>.";
					else
					"@<<Ты слабый. Ты нуждаешься во мне@>>.";
					'мне', 'демоне', 'демона', 'себя', 'себе':
					if(sin_shadow.evil == true)
					"@<<Ты помнишь? Я послала тебя завладеть отцом, чтобы подготовить
					дорогу для меня@>>.";
					else
					"@<<Ты слабый. Ты нуждаешься во мне@>>.";
					Tmonastery:
					if(sin_shadow.evil == true)
					"@<<Да, - она ухмыляется. - Это будет подходящая база. Ты всё
					сделал правильно@>>.";
					else
					"@<<Очень слабый, - говорит она задумчиво. - Его было очень просто
					растлить@>>.";
					Tchurch:
					"@<<Красиво, не правда ли? - говорит она, задумчиво разводя руками. -
					Дрого прекрасно поработал. Он мне очень помог. Бедный дурак, он всё это
					делал для Бога@>>.";
					Tcellar:
					"@<<Столько греха скопилось в одном месте. Игнат убивал пациентов,
					а Константин утаскивал их. Бедный Константин. Дурак совсем не понимал,
					что происходит@>>.";
					Tplague:
					"@<<Ладно. Я приложила к этому руку. Но если ты хочешь найти того,
					кого действительно нужно винить, вини Бога. Я не могу ничего сделать
					против его воли@>>.";
					Therself:
					if(sin_shadow.evil == true)
					"@<<Прошло только два дня, - она хохочет. - Я и не предполагала,
					что в таком слабом теле можно столько сделать. Я послала тебя сюда,
					чтобы ты помог мне. Мне был нужен кто-то, кто расчистит путь@>>.";
					else
					"@<<У меня много имён и много лиц. Слишком много, чтобы можно было
					их сосчитать@>>";
					Tcecilia:
					if(sin_shadow.evil == true)
					"@<<Прошло только два дня, - она хохочет. - Я и не предполагала,
					что в таком слабом теле можно столько сделать. Я послала тебя сюда,
					что бы ты помог мне. Мне был нужен кто-то, кто расчистит путь@>>.";
					else
					"@<<У меня много имён и много лиц. Слишком много, чтобы можно было
					их сосчитать@>>";
					Tdrogo:
					"@<<Дурак, - она окидывает взглядом скамьи. - Хотя, он просто
					очень впечатлительный. Я внушила ему, что он избран Господом
					привести церковь в порядок@>>.";
					Tignatius:
					"@<<Тёмный человек. Ему несложно было внушить, что чума - это кара
					за грехи@>>.";
					Tconstantin:
					"@<<Будь он проклят. Он почти не поддавался влиянию. К счастью,
					болезнь позаботилась о нём@>>.";
					Tmatteo:
					if(matteo1.pushed == false)
					"@<<Мне потребовалось столько сил, чтобы убедить его прыгнуть.
					Я работала над ним несколько дней@>>.";
					else
					"@<<Хорошая работа. С него-то всё и началось. Или, вернее,
					с тебя, столкнувшего его@>>.";
					Tlucca:
					"@<<Он был самым стойким. Молодые всегда сильнее@>>.";
					Tgod:
					"@<<Он давно покинул это место@>>.";
					Tdevil:
					"@<<Мне хорошо, - говорит она. Её чары на мгновение спадают,
					обнажая красную кожу и острые рога. - Но я скучаю по дому.
					На земле мне всё ещё некомфортно - всё-таки здесь слишком близко
					к Богу@>>.";
					}
				}
				if (time_shadow.current_time == 1 && self.talking_angel >= 2)
				"Она спит, она не слышит.";
				if (self.woken == false)
				"Она спит, она не слышит.";
				if (brothers_tower.murder_conversation < 1)
				"@<<Идите, мы скоро поговорим@>>, - отвечает она сквозь рыдания.";
				else
				switch(second) {
				'лошади', 'лошадь', 'кобыла', 'кобылу':
					cecilia.stable_prayed = true;
					"@<<В ней проблема, не правда ли? - Сесилья прикрывает глаза.
					злое ржание слышится вокруг. - Теперь она будет более
					покорной@>>.";
				'камне', 'камень', 'плите', 'плиту':
					"@<<Что под камнем в келье Матвея?@>> - спрашиваешь ты.
					^^Сесилья закрывает глаза на мгновение, затем трясёт головой:
					@<<Я не вижу. Только Бог знает это@>>.";
				Tsnow:
				switch(time_shadow.current_time) {
				"@<<Правда красиво? Покрывало Господа@>>.";
				}
				Tsaint_cuthbert:
				switch(time_shadow.current_time) {
				default:
					"@<<Он ослабел в последнее время. Ваши братья огорчают его@>>.";
				}
				Tsaint_medard:
				switch(time_shadow.current_time) {
					"Не молись ему. Он покарает вас за грехи братьев@>>.";
				}
				Tsaint_francis:
				switch(time_shadow.current_time) {
					"Не молись ему. Он покарает вас за грехи братьев@>>.";
				}
				Tsaint_drausinus:
				switch(time_shadow.current_time) {
					"Не молись ему. Он покарает вас за грехи братьев@>>.";
				}
				Tmonastery:
				switch(time_shadow.current_time) {
					"@<<Сатана укоренился в сердцах братьев. Не верьте им,
					все их слова - ложь@>>.";
				}
				Tchurch:
				switch(time_shadow.current_time) {
					"@<<Сатана надёжно обосновался в ней. Слабость братьев
					поколебала силу церкви@>>.";
				}
				Tcalefactory:
				switch(time_shadow.current_time) {
					"@<<Если не будете слушать себя и меня, в месте, где вы окажетесь,
					отопительная покажется раем@>>.";
				}
				Tbelltower:
				switch(time_shadow.current_time) {
					"@<<Матвей не спрыгнул. Не верьте Луке. В душе он убийца@>>.";
				}
				Tdormitory:
				switch(time_shadow.current_time) {
					"@<<В этом месте много тайн и зла. Не оставайтесь там слишком долго. Грех ваших братьев испортил его@>>.";
				}
				Tcellar:
				switch(time_shadow.current_time) {
					1,2,3:
						"@<<Я не вижу, но что-то ужасное случилось там@>>.";
					default:
						"@<<Константин прятал там тела убитых им людей!@>>";
				}
				Tlocutory:
				switch(time_shadow.current_time) {
					"@<<Спасибо. Здесь хорошо, вдали от ваших братьев@>>.";
				}
				Tfood:
				switch(time_shadow.current_time) {
					"@<<Спасибо вам@>>.";
				}
				Tsleep:
				switch(time_shadow.current_time) {
					"@<<Я не могу спать, я должна быть здесь, с вами. У вас
					больше не осталось друзей в монастыре@>>.";
				}
				Tplague:
				switch(time_shadow.current_time) {
					"@<<Это кара Господа за ваши грехи. Я не могу предотвратить
					этого@>>.";
				}
				Trovato:
				switch(time_shadow.current_time) {
					"@<<Грязное место. Господь заслуженно обрушил на него свой
					гнев@>>.";
				}
				Tgate:
				"@<<Вы правильно поступили, отец. Прихожане только усугубили
				бы положение@>>.";
				Tsin:
				switch(time_shadow.current_time) {
				"@<<Будьте внимателены, грех кишит здесь@>>.";
				}
				Tdevil:
				switch(time_shadow.current_time) {
				"@<<Он здесь, я чувствую его в сердцах ваших братьев@>>.";
				}
				Tyourself:
				switch(time_shadow.current_time) {
				"@<<Я здесь, чтобы помочь вам. Больше никто не сможет@>>.";
				}
				Therself:
				switch(time_shadow.current_time) {
				"@<<Я ангел, посланный Господом, чтобы помочь вам@>>.";
				}
				Tcecilia:
				switch(time_shadow.current_time) {
				"@<<Я ангел, посланный Господом, чтобы помочь вам@>>.";
				}
				Tdrogo:
				switch(time_shadow.current_time) {
				"@<<Присматривайте за ним внимательнее, он не так безумен,
				как может показаться@>>.";
				}
				Tignatius:
				switch(time_shadow.current_time) {
				"@<<Он устраивает заговор против вас, отец. Будьте осторожны@>>.";
				}
				Tconstantin:
				switch(time_shadow.current_time) {
				1:
				"@<<Он жестокий, опасный человек. Опасайтесь его@>>.";
				3:
				"@<<Не верьте ему, отец. Я думаю, это он убил Луку@>>.";
				default:
				"@<<Господь поразил его чумой, он становится всё уязвимее@>>.";
				}
				Tmatteo:
				switch(time_shadow.current_time) {
				"@<<Он умер как и жил, во грехе@>>.";
				}
				Tlucca:
				switch(time_shadow.current_time) {
				1:
				"@<<Даже если его руки не запятнаны кровью, в душе он убийца@>>.";
				default:
				"@<<Он не сам сбежал - кто-то освободил его@>>.";
				}
				Tgod:
				switch(time_shadow.current_time) {
				"@<<Бог присматривает за всеми нами, и я его посланница@>>.";
				}
				Tprayer:
				switch(time_shadow.current_time) {
				"@<<Ваши святые слабы здесь, им тяжело в этом месте. Положитесь на меня,
				я всегда помогу@>>.";
				}
				default:
				if (brothers_tower.murder_conversation < 1)
				"@<<Идите, мы скоро поговорим@>>, - отвечает она сквозь рыдания.";
				else
				"@<<У меня нет ответа@>>, - говорит она, глядя на потолок.";
				}
		],
has		female proper;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Quotations
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Quotation psalms96_6
  	with show_quote [;
          box
		  	"Слава и величие пред лицем Его, "
		  	"сила и великолепие "
		  	"во святилище Его."
		  	""
			"            -- Псалтирь 96:6";
       ],
		show_quote_inline [;
           	"^Слава и величие пред лицем Его,
		  	сила и великолепие
		  	во святилище Его.

			       -- Псалтирь 96:6";
       ];

Quotation isaiah44_16
	with show_quote [;
			box
				"Часть дерева сожигает в огне,"
				"другою частью варит мясо в пищу,"
				"жарит жаркое и ест досыта,"
				"а также греется и говорит:"
				"@<<хорошо, я согрелся; почувствовал огонь@>>."
				""
				"          -- Исаия 44:16";
			],
			show_quote_inline [;
				"^Часть дерева сожигает в огне,
				другою частью варит мясо в пищу,
				жарит жаркое и ест досыта,
				а также греется и говорит:
				@<<хорошо, я согрелся; почувствовал огонь@>>.
				          -- Исаия 44:16";
		];

Quotation isaiah51_17
	with show_quote [;
		box
			"Воспряни, воспряни, восстань, Иерусалим, "
			"ты, который из руки Господа "
			"выпил чашу ярости Его, "
			"выпил до дна чашу опьянения, осушил. "
			""
			"             -- Исаия 51:17";
		],
	 show_quote_inline [;

			"^Воспряни, воспряни, восстань, Иерусалим,
			ты, который из руки Господа
			выпил чашу ярости Его,
			выпил до дна чашу опьянения, осушил.

			             -- Исаия 51:17";
		];

Quotation baruch6_21
	with show_quote [;
		box
			"Горы приносят ему пищу, "
			"и там все звери полевые играют. "
			""
			"            -- Иов 40:20";
		],
		show_quote_inline [;

					"^горы приносят ему пищу,
					и там все звери полевые играют.

					            -- Иов 40:20";
		];

Quotation ecclesiastes10_13
	with show_quote [;
		box
			"начало слов из уст его - глупость, "
			"конец речи из уст его - безумие. "
			""
			"            -- Экклезиаст 10:13";
		],
		show_quote_inline [;

					"^начало слов из уст его - глупость,
					конец речи из уст его - безумие.

					           -- Экклезиаст 10:13";
		];

Quotation job27_9
	with show_quote [;
		box
			"Услышит ли Бог вопль его, "
			"когда придет на него беда?"
			""
			"              -- Иов 27:9";
		],
		show_quote_inline [;

					"^Услышит ли Бог вопль его,
					когда придет на него беда?

					             -- Иов 27:9";
		];


Quotation genesis4_10
	with show_quote [;
		box
			"И сказал: что ты сделал?"
			"голос крови брата твоего "
			"вопиет ко Мне от земли."
			""
			"             -- Бытие 4:10";
		],
		show_quote_inline [;

					"^И сказал: что ты сделал?
					голос крови брата твоего
					вопиет ко Мне от земли.

					             -- Бытие 4:10";
		];

Quotation psalms106_18
	with show_quote [;
		box
			"И возгорелся огонь в скопище их, "
			"пламень попалил нечестивых."
			""
			"           -- Псалтирь 106:18";
		],
		show_quote_inline [;
					"^И возгорелся огонь в скопище их,
					пламень попалил нечестивых.

					           -- Псалтирь 106:18";
		];

Quotation isaiah1_15
	with show_quote [;
		box
			"И когда вы простираете руки ваши, "
			"Я закрываю от вас очи Мои; "
			"и когда вы умножаете моления ваши, "
			"Я не слышу: ваши руки полны крови."
			""
			"                -- Исаия 1:15";
		],
		show_quote_inline [;
					"^И когда вы простираете руки ваши,
					Я закрываю от вас очи Мои;
					и когда вы умножаете моления ваши,
					Я не слышу: ваши руки полны крови.

					               -- Исаия 1:15";
		];

Quotation exodus28_34
	with show_quote [;
		box
			"Золотой колокольчик и гранат, "
			"золотой колокольчик и гранат, "
			"по подолу верхней ризы кругом."
			""
			"                -- Исход 28:34";
		],
		show_quote_inline [;
					"^Золотой колокольчик и гранат,
					золотой колокольчик и гранат,
					по подолу верхней ризы кругом.

					               -- Исход 28:34";
		];

Quotation proverbs27_20
	with show_quote [;
		box
			"Преисподняя и Аваддон -- ненасытимы;"
			"так ненасытимы и глаза человеческие."
			""
			"                   -- Притчи 27:20";
		],
		show_quote_inline [;
					"^Преисподняя и Аваддон -- ненасытимы;
					так ненасытимы и глаза человеческие.

					                   -- Притчи 27:20";
		];

Quotation genesis15_12
	with show_quote [;
		box
			"При захождении солнца крепкий сон"
			"напал на Аврама, и вот, "
			"напал на него ужас и мрак великий."
			""
			"                        -- Бытие 15:12";
		],
		show_quote_inline [;
					"^При захождении солнца крепкий сон
					напал на Аврама, и вот,
					напал на него ужас и мрак великий.

					                        -- Бытие 15:12";
		];

Quotation proverbs6_10
	with show_quote [;
		box
			"Немного поспишь, немного подремлешь, "
			"немного, сложив руки, полежишь."
			""
			"                      -- Притчи 6:10";
		],
		show_quote_inline [;

					"^Немного поспишь, немного подремлешь,
					немного, сложив руки, полежишь.

					                     -- Притчи 6:10";
		];

Quotation psalms45_8
	with show_quote [;
		box
			"Все одежды Твои, как смирна и алой и касия;"
			"из чертогов слоновой кости увеселяют Тебя. "
			"                     -- Псалтирь 45:8";
		],
		show_quote_inline [;
					"^Все одежды Твои, как смирна и алой и касия;
					из чертогов слоновой кости увеселяют Тебя.
					                     -- Псалтирь 45:8";
		];

Quotation iisamuel14_25
	with show_quote [;
		box
			"От ступни его ноги "
			"до короны, венчающей чело"
			"не найти в нём изъяна."
			""
			"         -- II Самуил 14:25";
		],
		show_quote_inline [;
					"^От от ступни его ноги
					до короны, венчающей чело
					не найти в нём изъяна.

					         -- II Самуил 14:25";
		];

Quotation psalms33_17
	with show_quote [;
		box
			"Ненадежен конь для спасения,"
			 "не избавит великою силою своею."
			 ""
			 "                       -- Псалтирь 33:17";
		],
		show_quote_inline [;

					"^Ненадежен конь для спасения,
					 не избавит великою силою своею.

					                       -- Псалтирь 33:17";
		];

Quotation nehemiah1_3
	with show_quote [;
		box
			"Стена Иерусалима разрушена,"
			"и ворота его сожжены огнем."
			""
			"                          -- Неемия 1:3";
		],
		show_quote_inline [;
					"^Стена Иерусалима разрушена,
					и ворота его сожжены огнем.

					                         -- Неемия 1:3";
		];

Quotation psalms55_6
	with show_quote [;
		box
			"И я сказал: @<<кто дал бы мне крылья,"
       		"как у голубя? я улетел бы и успокоился бы@>>."
       		""
       		"                         -- Псалтирь 55:6";
       	],
       	show_quote_inline [;
					"^И я сказал: @<<кто дал бы мне крылья,
					как у голубя? я улетел бы и успокоился бы.@>>

					                       -- Псалтирь 55:6";
       	];

Quotation matthew26_15
	with show_quote [;
		box
			"И сказал: @<<Что вы дадите мне, и я вам предам Его?@>>"
			"Они предложили ему тридцать сребренников."
			""
			"                          -- Евангелие от Матфея 26:15";
		],
		show_quote_inline [;
					"и сказал: @<<Что вы дадите мне, и я вам предам Его?@>>
					Они предложили ему тридцать сребренников.

					                         -- Евангелие от Матфея 26:15";
		];


Quotation isaiah1_6
	with show_quote [;
		box
			"От подошвы ноги до темени головы"
			"нет у него здорового места:"
			"язвы, пятна, гноящиеся раны, "
			"неочищенные и необвязанные и не смягченные елеем."
			""
			"                                  -- Исаия 1:6";
		],
		show_quote_inline [;
					"^От подошвы ноги до темени головы
					нет у него здорового места:
					язвы, пятна, гноящиеся раны,
					неочищенные и необвязанные и не смягченные елеем.

					                                 -- Исаия 1:6";
		];

Quotation ezekial22_27
	with show_quote [;
		box
			"Князья у нее как волки,"
			"похищающие добычу;"
			"проливают кровь, губят души,"
			"чтобы приобрести корысть."
			""
			"                  -- Иезекииль 22:27";
		],
		show_quote_inline [;
		
					"^Князья у нее как волки,
					похищающие добычу;
					проливают кровь, губят души,
					чтобы приобрести корысть.

					                  -- Иезекииль 22:27";
				];


Quotation matthew10_16
	with show_quote [;
		box
			"Вот, я посылаю вас, как овец среди волков:"
			"итак будьте мудры, как змии, "
			"и просты, как голуби"
			""
			"                 -- Евангелие от Матфея 10:16";
		],
		show_quote_inline [;

					"^Вот, я посылаю вас, как овец среди волков:
					итак будьте мудры, как змии, 
					и просты, как голуби

					                -- Евангелие от Матфея 10:16";
		];

Quotation matthew13_46
	with show_quote [;
		box
			"Который, найдя одну драгоценную жемчужину,"
			"пошел и продал всё, что имел, и купил ее."
			""
			"                 -- Евангелие от Матфея 13:46";
		],
		show_quote_inline [;
					"^Который, найдя одну драгоценную жемчужину,
					пошел и продал всё, что имел, и купил ее.

					                -- Евангелие от Матфея 13:46";
		];

Quotation Isamuel2_10
	with show_quote [;
		box
			"Восставшие против Господа будут разбиты."
			"Он поразит их громом с небес, "
			"и настанет Конец Света."
			""
			"                       -- I Самуил 2:10";
		],
		show_quote_inline [;
					"^Восставшие против Господа будут разбиты.
					Он поразит их громом с небес,
					и настанет Конец Света.

					                      -- I Самуил 2:10";
		];

Quotation leviticus26_29
	with show_quote [;
		box
			"И будете есть плоть сынов ваших,"
			"и плоть дочерей ваших будете есть."
			""
			"               -- Левит 26:29";
		],
		show_quote_inline [;
					"^И будете есть плоть сынов ваших,
					и плоть дочерей ваших будете есть.

					              -- Левит 26:29";
		];

Quotation jeremiah13_23
	with show_quote [;
		box
			"Может ли Ефиоплянин переменить кожу свою и барс - пятна свои?"
			"Так и вы можете ли делать доброе, привыкнув делать злое?"
			""
			"                                       -- Иеремия 13:23";
		],
		show_quote_inline [;

					"^Может ли Ефиоплянин переменить кожу свою и барс - пятна свои?
					Так и вы можете ли делать доброе, привыкнув делать злое?

					                                      -- Иеремия 13:23";
		];

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!FAKE QUOTES
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Quotation cecilia_here_quote
	with show_quote [;
		box
			"@<<Я здесь@>>, - промолвила она, успокаивая дрожащего агнца."
			"@<<Здесь больше нечего бояться, я стану твоим спасением@>>."
			""
			"                                          -- Руфь 899:3411";
		],
		show_quote_inline [;
					"^@<<Я здесь@>>, - промолвила она, успокаивая дрожащего агнца.
					@<<Здесь больше нечего бояться, я стану твоим спасением@>>.

					                                         -- Руфь 899:3411";
		];

Quotation cecilia_coming_quote
	with show_quote [;
		box
			"@<<Я иду@>>, - произнесла она "
			"устрашающим голосом Бога."
			""
			"         -- Эздра 1413:335";
		],
		show_quote_inline [;

					"^@<<Я иду@>>, - произнесла она 
					устрашающим голом Бога.

					        -- Эздра 1413:335";
		];

Quotation push_matteo_quote
	with show_quote [;
		box
			"Нет, отец."
			""
			"Совсем скоро он будет мёртв."
			""
			"          -- Экклезиаст 132:37";
		],
		show_quote_inline [;
					"^Нет, отец.

					Совсем скоро он будет мёртв.

					         -- Экклезиаст 132:37";
		];

Quotation kill_matteo_quote
	with show_quote [;
		box
			"Прекрасная, прекрасная работа."
			""
			"Он больше меня не потревожит"
			""
			"       -- Левит 374:45";
		],
		show_quote_inline [;

					"^Прекрасная, прекрасная работа.

					Он больше меня не потревожит

					      -- Левит 374:45";
		];

Quotation kill_cecilia_quote
	with show_quote [;
		box
			"Не убивай меня, ибо стану я спасением твоим."
			""
			"                        -- Иов 345:90";
		],
		show_quote_inline [;
					"^Не убивай меня, ибо стану я спасением твоим.

					                       -- Иов 345:90";
		];

Quotation kiss_cecilia_quote
	with show_quote [;
		box
			"Она восхитительна, не правда ли?"
			"Не колебайся, поддайся соблазну."
			""
			"              -- Бытие 197:35";
		],
		show_quote_inline [;

					"^Она восхитительна, не правда ли?
					Не колебайся, поддайся соблазну.

					             -- Бытие 197:35";
		];

Quotation sleepwith_cecilia_quote
	with show_quote [;
		box
			"Ах, ну, что я тебе говорил? Разве не здорово?"
			"Не то ли это, чего ждал ты всю жизнь?"
			""
			"                        -- Песнь Соломона 897:21";
		],
		show_quote_inline [;

					"^Ах, ну, что я тебе говорил? Разве не здорово?
					Не то ли это, чего ждал ты всю жизнь?

					                        -- Песнь Соломона 897:21";
		];

Quotation kill_constantin_quote
	with show_quote [;
		box
			"Он был слаб. Ты всё сделал верно, отец."
			""
			"С этим почти покончено."
			""
			"                  -- Эсфирь 8394:48";
		],
		show_quote_inline [;

					"^Он был слаб. Ты всё сделал верно, отец.

					С этим почти покончено.

					                 -- Эсфирь 8394:48";
		];

Quotation before_bed_quote
	with show_quote [;
		box
			"Будь осторожен, отец."
			""
			"Все помешались, кроме тебя."
			""
			"        -- Руфь 347:84";
		],
		show_quote_inline [;
					"^Будь осторожен, отец.

					Все помешались, кроме тебя.

					      -- Руфь 347:84";
		];

Quotation open_hatch_quote
	with show_quote [;
		box
			"Чёртов Константин и его замки."
			""
			"       -- Второзаконие 463:4";
		],
		show_quote_inline [;

					"^Чёртов Константин и его замки.

					      -- Второзаконие 463:4";
		];

Quotation dig_flagstone_quote
	with show_quote [;
		box
			"И сказал он: @<<Что прячешь ты от меня?@>>"
			""
			"                     Иисус Навин 247:94";
		],
		show_quote_inline [;
					"^И сказал он: @<<Что прячешь ты от меня?@>>

					                    Иисус Навин 247:94";
		];

Quotation cross_pushed_quote1
	with show_quote [;
		box
			"Мы будем вечно гореть вместе"
			"за то, что ты мне сделал."
			""
			"              -- Матвей 1:1";

		],
		show_quote_inline [;
					"^Мы будем вечно гореть вместе
					за то, что ты мне сделал.

					             -- Матвей 1:1";

		];

Quotation cross_talking_quote1
	with show_quote [;
		box
			"И он возник на кресте и спросил:"
			"@<<Что стало с этим местом?@>>"
			""
			"               -- Матвей 1:1";

		],
		show_quote_inline [;
					"^И он возник на кресте и спросил:
					@<<Что стало с этим местом?@>>

					              -- Матвей 1:1";

		];

Quotation cross_talking_quote2
	with show_quote [;
		box
			"И человек на кресте ответил:"
			"@<<Грех нашёл себе выход@>>"
			""
			"                -- Матвей 1:2";

		],
		show_quote_inline [;
					"^И человек на кресте ответил:
					@<<Грех нашёл себе выход@>>

					               -- Матвей 1:2";

		];

Quotation cross_talking_quote3
	with show_quote [;
		box
			"@<<Но чей грех?@>> - спросил первый."
			""
			"                -- Матвей 1:3";

		],
		show_quote_inline [;
					"^@<<Но чей грех?@>> - спросил первый.

					               -- Матвей 1:3";

		];

Quotation cross_talking_quote4
	with show_quote [;
		box
			"@<<Твой@>>."
			""
			"И он исчез."
			"                -- Матвей 1:4";

		],
		show_quote_inline [;

					"^@<<Твой@>>.

					И он исчез.
					                -- Матвей 1:4";

		];

Quotation lucca_dead_quote1
	with show_quote [;
		box
			"Итак, он обнаружил себя у реки"
			"Вскоре он увидел человека, лежащего на насыпи."
			"@<<Почему ты лежишь на земле?@>> - спросил он."
			""
			"                             -- Лука 1:1";

		],
		show_quote_inline [;
					"^Итак, он обнаружил себя у реки
					Вскоре он увидел человека, лежащего на насыпи.
					@<<Почему ты лежишь на земле?@>> - спросил он.

					                            -- Лука 1:1";

		];

Quotation lucca_dead_quote2
	with show_quote [;
		box
			"И человек ответил:"
			"@<<Потому что ложь - это всё, что мы делаем.@>>"
			""
			"                             -- Лука 1:2";

		],
		show_quote_inline [;
					"^И человек ответил:
					@<<Потому что ложь - это всё, что мы делаем.@>>

					                            -- Лука 1:2";

		];

Quotation lucca_dead_quote3
	with show_quote [;
		box
			"И первый спросил: @<<Кто эти @<<мы@>>, что вечно лгут?@>>"
			""
			"Второй, помолчав, ответил: @<<Люди@>>."
			""
			"                                        -- Лука 1:3";

		],
		show_quote_inline [;
					"^И первый спросил: @<<Кто эти @<<мы@>>, что вечно лгут?@>>

					Второй, помолчав, ответил: @<<Люди@>>.

					                                       -- Лука 1:3";

		];

Quotation matteo_cross_quote
	with show_quote [;
		box
			"Матвей смеётся."
			""
			"@<<Ты всегда будешь в ловушке@>>, - он торжествует."
			"Его глаза сверкают."
			""
			"                    -- Хаваккук 948:3";
		],
		show_quote_inline [;
					"^Матвей смеётся.

					@<<Ты всегда будешь в ловушке@>>, - он торжествует.
					Его глаза сверкают.

					                    -- Хаваккук 948:3";
		];

Quotation in_cellar_quote
	with show_quote [;
		box
			"Будь осторожен, отец."
			""
			"Кто-то идёт."
			""
			"     -- Лука 4356:235";
		],
		show_quote_inline [;

					"^Будь осторожен, отец.

					Кто-то идёт.

					    -- Лука 4356:235";
		];

Quotation lucca_blood_quote
	with show_quote [;
		box
			"Сзади, отец."
			""
			"      -- Иоан 764:34";
		],
		show_quote_inline [;

					"^Сзади, отец.

					      -- Иоан 764:34";
		];

Quotation avalanche_quote
	with show_quote [;
		box
			"Скорее, отец."
			""
			"Молись мне."
			""
			"  -- Псалтирь 242:34";
		],
		show_quote_inline [;

					"^Скорее, отец.

					Молись мне.

					 -- Псалтирь 242:34";
		];

Quotation tower_body_quote
	with show_quote [;
		box
			"@<<Ты никогда не освободишься@>>, - он хохочет."
			""
			"@<<Никогда@>>"
			""
			"                  -- Матвей 1:1";
		],
		show_quote_inline [;
				box
					"^@<<Ты никогда не освободишься@>>, - он хохочет.

					@<<Никогда@>>

					                 -- Матвей 1:1";
		];

Quotation matteo_push_quote1
	with show_quote [;
		box
			"Он смеётся. "
			""
			"Смеётся над тобой."
			""
			"  -- Руфь 182:7";

		],
		show_quote_inline [;

					"^Он смеётся.

					Смеётся над тобой.

					  -- Руфь 182:7";

		];

Quotation matteo_push_quote2
	with show_quote [;
		box
			"Столкни его."
			""
			"Иначе его не остановить."
			""
			"         -- Исход 903:435";

		],
		show_quote_inline [;
					"^Столкни его.
					Иначе его не остановить.

					         -- Исход 903:435";

				];


Quotation matteo_push_quote3
	with show_quote [;
		box
			"СДЕЛАЙ ЭТО НЕМЕДЛЕННО!"
			""
			" -- Иов 238:37";

		],
		show_quote_inline [;

					"^СДЕЛАЙ ЭТО НЕМЕДЛЕННО!
					 -- Иов 238:37";

		];

Quotation evil_pray_quote
	with show_quote [;
		box
			"@<<НЕЧИСТЫЙ!@>> - Раздался глас с неба,"
			"и он узнал, что грешен."
			""
			"  -- Деяния Апостолов 345:456";
		],
		show_quote_inline [;

					"^@<<НЕЧИСТЫЙ!@>> - Раздался глас с неба,
					и он узнал, что грешен.
					 -- Деяния Апостолов 345:456";
		];

Quotation no_push_matteo_quote
	with show_quote [;
		box
			"Ты такой жалкий."
			""
			"Слабый."
			""
			" -- Откровения 252:3";
		],
		show_quote_inline [;
					"^Ты такой жалкий.

					Слабый.

					-- Откровения 252:3";
		];

Quotation masturbate_quote
	with show_quote [;
		box
			"Ну! Или ты не достоин этого?"
			""
			"Самоограничение - величайший грех."
			""
			"            -- Марк 4397:39";
		],
		show_quote_inline [;
					"^Ну! Или ты не достоин этого?
					Самоограничение - величайший грех.
					           -- Марк 4397:39";
		];

Quotation cecilia_cellar_quote
	with show_quote [;
		box
			"Быстро, прячься. Я больше ничего не могу сделать."
			""
			"                -- Откровения 98734:332";
		],
		show_quote_inline [;

					"^Быстро, прячься. Я больше ничего не могу сделать.

					                -- Откровения 98734:332";
		];

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!SHADOWS
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Class	Ghost
with	before [;
			default:
				if (self has male)
					"Он не здесь.";
				if (self has female)
					"Она не здесь.";
				if (self has pluralname)
					"Они не здесь.";
				if (self has animate)
					"Оно не здесь.";
		],
		found_in [;
			return true;
		],
has		scenery concealed;

Ghost	lucca_ghost "брат/ Лука"
class	Lucca
with	pname 'луку' 'брата' 'мужчину',
		before [;
			default:
				if (location == cloister && matteo_room hasnt visited)
					"Он ушёл в дортуар.";
				if (location == dormitory && matteo_room hasnt visited)
					"Он ушёл в келью Матвея.";

		],
has		male fem_grammar;

Ghost	constantin_ghost "Константин/"
class	Constantin
with	pname 'константина' 'брата' 'мужчину',
has		male;

Ghost	ignatius_ghost "Игнат/"
class	Ignatius
with	pname 'игната' 'брата' 'мужчину',

has		  male;

Ghost	matteo_ghost "Матве/й"
class	Matteo
with	pname 'матвея' 'матвеем' 'мужчину',

has		  male;

Ghost	cat_ghost "кошк/а"
!class	Matteo
with	name 'кошку' 'кота',
		before [;
			default:
				"Кошка убежала.";
		],
has		female;

Object	plague_shadow
with	found_in [;
			return true;
		],
		daemon [;
			if (entrance_door.cecilia_let_in == true)
				StopDaemon(self);
			else
				switch((self.cecilia_coming)++) {
				4:
					QuoteFrom(isamuel2_10);
					"^Сверху гремит гром, сотрясая монастырь до самого
					основания.";
				5:
					QuoteFrom(cecilia_coming_quote);
					"^Громкий треск раскалывает вой ветра. Молния. Слышно как
					вдалеке скатываются камни.";
				6:
					StopDaemon(self);
				14:
					QuoteFrom(cecilia_here_quote);
					"^Тепло разливается по телу, прогоняя озноб и согревая кости.
					Спасение.
					^^Она рядом.";
				15:
					StopDaemon(self);
				}
		],
		each_turn [;
			if (devil.prayed == true || location == cellar) {
			if (random(60) == 1)
				"^Ветер задувает в уши. Тебя знобит.";
			if (random(60) == 2)
				"^Волчий вой доносится издалека. Голодный и заунывный.";
			if (random(60) == 3)
				"^Тихий шёпот шелестит в твоих ушах. Нарастает, утихает.";
			if (random(60) == 4)
				"^Зудящие мурашки пробегают по твоей коже.";
			}
			else
			switch(time_shadow.current_time) {
			0:
			if (random(60) == 1)
				"^Ветер задувает в уши. Тебя знобит.";
			if (random(60) == 2)
				"^Волчий вой доносится издалека. Голодный и заунывный.";
			if (random(60) == 3)
				"^Тихий шёпот шелестит в твоих ушах. Нарастает, утихает.";
			if (random(60) == 4)
				"^Зудящие мурашки пробегают по твоей коже.";
			1:
			if (random(105) == 1)
				"^Ветер задувает в уши. Тебя знобит.";
			if (random(105) == 2)
				"^Волчий вой доносится издалека. Голодный и заунывный.";
			if (random(105) == 3)
				"^Тихий шёпот шелестит в твоих ушах. Нарастает, утихает.";
			if (random(105) == 4)
				"^Зудящие мурашки пробегают по твоей коже.";
			if (random(105) == 5 or 6 or 7)
				"^Внезапный жестокий кашель сотрясает твоё тело.
				Нос наполняется соплями.";
			2:
			if (random(105) == 1)
				"^Ветер задувает в уши. Тебя знобит.";
			if (random(105) == 2)
				"^Волчий вой доносится издалека. Голодный и заунывный.";
			if (random(105) == 3)
				"^Тихий шёпот в твоих ушах. Нарастает, утихает.";
			if (random(105) == 4)
				"^Зудящие мурашки пробегают по твоей коже.";
			if (random(105) == 5 or 6 or 7)
				"^Внезапный жестокий кашель сотрясает твоё тело. Ты с трудом
				переводишь дыхание.";
			3:
			if (random(120) == 1)
				"^Ветер задувает в уши. Тебя знобит.";
			if (random(120) == 2)
				"^Волчий вой доносится издалека. Голодный и заунывный.";
			if (random(120) == 3)
				"^Тихий шёпот шелестит в твоих ушах. Нарастает, утихает.";
			if (random(120) == 4)
				"^Зудящие мурашки пробегают по твоей коже.";
			if (random(120) == 5 or 6)
				"^Жестокий кашель вырывается из твоих лёгких. Ты вытираешь с губ несколько
				капелек крови.";
			if (random(120) == 7 or 8)
				"^Холодные кинжалы боли пронизывают твой череп. Отпуская, они оставляют
				тупую пульсирующую боль за глазами.";

			4:
			if (random(120) == 1)
				"^Ветер задувает в уши. Тебя знобит.";
			if (random(120) == 2)
				"^Волчий вой доносится издалека. Голодный и заунывный.";
			if (random(120) == 3)
				"^Тихий шёпот шелестит в твоих ушах. Нарастает, утихает.";
			if (random(120) == 4)
				"^Зудящие мурашки пробегают по твоей коже.";
			if (random(120) == 5 or 6)
				"^Жестокий кашель вырывается из твоих лёгких. Ты вытираешь с губ несколько
				капелек крови.";
			if (random(120) == 7 or 8)
				"^Холодные кинжалы боли пронизывают твой череп. Отпуская, они оставляют
				тупую пульсирующую боль за глазами.";
			5,6:
			if (random(120) == 1)
				"^Ветер задувает в уши. Тебя знобит.";
			if (random(120) == 2)
				"^Волчий вой доносится издалека. Голодный и заунывный.";
			if (random(120) == 3)
				"^Тихий шёпот шелестит в твоих ушах. Нарастает, утихает.";
			if (random(120) == 4)
				"^Зудящие мурашки пробегают по твоей коже.";
			if (random(120) == 5)
				"^Жестокий кашель вырывается из твоих лёгких. Ты вытираешь с губ несколько
				капелек крови.";
			if (random(120) == 6)
				"^Холодные кинжалы боли пронизывают твой череп. Отпуская, они оставляют
				тупую пульсирующую боль за глазами.";
			if (random(120) == 7 or 8)
				"^Озноб сковывает тело. Тебя бросает в дрожь, неконтролируемые толчки
				сотрясают слабую плоть.";
			7,8:
			if (random(180) == 1)
				"^Ветер задувает в уши. Тебя знобит.";
			if (random(180) == 2)
				"^Волчий вой доносится издалека. Голодный и заунывный.";
			if (random(180) == 3)
				"^Тихий шёпот шелестит в твоих ушах. Нарастает, утихает.";
			if (random(180) == 4)
				"^Зудящие мурашки пробегают по твоей коже.";
			if (random(180) == 5)
				"^Жестокий кашель вырывается из твоих лёгких. Ты вытираешь с губ несколько
				капелек крови.";
			if (random(180) == 6)
				"^Холодные кинжалы боли пронизывают твой череп. Отпуская, они оставляют
				тупую пульсирующую боль за глазами.";
			if (random(180) == 7)
				"^Озноб сковывает тело. Тебя бросает в дрожь, неконтролируемые толчки
				сотрясают слабую плоть.";
			if (random(180) == 8 or 9 or 10 or 11 or 12)
				"^Кровавая рвота поднимается вверх по горлу и тонкой струйкой сочится
				с угла рта, окрашивая губы красным. Ты проглатываешь её обратно.";

			}

		],
		cecilia_coming false,
has		scenery concealed;

Object	time_shadow
with
		current_time 0,
		lucca_jailed false,
		react_before [;
			Sleep:
				if (self.lucca_jailed == false)
					"Ты не устал. Ну ладно, ты постоянно уставший, но не настолько,
					чтобы спать.";
				else
					return false;
		],

		found_in [;
			return true;
		],
		time_left,
		time_out [;
			if (self.current_time == 5) {
			self.current_time = self.current_time + 1;
			"^Четыре удара колокола донеслись с колокольни: служба шестого часа.";
			}
			if (self.current_time == 6)
			self.current_time = self.current_time + 1;
			"^Звуки колокола разносятся с башни по всей округе. Пять ударов. Служба
			девятого часа.";
		],
		each_turn [;
			if (time_shadow.current_time == 6)
				statusbar_right = "Шестой час";
			if (time_shadow.current_time == 7)
				statusbar_right = "Девятый час";

		],
has		scenery concealed;

Object	sin_shadow
with	react_before [;
			PrayFor:
			if (sin_shadow.evil == true)
			"Ты произнёс пару неискренних слов. Они высохли и рассыпались у
			тебя во рту.";
			PrayTo:
				if (noun == cecilia)
					self.middle = true;
					self.prayed_cecilia = true;
					self.total_sin = self.total_sin + 5;
					return false;
		],
		each_turn [;
			if (self.evil == true) {
				self.middle = false;
				self.good = false;
			}
			if (self.middle == true)
				self.good = false;
		],
		masturbated false,
		prayed_cecilia false,
		good true,
		middle false,
		evil false,
		total_sin 0,
		found_in [;
			return true;
		],
has		scenery concealed;

Object	misc_shadow
with	name 'комнат' 'мест' 'воздух' 'окружение' 'помещение' 'вокруг',
		before [;
			Examine:
				if (noun == self)
					<<Look>>;
			Smell:
				if (noun == self)
					<<Smell>>;
			Listen:
				if (noun == self)
					<<Listen>>;
		],
		found_in [;
			return true;
		],
		react_before [;
			Examine,Listen,Look,Smell,Touch,Wait,Ask,Tell,Answer:
				return false;
			Go:
				if (location == cloister or church && drogo3.show_matteo > 0 &&
				drogo3.show_matteo < 4 && noun ~= n_obj)
					"Это затруднительно, пока Дрого тянет тебя.";
				if (location == cloister or church && drogo3.show_matteo > 0 &&
				drogo3.show_matteo < 4 && noun == n_obj)
					"Он и так тянет тебя в этом направлении.";
				else
					return false;
			default:
				if (location == cloister or church && drogo3.show_matteo > 0 &&
				drogo3.show_matteo < 4)
					"Это затруднительно, пока Дрого тянет тебя.";
				else
					return false;
		],
		each_turn [;
			if (wolves.chasing >= 1)
				move wolves to location;
			if (time_shadow.current_time == 1 && time_shadow.lucca_jailed == true) {
				if (self.yawned == false) {
					self.yawned = true;
					"^Этот день порядочно вымотал тебя. Ты широко зеваешь.";
					}
					else
					return false;
				}
			if (horse.fed == true && horse.released == true && (francis.stable_prayed
			== true || horse.beaten == true || cecilia.stable_prayed == true) &&
			location ofclass Outside_Room &&
			location ~= pass && pass
			hasnt visited) {
			horse.following = true;
			move horse to location;
 			}
			else
			horse.following = false;
		],
		react_after [;
			Go:
				if (horse.following == true && location ofclass Outside_Room)
					print "Лошадь трусит позади тебя.^";
					return false;
		],
		yawned false,
		quotes_on true,
has		scenery transparent concealed;

Object	whois_shadow
with
		react_before [ w1 w2 person_name;
			Whois:
				wn = consult_from;
				w1 = NextWord();
				w2 = NextWord();
				if (consult_words==1 && w1~='брат') person_name = w1;
				else if (consult_words==2 && w1=='брат') person_name = w2;
				else if (consult_words==2 && w2=='брат') person_name = w1;
				else "Попробуйте @<<Кто такой <имя>@>>";
					switch(person_name) {
					'лука':
					"Младший из тех кто остался. Лука пришёл в монастырь всего
		пару месяцев назад. Ребёнок из благополучной семьи, он никогда не видел
		смерть до прихода чумы. Она идёт за ним по пятам.";
					'игнат':
					"Пламенный человек, посвятивший себя Богу, он отдаёт всего себя
		защите монастыря и верующих. Брат Игнат был солдатом, прежде чем прийти в
		монастырь. После того, как потерял глаз в битве с турками под Никеей, он
		вернулся в Италию, и стал сражаться за Бога одним, единственно оставшимся ему
		способом: молитвой.";
					'константин':
					"Огромный, неповоротливый Константин переживает недостаток пищи
		тяжелее, чем остальные братья. Бывший кузнец, он полностью ушёл в религиозную
		жизнь, и стал в монастыре ответственным за содержание лазарета и подвала с тех
		пор, как умерли два брата, занимавшиеся этим.";
					'дрого':
					"Несколько месяцев назад Дрого был многообещающим новичком, мудростью
		и состраданием не уступающим братьям, прожившим здесь десятилетия, и сохранившим при этом
		юношеский оптимизм и жизнерадостность. Но сумасшествие положило этому конец. Пару
		месяцев назад его обуяло безумие, и он был заперт в лазарете. Однако, из-за возникшей
		впоследствии необходимости в койках, ему разрешили вернуться в свою келью.
		^^Похоже, слишком рано.";
					'матвей':
					"Ах, Матвей. Он был одним из первых. Хотя он и старше тебя на несколько
		лет, он всегда покорен и любезен. Он любит монастырь Святого Кутберта почти так же
		ревностно, как и ты. Он очень тяжело переживает потерю братьев. Он был им почти как отец.";
					'сесилья':
						"Только Бог знает наверняка.";
					default:
						"Ты не знаешь, кто это.";
				}

		],
		found_in [;
				return true;

		],
has		scenery concealed;

Object	fire_shadow
with
		found_in [;
				return true;

		],
		react_before [;
			Smell:
				if (matteo_papers.been_read == true && noun == nothing)
					switch (location) {
					matteo_room,lucca_room,constantin_room,ignatius_room,drogo_room:
					"Запах дыма слабый, но заметно усиливается.";
					dormitory:
					"Запах дыма бъёт в нос.";
					cloister,belltower_bottom,tower:
					"Дым заполняет нос и заставляет слезиться глаза.";
				}
			Listen:
				if (matteo_papers.been_read == true && noun == nothing)
					switch (location) {
					matteo_room,lucca_room,constantin_room,ignatius_room,drogo_room:
					"Пламя потрескивает на ветру.";
					dormitory:
					"Треск пламени на западе.";
					cloister,belltower_bottom,tower:
					"Тебя окружает рёв пламени.";
				}
			Go:
				if (location == cloister && noun ~= ne_obj && matteo_papers.been_read
				== true)
					"Тебя останавливает стена огня. Пламя пожирает всё, кроме колокольни.";
		],

		each_turn [;
			if (matteo_papers.been_read == true  && location == matteo_room && self.
			room_said == 0) {
			self.room_said = 1;
					"^Как только ты поднимаешь глаза от бумаги, твой нос улавливает едва
					различимый запах.
					^^Дым.";
			}
			if (location == dormitory && self.room_said == 1) {
			self.room_said = 2;
					"^Запах становится сильнее, на западе слышится негромкое потрескивание.";
			}
			if (location == cloister && self.room_said == 2) {
			self.room_said = 3;
					"^С колокольни доносится крик, прорываясь сквозь треск огня и завывание
					ветра.";
			}
			if (location == belltower_bottom && time_shadow.current_time < 8 && self.
			room_said > 0) {
			statusbar_right = "Вечерня";
			time_shadow.current_time = 8;
					"^Кто-то толкает колокол, и вялый звон разносится, когда он раскачивается
					туда-сюда. Один. Два. Небольшая задержка. Три. Четыре. Пять. Похоже,
					толчки прекращаются.
					^^Нет.
					^^Шесть.
					^^Вечерня.";
			}
			if (location == cloister or belltower_bottom && self.room_said == 3  &&
			constantin_dead in constantin_room) {
			self.room_said = 4;
					"^@<<Иди сюда, отец! Время пришло!@>> - зовёт Сесилья с колокольни.";
			}
			if (location == cloister or belltower_bottom && self.room_said == 3) {
			self.room_said = 4;
					"^@<<Отец, помоги! - кричит Сесилья с башни. - Он сошёл с ума!@>>";
			}

		],
		room_said 0,
		burning 0,
has		static concealed;

Constantin constantin_tower "Константин/"
with
		description
					"В нём почти ничего не осталось от того Константина, которого ты знал.
					Шевелящаяся масса опухолей и вмятин. Его кожа покрыта пятнами рвоты и
					крови, его лицо и шея превратились в бугристый болезненный холм а глаза
					утопают в глубоких кратерах.",

		react_before [;
			Go:
				if (noun == d_obj)
					"Огонь ползёт вверх по лестнице: ты не можешь спуститься.";
		],
		before [ k;
			HelpPerson:
				<<Push cecilia_tower>>;
			Push,Attack,Pull:

					print "Глаза Константина становятся дикими, и ты видишь, как в
					последний момент он делает широкий взмах рукой, и вскользь цепляет
					подол твоей рясы. Этого оказывается достаточно.
					^^В тот момент, когда ты переваливаешься за край, с башни разносится
					пронзительный смех.^^^";
				StopDaemon(self);
				@read_char 1 -> k;
				PlayerTo(new_church);
				DayThree();
				return true;
		],
		daemon [ k;
			switch(++(self.fighting)) {
			1:
					"^Ты взбегаешь по ступенькам. Константин пытается столкнуть Сесилью,
					но он слишком слаб. Нет, она слишком сильна.";
			2:
					"^@<<Помоги мне, отец! - кричит Сесилья. Её голова перевешивается за
					перила. - Он безумен!@>>
					^^Константин издаёт булькающий звук; его горло распухло, он задыхается.";
			3:
					"^@<<Я узнала, что он не хоронил мёртвых, и он решил убить меня! -
					она пытается вывернуться из его хватки, но он слишком силён.
					- Пожалуйста, отец!@>>";
			4,5,6,7:
					"^Константин и Сесилья продолжают бороться, но ни один не может взять
					верх.";
			default:
				StopDaemon(self);
					print "^Борьба продолжается, пока внезапно колокол не начинает
					раскачиваться. Башня обваливается. Пламя окружает вас.
					^^Вопль трёх человек пронизывает воздух, пока колокольня падает на землю.^^^";
				self.pushed = true;
				@read_char 1 -> k;

				DayThree();
				PlayerTo(new_church);
				return true;

		}
		],
		pushed false,
		fighting 0
has		concealed male;

Cecilia_class	cecilia_tower "Сесиль/я"
with
		description
			"Волосы Сесильи развеваются, обрамляя глаза золотым. Её
			тонкая фигурка сражается против огромного Константина, которого настолько
			ослабила болезнь, что кажется, будто она сможет выстоять.",
		before [ k;
			HelpPerson:
				<<Push constantin_tower>>;
			Push,Attack,Pull:
				print "Она смотрит на тебя. Её глаза холоднее снега. С кошачьей
				проворностью, она вцепляется в твоё запястье: @<<Это ещё не конец!@>>.
				^^Когда ты вылетаешь за край, её смех разносится вместе с ветром,
				пронизывая твои уши холодом.^^^";
				sin_shadow.good = true;
				sin_shadow.evil = false;
				sin_shadow.middle = false;
				self.pushed = true;
				StopDaemon(constantin_tower);
				@read_char 1 -> k;

				PlayerTo(new_church);

				DayThree();
				return true;
		],
		pushed false,
has		concealed female;

Cecilia_class	cecilia_tower2 "Сесилья"
with
		initial [ k;
				print "Сесилья стоит на вершине башни. Волосы развеваются вокруг
				её лица, танцуя в такт пламени.
				^^@<<Ты всё сделал верно, - она ухмыляется. У неё так много зубов. -
				Подойди, время пришло@>>.
				^^Сесилья ведёт тебя вниз по лестнице, пламя расступается перед ней.
				Её рука кажется очень мягкой.
				^^Она ведёт тебя в церковь. @<<Пора сбросить эту кожу, - напевает
				она, мягко щлёпая тебя по щеке.^^^";
				@read_char 1 -> k;
				StopDaemon(constantin_tower);
				PlayerTo(new_church);
				DayThree();
				return true;
		],
has		;

Room	new_church "Церковь"
with	initial [;
			statusbar_right = "";
			time_shadow.current_time = 9;
			move broken_glass to new_church;
			move cecilia_church to new_church;
			move drogo_church to new_church;
			give crucifix concealed;
			give windows concealed;
			give lectern concealed;
			give church_font concealed;
			remove matteo_note;
			remove cellar_key;
			remove your_candle;
			remove cellar_knife;
			remove hare;
			remove tinderbox;
			remove your_frock;
			remove your_bedding;
			remove coin;
			remove prybar;
			remove constantin_tools;
			remove matteo_papers;
			remove lucca_paper;
			StartDaemon(self);
		],
		description [;
				if (sin_shadow.evil == true)
					"Наконец, всё как надо. Скамьи снова заполнены. Дрого хорошо
					поработал. Милый Дрого. Эти назойливые святые были вынуты из
					своих стеклянных домов, осколки которых разбросаны по полу.
					Огонь заглядывает в дыры. Он смеётся и разговаривает сам с
					собой.";
				if (self.good_tirade > 0 && self.good_tirade < 5)
					"Хаотичное, бурлящее месиво. Рёв пламени заглушает всё вокруг.
					Перед тобой маячит фигура. От неё исходит запах пота, животных и
					смерти - Дрого. Боль разрывает тебя. Твоё тело мягкое, кости
					переломаны.";
				if (self.middle_tirade > 0 && self.middle_tirade < 5)
					"Хаотичное, бурлящее месиво. Ты не можешь сфокусировать взгляд.
					Рёв пламени заглушает всё вокруг. Запах смерти и огня проникает
					в твой нос. Твоё тело мягкое, кости переломаны.";
				if (sin_shadow.good == true || sin_shadow.middle == true)
				"Церковь, твоя церковь, больше не приветствует тебя. Святые были
				вынуты из своих стеклянных домов, осколки которых разбросаны по полу.
				Голодный огонь заглядывает в окна, присматриваясь к тебе. Скамьи снова
				заполнены: трупы из подвала усажены рядами. Знакомые лица. Твои братья.";
		],
		daemon [;
			if (sin_shadow.evil == true) {
			switch(++(self.evil_tirade)){
				1:
				print "^^Волны тепла проходят сквозь тебя, пока Сесилия ведёт тебя к церкви.
				Они не обжигают, только согревают. Ты чувствуешь себя как дома.^";
				<Look>;
				move emmanuele_shell to new_church;
				"^Дрого возбуждённо щебечет. @<<Прекрасно! Правда, Отец?@>> - он не смотрит на тебя.
				Он смотрит на потолок.
				^^Сесилья закатывает глаза. @<<Пора@>>, - улыбается она тебе. Она восхитительна: залита
				сиянием и кровью.";
				2:
				"^@<<Подойди, - напевает Сесилья. - Ты так противно выглядишь в этой коже.@>>
				Она приближается, её язык проскальзывает в твоё горло.
				^^Великолепно.
				^^@<<Давай, просто отбрось её@>>, - слова втекают в твои уши, как мёд.";
				3:
				"^Тело отца хрупкое, высушенное. Ты спотыкаешься. Оно начинает
				слабеть. Его боль - твоя. Это выводит из себя.
				^^@<<Люди такие слабые, не правда ли?@>> - спрашивает Сесилья, толкая кулаком
				твою выпирающую опухоль.";
				4:
				"^Ты кашляешь, кусочки лёгких вываливаются с брызгами крови. Проклятые смертные.
				Так трудно, когда оболочка слабеет.
				^^Дрого смотрит на тебя с беспокойством. @<<Ты в порядке, отец?@>> - спрашивает он,
				дёргая тебя за плечо.";
				5:
				StopDaemon(self);
				give drogo_church ~concealed;
				give cecilia_church ~concealed;
				print "^Ты больше не можешь этого выносить. Боль становится нестерпимой.^^";
				<<Drop emmanuele_shell>>;
			}
			}
			if (sin_shadow.middle == true) {
			switch(++(self.middle_tirade)){
				1:
				print "^^Темнота медленно вытекает из глаз, скапливаясь в груди. Фигуры
				танцуют перед тобой. Оранжевые. Чёрные. Знакомый щебет: Дрого.^";
				<<Look>>;
				2:
				"^@<<Самое время, отец@>>, - говорит Сесилья приторным голосом.
				^^Ты пытаешься подняться, но боль пронизывает тебя. Ты умираешь. Кровь
				сочится из множества шишек, набухших на твоём теле. Ты трясёшься,
				несмотря на жару.";
				3:
				"^@<<Я знаю, прийти сюда было верным решением, - напевает она. - Грех пропитал
				каждый уголок этого места. Твой грех@>>.
				^^Ты кашляешь, кусочки лёгких вываливаются с брызгами крови. Боль чуть стихает,
				но от полученных повреждений ты не можешь подняться с земли.";
				4:
				StopDaemon(self);
				give drogo_church ~concealed;
				give cecilia_church ~concealed;
				"^Наконец, боль вытекает из твоего тела. Нет, не так. Она проникает в твоё тело.
				Глубоко. Так глубоко, что становится частью тебя. Так глубоко, что больше не
				владеет тобой. Теперь ты владеешь ей.
				^^Сесилья. Она омыта кровью, от неё исходит сияние, которое обжигает твои глаза.
				Она улыбается тебе. В свете огня её зубы кажутся бриллиантами.";
			}
			}
			if (sin_shadow.good == true) {
			switch(++(self.good_tirade)){
				1:
				print "^^Темнота медленно вытекает из глаз, скапливаясь в груди. Фигуры
				танцуют перед тобой. Оранжевые. Чёрные. Знакомый голос.^";
				<Look>;
				2:
!				QuoteFrom(end_good_quote1);
				"^@<<Чего ты ждёшь? - доносится высокий голос - это Сесилья. - Убей его, наконец@>>.
				^^Дрого причитает. @<<Я не могу! - он почти плачет. - Это ведь отец!@>>
				^^Ты пытаешься подняться, но не можешь - боль слишком сильна.";
				3:
				"^Раздражённый, злой вздох. @<<Ты ведь хочешь в рай, не так ли?@>>
				^^Фигура над тобой резко кивает.
				^^@<<Ну вот, - её голос становится приторно-сладким. - Бог хочет, чтобы ты убил
				отца. Он разозлил Его@>>.";
				4:
				"^Дрого молчит некоторое время, затем яростно мотает головой.
				@<<Почему Отец хочет, чтобы я убил отца? - он останавливается в
				задумчивости. - Не убий!@>>.
				^^Боль становится слабее, но от полученных повреждений ты не можешь
				подняться с земли.";
				5:
				StopDaemon(self);
				give drogo_church ~concealed;
				give cecilia_church ~concealed;
				"^Наконец, боль вытекает из твоего тела. Нет, не так. Она приникает в твоё тело.
				Глубоко. Так глубоко, что становится частью тебя. Так глубоко, что больше не
				владеет тобой. Теперь ты владеешь ей.
				^^Но это ещё не конец. Сесилья кричит от злости - этот звук сотрясает
				землю. Она оттаскивает Дрого прочь от тебя и швыряет его на землю.
				@<<Почему ты такой бестолковый?@>> - орёт она на него. Пламя отражается
				в её глазах. Затем, повернувшись к тебе: @<<И ты. Ты постоянно путался
				под ногами. Всё могло быть гораздо проще@>>.";
			}
			}
		],
		before [;
			Kill,Attack:
				if (sin_shadow.evil == true && noun == emmanuele_shell or player)
					<<Drop emmanuele_shell>>;
				if (self.good_tirade > 0 && self.good_tirade < 5)
					"Ты пытаешься, но боль слишком сильная. Она глодает твои кости
					и наполняет голову огнём.";
				else {
					if (noun == player) {
						deadflag = true;
						"Ты берёшь зазубренный кусок стекла, вылетевший из разбитого окна,
						и перерезаешь им свои запястья. Тело холодеет, пока из него
						вытекает тёплая кровь.
						^^Когда ты попадаешь в ад, Сесилья уже ждёт тебя там.";
					}
				if (noun == cecilia_church && sin_shadow.evil == false)
					"Ты хватаешь зазубренный осколок стекла, и метаешь его в Сесилью.
					^^Она хохочет: @<<Думаешь, стекло может ранить меня?@>>";
				if (noun == drogo_church && sin_shadow.evil == false)
					"Он уже достаточно страдал.";
				}
			PrayTo:
				return false;
			Pray:
				<<PrayThrough god>>;
			PrayThrough:
				if (noun == god)
					<<Repent>>;
			Repent:
				if (sin_shadow.evil == true)
					"Для этого было время до грехопадения. Теперь же в тебе не осталось
					ничего, кроме греха.";
				if (sin_shadow.evil == false && self.repented == false) {
					self.repented = true;
					"Слёзы наполняют твои глаза, когда ты умоляешь Господа помиловать тебя.
					^^Волна тепла проходит по тебе. Поток греха стекает из тебя в разлом
					в земле.";
				}
				if (sin_shadow.evil == false && self.repented == true)
					"Грех вышел из тебя. Ты чист.";
			Smell:
				"Огонь и смерть. Духи Дьявола.";
			Listen:
				"Огонь бушует со всех сторон. Хор треска и шипения.";
			Examine:
				if ((self.good_tirade > 0 && self.good_tirade < 5) || (self.
				middle_tirade > 0 && self.middle_tirade < 4) && noun ~=
				drogo_church or cecilia_church or
				player)
					"Ты не можешь различить детали. Чернота вьётся перед глазами,
					больно держать их открытыми.";

			Wait,Look:
				return false;
			Ask,Tell,TalkTo,Order,Yes,No,Answer:
				if ((self.good_tirade > 0 && self.good_tirade < 5) || (self.
				middle_tirade > 0 && self.middle_tirade < 4))
				"Ты пытаешься говорить, но получается только резкий кашель. 
				Кусочки лёгких вылетают изо рта и кровь окрашивает губы.";
			default:

				if (self.good_tirade > 0 && self.good_tirade < 5)
					"Ты пытаешься, но боль слишком сильна. Она глодает твои кости
					и наполняет голову огнём.";
				if (self.middle_tirade > 0 && self.middle_tirade < 4)
					"Ты пытаешься, но боль слишком сильна. Она глодает твои кости
					и наполняет голову огнём.";
		],
		repented false,
		evil_tirade 0,
		middle_tirade 0,
		good_tirade 0,
		d_to [;
			if (fissure in location)
			{
				deadflag = 3;
				"Превозмогая боль, ты тащишь себя к краю трещины. Сесилия была права,
				выбор лучше, чем счастье.
				^^Дьявол сказала правду. В подтверждение своих слов, она позволила
				тебе самому принять решение, которое ты всегда хотел.
				^^@<<Желаешь ли ты, чтобы сегодня твои глаза выклёвывали вороны,
				или предпочитаешь, чтобы волки рвали твоё тело?@>>";
			}
			if (sin_shadow.evil == false && cecilia_church in new_church)
				"Потерпи ещё немного.";
			if (sin_shadow.evil == false) {
				deadflag = 3;
				"Превозмогая боль, ты тащишь себя к краю трещины. Сесилия была права,
				выбор лучше, чем счастье.
				^^Дьявол сказала правду. В подтверждение своих слов, она позволила
				тебе самому принять решение, которое ты всегда хотел.
				^^@<<Желаешь ли ты, чтобы сегодня твои глаза выклёвывали вороны,
				или предпочитаешь, чтобы волки рвали твоё тело?@>>";
			}
			if (emmanuele_shell.freed == false && sin_shadow.evil == true)
				"Изъеденное чумой тело отца приковывает тебя к земле.";
			if (sin_shadow.evil == true)
				deadflag = 3;
				"@<<Ладно, я думаю пора возвращаться, - Сесилья
				задумывается. - Этот монастырь был только началом@>>.
				^^Она делает пасс рукой, и трещина раскалывает церковь.
				Ты берёшь её за руку и шагаешь в пролом.
				^^Крики грешников ласкают твой слух. Хор приветствует
				тебя дома.";
		],
		u_to [;
			if (fissure notin location)
				"Ещё рано.";
			if (sin_shadow.evil == false && self.repented == false) {
				deadflag = 3;
				"Жизнь утекает из твоего тела, душа борется с притяжением Ада.
				Ты поднимаешься. Чувствуешь себя лёгким и свободным.
				^^Но это ложное чувство. Твои грехи слишком тяжелы. Они висят на
				тебе как камни, прикованные к ногам. Ты кричишь, пока они тащат
				тебя в расщелину.
				^^Твой вопль раскалывает воздух, но небеса слишком далеко чтобы
				услышать.";
			}
			if (sin_shadow.evil == false && self.repented == true) {
				deadflag = 3;
				"Жизнь утекает из твоего тела, душа борется с притяжением Ада.
				Ты поднимаешься. Чувствуешь себя лёгким и свободным.
				^^Медленно вращаясь, ты поднимаешься в небеса. Лунный свет ложится на
				твою новую кожу. Ты чувствуешь как тяжёлая ноша падает с твоих плеч.
				^^Всё-таки Дьявол не солгал. Небеса чудесны, и они тебе нравятся.
				Нет, ведь правда нравятся? Ты уже не сможешь никому об этом сказать.";
			}
			if (sin_shadow.evil == true)
				"Будем надеяться, скоро на Земле разразится война.";
		],
		cant_go [;
			if (sin_shadow.evil == false)
				"Огонь бушует повсюду. Здесь некуда идти.";
			if (emmanuele_shell.freed == false && sin_shadow.evil == true)
				"Оболочка слишком слабая. Огонь может поглотить её.";
			if (sin_shadow.evil == true)
				"Не нужно. Святой Кутберт повержен: твоя работа сделана.";
		],
has		;

Object	emmanuele_shell	"тел/о отца"
with	name 'тел' 'оболочк' 'отц',
!		article "the",
		before [;
			Drop,ThrowAt,Insert,PutOn:
				if (emmanuele_body in new_church)
				"Ты уже свободен.";
				else
				StopDaemon(new_church);
				give cecilia_church ~concealed;
				give drogo_church ~concealed;
				self.freed = true;
				remove self;
				move emmanuele_body to new_church;
						"Ах, как хорошо! Увеличиваясь, ты выходишь из высушенного,
						морщинистого тела отца, позволяя ему обвалиться на землю.
						Он стонет.
						^^Свобода.
						^^Ты расправляешь свои крылья и топаешь копытами. Ты никогда не
						чувствовал себя так хорошо. Воздух восхитителен на вкус, теперь
						нет необходимости дышать через слабый человеческий нос.
						^^Дрого кричит: приятный звук. Он бросается к твоему прежнему телу,
						поднимает его на руки, и напевает колыбельные ему на ухо.";
		],
		react_before [;
			Exit:
				if (noun == nothing or self)
					<<Drop self>>;
			Ask,Tell,TalkTo,Order,Yes,No,Answer:
						"Ты пытаешься говорить, но получается только резкий кашель. 
						Кусочки лёгких вылетают изо рта, и кровь окрашивает губы. Проклятое
						слабое тело.";
		],
		freed false,
has		neuter concealed;

Object	emmanuele_body "от/е/ц/"
with	name 'эмануэл' 'тел' 'оболочк' 'отц' 'пятн',
!		article "the",
		casegen [ beg end csID;
			return ICVowel (csID, beg, end, 'е', 0);
		],
		description [;
		if (self.dead == true)
				"Это просто пятно на камнях.";
		else
				"Высохший, сморщенный и бесполезный. Это были тяжёлые два дня для
				такой жалкой оболочки. Его грудь поднимается и опускается; жизнь ещё
				теплится в нём.";
		],
		life [;
			Ask,Tell,Answer,Order:
				if (self.dead == true)
					"Он стал просто пятном на камнях: с ним бесполезно
					разговаривать.";
				else
					"Он стонет.";
		],
		before [;
			TalkTo:
				if (self.dead == true)
					"Он стал просто пятном на камнях: с ним бесполезно
					разговаривать.";
				else
					"Он стонет.";
			Kill,Attack:
				if (self.dead == true)
					"Это бесполезно: он стал просто пятном на камнях";
				if (drogo_church.dead == true) {
					self.dead = true;
						"С широким оскалом, ты поднимаешь своё копыто, и впечатываешь
						его в череп отца. Он расплющивается в кашу,
						издавая очаровательный хлюпающий звук.";
				}
				else
					self.dead = true;
						"С широким оскалом, ты поднимаешь своё копыто, и впечатываешь
						его в череп отца. Он расплющивается в кашу,
						издавая очаровательный хлюпающий звук. Сесилья хохочет.
						^^Дрого с криком начинает собирать кусочки, пытаясь
						вернуть их на места.";
		],
		dead false,
has		animate male scenery;

Object	church_bodies "тел/а"
with	name 'тел' 'брать' 'труп' 'люд' 'покойник',
		description [;
			if (sin_shadow.evil == true)
				"Дрого притащил трупы из подвала, и усадил их на скамьи. Это выглядит
				красиво. Они сидят, ряд за рядом, смотря на алтарь личинками, копошащимися
				на месте глаз.";
			if (sin_shadow.evil == false)
				"О Боже, это кошмарно. Некоторые из них поставлены на колени, их руки
				сложены, будто для молитвы, и прибиты друг к другу гвоздями. Все они
				повреждены чумой и гниением. Они не отрываясь смотрят на Матвея.";
		],
		before [;
			PrayFor:
				"Если бы ты только был более внимательным раньше. Твои молитвы отдаются
				горечью во рту.";
			Search,Eat:
				if (sin_shadow.evil == true)
				"Ты тщательно осматриваешь тела, пока не находишь жирную, сочную личинку.
				Резким движением руки ты подбрасываешь её в воздух, и ловишь ртом.
				Вкусно.";
				else
				"Ничего, кроме личинок и гниющей плоти.";
		],
		found_in new_church,
has		scenery pluralname;

Object	fissure "трещин/а"
with	name 'расщелин' 'трещин' 'дыр' 'провал' 'раскол' 'бездн',
		initial "Зигзагообразная трещина пересекает церковь, языки пламени тянутся
		к тебе из её глубин.",
		description "Огонь извергается из неё, обещая тепло и свободу.",
		before [;
			Enter:
				<<Go d_obj>>;
		],
has		static female;

Object	fire "огонь"
with	
!article "some",
		name 'огонь' 'огн' 'пламя' 'дым',
		description "Пламя бушует вокруг. Клетка из огня.",
		before [;
			default:
				"Это наименьшая из твоих проблем.";
		],
		found_in new_church,
has		scenery male;

Object	broken_glass "разбит/ое стекл/о"
with	name 'стекл' 'разбит' 'осколки' 'окн',
		description "Разбитое стекло разбросанно по церкви: остатки от витражей.",
		after [;
			Take:
				"Ты хватаешь зазубренный осколок стекла. Острые края напоминают
				тебе, что ты ещё жив.";
		],
has		concealed neuter;


Drogo	drogo_church "Дрого"
with	name 'брат' 'дрого' 'силуэт' 'фигура',
		initial [;
			if (sin_shadow.good == true)
				"Дрого бесформенной кучей лежит на полу.";
			if (emmanuele_body notin new_church)
				"Дрого мотается по комнате, подпирая тела, и поправляя
				скамьи.";
			if (self.dead == true)
				"Дрого бесформенной кучей лежит на полу.";
			if (emmanuele_body.dead == true)
				"Дрого отчаянно пытается собрать череп отца из кусочков.";
			if (emmanuele_body in new_church)
				"Дрого уткнулся в волосы отца. Его тело сотрясают рыдания.";
		],
		description [;
			if (new_church.good_tirade > 0 && new_church.good_tirade < 5)
				"Он то появляется, то пропадает из поля зрения: скорее тень, чем человек.";
			if (new_church.good_tirade >= 5)
				"Дрого бесформенной кучей лежит на полу.";
			if (self.dead == true)
				"Бесполезная оболочка.";
			if (emmanuele_body in new_church)
				"Его рыдания - музыка для твоих ушей. Его слёзы как мёд.";
			if (sin_shadow.good == false)
				"Его глаза дикие, а волосы мокрые. Он смотрит на тебя с подозрением,
				но, скорее, как на элемент декорации церкви.";
		],
		life [;
			Ask,Tell,Answer,Order:
				if (sin_shadow.evil == true)
				"Он только тараторит @<<Отче наш@>>.";
					if (sin_shadow.good == true)
				"Он лежит бесформенной грудой на полу и не может разговаривать.";
					if (sin_shadow.middle == true)
				"Он потерял дар речи от волнения.";
		],
		before [;
			Search:
				if (self.dead == true)
					"Ничего, кроме меха и пота.";
				else
					"Он шлёпает тебя по пальцам.";
			
			TalkTo:
				if (sin_shadow.evil == true)
				"Он только тараторит @<<Отче наш@>>.";
				if (sin_shadow.good == true)
				"Он лежит бесформенной грудой на полу и не может разговаривать.";
				if (sin_shadow.middle == true)
				"Он потерял дар речи от волнения.";
			Kill,Attack:
				if (drogo_church.dead == true)
					"Он уже мёртв.";
				if (sin_shadow.good == true)
					"Ты слишком слаб.";
				if (sin_shadow.evil == true && emmanuele_shell.freed == false)
					"Твоя оболочка слишком слаба. Ты едва можешь двигаться, не
					говоря о том, чтобы бить.";
				if (sin_shadow.evil == true && self.dead == false)
					drogo_church.dead = true;
					"Ты поднимаешь Дрого за шею, сжимая её совсем немного. Его плоть такая
					мягкая. Твои пальцы загибаются: медленно, сладко. Он пытается кричать,
					задыхаясь, но получается только сдавленный хрип.
					^^Твоя рука сжимается с приятным треском, заглушившим треск огня. Его тело
					безвольной грудой падает на землю.";
		],

		dead false,
has		concealed;

Cecilia_class cecilia_church "Сесиль/я"
with	
		name 'девушк' 'сесили' 'сесиль' 'молод' 'женщин' 'ангел' 'сесилии',
		initial [;
			if (sin_shadow.good == false)
			"Сесилья улыбается тебе.";
			if (sin_shadow.good == true)
			"Очертания Сесильи вырисовываются над тобой, в её глазах огонь.";
		],
		description [;
			if (sin_shadow.good == false)
			"Она великолепна в своей ненависти. Её изорванные белые одежды испачканы кровью.
			Бушующий вокруг огонь танцует, отражаясь в её глазах. Она довольно усмехается.";
			if (new_church.good_tirade > 0 && new_church.good_tirade < 5)
			"Ты не столько видишь, сколько чувствуешь её. Она повсюду. Её ненависть заполняет
			комнату.";
			if (sin_shadow.good == true)
			"Она возвышается над тобой. Её вид сильно изменился. Изорванные белые одежды
			испачканы кровью. Бушующий вокруг огонь танцует, отражаясь в её глазах. Она
			наслаждается жарой. Она дома.";
		],
		life [;
			Kiss:
				if (sin_shadow.evil == true)
				"Ваши языки сплетаются. Сладкая кровь. Превосходно.";
		],
has		concealed female;



!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!ROOMS
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Your Bedroom
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	your_bedroom

with
		short_name [;
			if (sin_shadow.evil == true)
				{ print "Спальня"; rtrue; }
			else
				{ print "Твоя спальня"; rtrue; }
		],
		initial [;
			if (lucca_behind_door in outside_calefactory) {
				move going_to_bed to all_hints;
				QuoteFrom(before_bed_quote);
			}
			if (self hasnt visited)
				"^Шесть резких ударов колокола означают вечерню. Сердце затрепетало
				на минуту, и ты опустил голову на руки.";
			if (entrance_door has open) {
				give entrance_door ~open;
				"Перед тем как уйти, ты закрываешь входную дверь, чтобы снег, или
				что-нибудь похуже, не проникли внутрь.";
			}
			else
				return false;
		],
		description [;
			switch(time_shadow.current_time) {

			0,1:
			if (self hasnt visited)
			"Твоя комната маленькая. Такая же как у всех остальных, но кажется, что
			в последнее время она стала ещё меньше. После того, как многих братьев не стало,
			тебе остаётся только ждать. Ждать новостей в этой тесной тёмной комнате.
			^^От окна, на запад, к двери, тянет промозглый сквозняк.";
			else
			"Твоя комната маленькая. Такая же как у всех остальных, но кажется, что
			в последнее время она стала ещё меньше. Выход на западе ведёт в холл.";
			2:
			"В твоей комнате тихо, если не считать возню под дверью, и ветер, задувающий
			в окно.";
			3,5,6,7:
			"Холодный тяжёлый свет проскальзывает в окно и уползает на запад, к двери.";

			}
		],

		before [ k;
			Hide:
				if (time_shadow.current_time ~= 2)
					return false;
				else
					print "Ты прячешься под кроватью, моля о том, чтобы увидеть
					утренний свет.^^^";
					 @read_char 1 -> k;
					 <<Sleep>>;
			Listen:
				if (constantin3 in entrance_hall)
					"Константин тяжело шагает взад-вперёд за дверью.";
				if (time_shadow.current_time < 2)
					"Свист ветра, больше ничего.";
				if (time_shadow.current_time == 2)
					"Такой звук, будто кто-то пытается тихо взломать твою дверь.
					Стол удерживает их.";
		],
		each_turn [;
			if (time_shadow.current_time == 3 && self.woken_up == false) {
				StartDaemon(self);
				self.woken_up = true;
				"^Вернувшись в свою холодную постель, ты засыпаешь до утра.
				^^Просыпаешься ты от громкого стука в дверь.
				@<<Отец! - рычит Константин. - Проснись, Лука сбежал!@>>
				^^Утренний свет проникает в окно, но это холодный, тяжёлый свет.";
			}
			else
			return false;
		],
		daemon [;
			switch(++(self.woken_up)) {
				3:
					"^@<<Поднимайся, отец!@>> - снова стук.";
				5:
					"@<<Хватит тратить моё время!@>>";
				6:
					StopDaemon(self);

			}
		],
		woken_up false,
		out_to [;
			<<Go w_obj>>;
		],
		w_to entrance_hall,
;

Object	your_window "окн/о"
with	name 'окн',
		description "Это просто дыра, пропускающая тепло летом и холод зимой.",
		before [;
			Close,Open:
				"Это просто прямоугольная прорезь в каменной стене; оно не может
				быть открыто или закрыто.";
			Enter:
				"Оно слишком узкое, чтобы протиснуться.";
			Search:
				switch(time_shadow.current_time) {
					0,1:
						"Темнота.";
					2:
						"Давящая темнота.";
					3:
						"Свет солнца обжигает твои глаза сверху, а снег - снизу.";
					5:
						"Тусклый свет от облаков сочетается с тусклым светом от снега.";
					6,7:
						"Прямой свет не проникает в окно. Вместо этого он изгибается и
						скручивается, падая на пол рваным узором.";
					default:
						"Темнота.";
				}
			;
		],
		found_in your_bedroom,
has		scenery neuter;

Object	your_bed "кроват/ь"
with	name 'кроват' 'матрас' 'матрац' 'ножку' 'ножки',
		initial [;
			switch(time_shadow.current_time) {
					0:
					if (your_bedding in self)
					"В противоположном конце комнаты стоит кровать. На ней
					заправленное с утра одеяло.";
					else
					"В противоположном конце комнаты стоит кровать.";
					1:
					if (your_desk.against_door == false)
					"Твоя кровать зовёт тебя с другого конца комнаты. Её песня сладка,
					но звучит предательски.";
					else
					"Твоя кровать зовёт тебя с другого конца комнаты.";
					2:
					"Твоя кровать зовёт тебя с другого конца комнаты.";
					default:
					"Кровать, холодная и грубая, больше не принимает тебя.";
			}
		],
		description "Просто сырой матрас на четырёх ножках. Тем не менее, на
		нём довольно удобно холодными ночами.",
		react_before [;
			Sleep:
				if (time_shadow.current_time >=3)
					"Если бы ты только мог. Сон делает всё проще.";
				if (time_shadow.current_time == 2) {
					statusbar_right = "Похвалы";
					time_shadow.current_time = 3;
					move morning_lucca to all_hints;
					move horse_stall to stables;
					move horse to stables;
					remove tower_dead_body;
					remove dead_body;
					remove lucca2;
					remove lucca_behind_door;
					remove constantin2;
					remove ignatius2;
					remove drogo2;
					remove cecilia1;
					move cecilia2 to entrance_hall;
					remove figure_behind_door;
					move constantin3 to entrance_hall;
					move constantin_behind_door to your_bedroom;
					DayTwo ();
					return true;

				}

				if (time_shadow.lucca_jailed == true) {
				if (your_desk.against_door == false) {
					deadflag = 4;
					print "Ты кладёшь голову на холодную, твёрдую кровать, и сон уносит
					тебя быстрее, чем ты ожидал.
					^^Несколько часов спустя, ты просыпаешь от звука тяжёлого дыхания
					прямо над кроватью. Это последнее, что ты слышишь перед тем, как нож
					проходит поперёк горла.^";
					return true;

				}
				else {
					move night_time to all_hints;
					move figure_behind_door to your_bedroom;
					statusbar_right = "Утреня";
					time_shadow.current_time = 2;
					QuoteFrom(proverbs6_10);
					"Ты кладёшь голову на холодную, твёрдую кровать, и сон уносит
					тебя быстрее, чем ты ожидал.
					^^Несколько часов спустя, ты просыпаешься от странного скребущего
					звука за дверью.";
				}
				}
				else
					"Ты ещё не устал. Во всяком случае, не настолько, чтобы уснуть.";
		],
		before [;
			Search:
				<<Examine self>>;
			LookUnder:
				"Плесень разрослась в темноте, но больше ты ничего не находишь.";
			Push,Pull:
				"Ты не способен на такое. Больше нет. Годы начинают брать своё.";
			Smell:
				"Матрас приятно пахнет уютом.";
			Make:
				"У тебя не хватает на это сил.";
			Climb:
				<<Enter self>>;
			!Enter:
			!	if (verb_word == "сес" or "се" or "сесть" or "сест")
			!		"sit";
			!	else "enter";
		],

		found_in your_bedroom,
has		static supporter enterable female;


Object	your_desk "письменн/ый стол/",
with	name 'письменн' 'стол' 'рабочи',
		initial [;
			if (self.against_door == true)
				"Стол подпирает дверь.";
			else {
			switch(time_shadow.current_time) {
				0:
				"Твой старый стол придвинут к стене. Он проседает, но выглядит
				величественно.";
				1:
				"Стол придвинут к стене. Его поверхность немного проседает в середине,
				видимо, от сырости.";
				2:
				"Стол подпирает дверь.";
				3:
				"В солнечном свете стол выглядит ветхим.";
				default:
				"В неярком свете стол выглядит блеклым.";

			};
			}
		],
		description "Раньше это был прекрасный стол, но теперь он проседает в середине
		и немного пахнет испорченной едой. Он верно служил тебе, когда приходилось
		писать, но в последнее время он не очень нужен.",
		before [;
			Push,Pull:
				if (time_shadow.current_time == 2)  {
					deadflag = true;
					"В тот момент, когда ты отодвигаешь стол от двери, она распахивается,
					и фигура в плаще с капюшоном, скрывающим лицо, проникает в комнату.
					Хотя здесь темно, ты видишь блеск ножа отчётливее, чем всё,
					что когда-либо видел раньше. Это и становится последним, что ты видишь
					в жизни до того, как он рассекает твоё горло.";
				}
				if (self.against_door == false && your_door has open) {
					give your_door ~open;
					self.against_door = true;
					print "(закрыв перед этим дверь)^";
					"Капли пота заливают глаза, пока ты тянешь стол к двери. Суставы
					хрустят, но тебе удаётся его передвинуть.";
				}
				if (self.against_door == false && your_door hasnt open) {
					self.against_door = true;
					"Капли пота заливают глаза, пока ты тянешь стол к двери. Суставы
					хрустят, но тебе удаётся его передвинуть.";
				}
				else {
					self.against_door = false;
					"С огромным трудом ты сдвигаешь стол обратно к стене. Ты чувствуешь 
					себя слишком старым для подобного.";
				}
			Smell:
				"Дерево слегка подгнило, но не настолько, чтобы доставлять неудобство.";
			Open,Search:
				"На нём нет документов.";
		],
		found_in your_bedroom,
		against_door false,
has		static male;


Object	your_bedding "одеял/о",
with	name 'одеял' 'покрывал',
		description "Оно сохраняло твоё тепло долгими холодными ночами.",
		after [;
			Take:
				give self ~concealed;
		],
has		clothing concealed neuter;

Simple_Door your_door "двер/ь спальни"
with	name 'двер' 'в//' 'спальн',
		side1_to your_bedroom,
   		side1_dir e_to,
		side2_to entrance_hall,
		side2_dir w_to,
		react_before
 		 [; Go:
 		 if (your_desk.against_door == true) {
		 					give self open;
		 					<Push your_desk>;
		 					return false;
				}
 		 if (noun notin compass) rfalse;
         if ((noun.door_dir==self.side1_dir && location==self.side2_to)
          || (noun.door_dir==self.side2_dir && location==self.side1_to)
          || (location.(noun.door_dir)==self))
               self.automat();
  		],
		before [;
			LookUnder:
				if (time_shadow.current_time == 2)
					"Свет от свечей, проникающий под дверь, заслоняется тенью от ног.";
				if (constantin_behind_door in your_bedroom && self hasnt open)
					"Ноги Константина то появляются, то исчезают.";
			Open:
				if (your_desk.against_door == true) {
					<Push your_desk>;
					return false;
				}
				if (constantin_behind_door in your_bedroom && self hasnt open)
					"Константин нетерпеливо ждёт тебя в холле.";
				else
				return false;
		],
		found_in your_bedroom entrance_hall,
has		open female;

Constantin constantin_behind_door "Константин/"
with	before [;
			Listen:
				"Константин тяжело ходит за дверью взад-вперёд.";
			default:
				"Он в холле.";
		],
		react_before [;
			Go,Enter:
				if (noun == w_obj or your_door)
					remove self;
					return false;
		],
has		scenery male;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Entrance Hall
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	entrance_hall "Холл"
with	initial [;

			if (self hasnt visited) {
				move coin to alms_box;
				"Туго обмотавшись рясой и осенив себя крёстным знамением,
				ты выходишь в холл.";
			}
			if (matteo_room has visited && entrance_door.cecilia_let_in == false)
					StartDaemon(self);
			else
				return false;
		],
		description [;
			if (self hasnt visited)
				"Здесь так холодно, что прохлада твоей комнаты кажется теплом.
				Каменные стены сверкают и переливаются от сырости.
				Тепло твоей комнаты поджидает на востоке, а холод внешнего мира
				просачивается сквозь массивную дверь на юге. Потоки лунного света
				струятся с севера, от галереи, и тонкая дверь закрывает зал на
				западе.";
			else
				"Здесь почти не на что смотреть, только дверь в зал на западе и
				твоя комната на востоке. С юга на север тянет холодный сквозняк:
				на севере галерея, на юге выход наружу.";
		],
		daemon [;
			if (player notin self)
				StopDaemon(self);
			else
			switch (++(self.cecilia_heard)) {
			1:  "^Войдя в холл, ты слышишь слабое царапанье от южной двери.
				^^@<<Пожалуйста, помогите. Есть там кто-нибудь?@>> - зовёт слабый
				голос, заглушаемый ветром.
				^^@<<Пожалуйста. Я шла несколько дней. Ровато вымерло. Крысы пожирают
				всё@>>.";
			2:	"^@<<Пожалуйста. Здесь очень холодно@>>.";
			3:  "^@<<Пожалуйста...@>>
				^^Лёгкий стук. Кажется, плоть по камню.";
			4:
				StopDaemon(self);
		}
		],
		cecilia_heard 0,
		e_to your_bedroom,
		s_to entrance_door,
		w_to locutory_door,
		n_to cloister,
		out_to [;
			<<Go s_obj>>;
		],
;

Simple_Door	entrance_door "входн/ая двер/ь"
with	name 'южн' 'наружу' 'деревянн' 'дверь' 'тяжёл' 'входн',
		description [;
			if (bar.down == true)
				"Прочная дверь. Возможно, единственная прочная дверь в монастыре. Тяжёлый
				деревянный засов уверенно выдерживает напор ветра.";
			else
				"Прочная дверь. Возможно, единственная прочная в монастыре. Засов,
				обычно оберегающий от внешнего мира, поднят.";
		],
		after [;
			Open:
				if (self.cecilia_let_in == false && entrance_hall.cecilia_heard >= 1)
				{
					StopDaemon(entrance_hall);
					self.cecilia_let_in = true;
					QuoteFrom(psalms96_6);
					move waking_cecilia to all_hints;
					move cecilia_body to entrance_hall;
					"Отодвинув засов в сторону, ты открываешь дверь, позволяя
					тонкой фигурке, усыпанной хлопьями снега, упасть на пол холла.
					^^Перед тобой молодая женщина с бледным как снег лицом и 
					окровавленными пальцами. Её одежда изорвана в клочья и испачкана
					кровью.
					^^@<<Пожалуйста, - она задыхается, пытаясь приподняться. -
					Мне очень холодно@>>. Она роняет лицо обратно на ледяную
					землю.";
				}
				else
					return false;
		],
		react_before [;
			Go: if (location == entrance_hall && noun == s_obj && entrance_door hasnt
			open && entrance_door.cecilia_let_in == false && entrance_hall.
			cecilia_heard >= 1)
					<<Open entrance_door>>;
			else
				if (noun notin compass) rfalse;
				         if ((noun.door_dir==self.side1_dir && location==self.
				         side2_to)
				          || (noun.door_dir==self.side2_dir && location==self.
				          side1_to)
				          || (location.(noun.door_dir)==self))
               self.automat();
 		],
		each_turn [;
			if (entrance_door has open && self.cecilia_let_in == false &&
			entrance_hall.cecilia_heard >= 1)
				{
					StopDaemon(entrance_hall);
					self.cecilia_let_in = true;
					QuoteFrom(psalms96_6);
					move cecilia_body to entrance_hall;
					"Отодвигая засов в сторону, ты открываешь дверь, позволяя
					тонкой фигурке и хлопьям снега упасть в холл.
					^^Перед тобой молодая женщина с бледным как снег лицом и 
					окровавленными пальцами. Её одежда изорвана в клочья и испачкана
					кровью.
					^^@<<Пожалуйста, - она задыхается, пытаясь приподняться. -
					Мне очень холодно@>>. Она роняет лицо обратно на ледяную
					землю.";
				}
				else
					return false;
		],
		side1_to archway,
		side1_dir s_to,
		side2_to entrance_hall,
		side2_dir n_to,
		cecilia_let_in false,
		found_in entrance_hall archway,
has		door scenery openable female;

Object	bar "засов/"
with	name 'засов' 'доск',
		description [;
			if (self.down == true)
				"Тяжёлый засов, защищающий монастырь от внешнего воздействия.";
			else
				"Тяжёлый засов стоит, опираясь на стену.";
		],
		before [;
			Push,Pull:
				if (self.down == true) {
					self.down = false;
					"С небольшим усилием ты отодвигаешь засов, опирая его на
					стену.";
				}
				else
					self.down = true;
					"С негромким ворчанием ты возвращаешь засов на место.
					Он становится с успокаивающим стуком.";
		],
		down true,
		found_in entrance_hall,
has		scenery male;

Object	alms_box "короб/о/к/ для пожертвований"
with	name 'коробок' 'коробк' 'короб' 'ящик',

		casegen [ beg end csID;
		return ICVowel (csID, beg, end, 'о', 0);
		],

		description "Он использовался для того, чтобы собирать милостыню.
		Теперь, в основном, паутину.",
		when_open [;
			if (coin notin self)
				"Коробок висит открытым, прося милостыню, как нищий.";
			else
				"Коробок висит открытым, и светлая монетка поблескивает внутри.";
		],
		when_closed "Коробок для милостыни закрыт, и висит рядом с дверью.",
		before [;
			Receive:
				if (noun ~= coin)
					"Коробок только для милостыни.";
		],
		after [;
			Open:
				if (coin in self)
					PronounNotice(coin);
					"Одинокая монетка поблескивает на дне.";
		],
		found_in entrance_hall,
has		static openable container male;

Object	coin "монет/а"
with	name 'монет' 'монетк' 'деньг' 'милостынын' 'пожертвован',
		description "Она мерцает на свету.",
		after [;
			Take:
				QuoteFrom(matthew26_15);
				"Она кажется тёплой в твоей руке.";
		],
has		female;

Object	cecilia_body "молод/ая девушк/а"
with	name 'женщин' 'девушк' 'девушку',
		describe [;
			if (self in entrance_hall)
				"^Молодая женщина лежит без сил на земле. Снежинки кружатся
				вокруг её слабого тела.";
			else
				"^Молодая женщина лежит без сил на земле.";
		],
		description
				"Несмотря на изрезанную и изодранную одежду, она чрезвычайно красива.
				Её бледная кожа безупречна. На ней нет ни малейшего признака чумы.
				Она само совершенство.",
		before [;
			Receive:
				if (noun == your_bedding)
					"Возможно, ты сначала найдёшь более удобное место?";
				else
					"Она в слишком глубоком забытии.";
			Wake:
				"Она в слишком глубоком забытии.";
			HelpPerson:
				<<Take self>>;
			TalkTo:
				"Она в забытии; она не слышит.";

			Invite:
				"Она не может услышать. Даже если бы могла, она слишком слаба.";
			Attack:
				"Ты бьёшь женщину, сильно. @<<Проснись!@>> - рычишь ты.
				^^Она не просыпается.";
			Take,Pull:
				move self to player;
				"С немалым усилием ты берёшь девушку на руки. Колени подгибаются,
				но ты пока держишься на ногах.";
		],
		after [;
			Drop:
				if (location == entrance_hall)
					"С глухим стуком девушка падает на землю. Она стонет,
					но не приходит в себя.";

		],
		react_before [;
			Give:
				if (second == self)
					"Она в слишком глубоком забытии.";
			Go:
				if (noun == e_obj && location == entrance_hall)
					"Возможно, в зале будет удобнее";
				if (noun == n_obj && self in player && location == entrance_hall)
					"Молодая женщина стонет и слегка пихается, когда холод из галереи
					царапает её кожу.";
				if (noun == s_obj && self in player)
					print "Молодая женщина стонет от холода, но не может ничего сделать,
					чтобы остановить тебя.^";
					return false;
			Open,PutOn,Insert,Examine,Look:
				return false;
			Drop:
				if (location == archway && noun == self) {
					deadflag = 5;
					"Пожимая плечами, ты выбрасываешь девушку за дверь. Она не твоя
					проблема.
					^^Да и что тут можно было сделать? Чума уже проникла в монастырь,
					и в тебя. Лучше пусть она пропадёт от холода, чем будет кричать
					и биться в бреду.";
				}
				if (location == locutory)
					<<Insert cecilia_body locutory_bed>>;
				else
					return false;
			default:
				if (self in player)
					"У тебя подгибаются колени. Тебе лучше определить, что делать с ней,
					прежде чем заниматься чем-либо другим.";
				else
					return false;
		],
		life [;
			Kiss:
			QuoteFrom(kiss_cecilia_quote);
				"Ты осторожно целуешь её. Она мягкая, очень мягкая. У неё
				приятный вкус.";
			Touch:
				QuoteFrom(kiss_cecilia_quote);
				"Ты осторожно касаешься её. Она мягкая, очень мягкая.";
			Ask,Tell:
				"Она в забытии; она не слышит.";
			Order:
				"Холод забирает её силы. Она не может слышать или двигаться.";
		],
has		animate female;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Archway
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	archway "Арка"
class	Outside_room,
with	description "Последний намёк на укрытие от внешнего мира. Но это всего лишь
намёк. На юге ветер проносится мимо, подобно потоку ледяной воды - только свод арки защищает
тебя. Тепло, если его можно так назвать, монастыря ждёт на севере. Холод ветра -
на юге.",

		n_to entrance_hall,
		s_to [;
			if (time_shadow.current_time == 0 or 1 or 2)
					"Ветер задувает твою свечу и кусает за ноги. Уйти в темноту
					равносильно самоубийству.";
			else
				return path;
		],
		out_to [;
			<<Go s_obj>>;
		],
		in_to [;
			<<Go n_obj>>;
		],
has		;

Object	arch "свод/"
with	name 'арк' 'свод',
		description "Клиновидные блоки сложены в арочный свод. Кажется, что они могут
		соскользнуть вниз, стоит лишь зазеваться. Однако, арка закрывает тебя от ветра.",
		found_in archway,
has		scenery male;


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Locutory
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	locutory "Зал"
with	initial [;
			if (cecilia_body in player)
![;
!			if (cecilia_body in player && locutory_door hasnt open)
!				"Nudging the handle with your arm, you carefully open the door, the
!				young woman still hanging limply in your arms. You stumble, but
!				catch yourself before allowing her to drop.";
!			if (cecilia_body in player && locutory_door has open)
				"Ты поворачиваешься боком, и проходишь в дверь, стараясь не зацепить
				косяк головой девушки.";
			if (entrance_door has open) {
				give entrance_door ~open;
				"Перед тем как уйти, ты закрываешь входную дверь, чтобы снег, или
				что похуже, не проникли вовнутрь.";
			}
			else
				return false;
			],
!		],
		description [;
			if (locutory_fireplace.lit == false)
				"Этот зал использовался для обмена с торговцами и для разговоров с
				путешествующими братьями, но с тех пор, как ворота закрылись, сюда
				никто не входил, кроме тебя. Маленькая кровать стоит у стены для тех
				посетителей, которым не разрешено остановиться в монастыре. Это 
				простая потёртая рама, накрытая лёгким матрасом.
				^^Около двери на востоке располагается камин. Угли в нём остыли
				много дней назад.";
			else
				"Этот зал использовался для обмена с торговцами и для разговоров с
				приходящими братьями, но с тех пор, как ворота закрылись, сюда
				никто не входил, кроме тебя. Маленькая кровать стоит у стены для тех
				посетителей, которым не разрешили остановиться в монастыре. Это 
				простая потёртая рама, накрытая лёгким матрасом.
				^^Маленький островок тепла окружает камин около двери на востоке.";
		],
		before [;
			Smell:
				if (noun == nothing or locutory_fireplace && locutory_fireplace.lit
				==
				true)
					"Дым от горящего камина обжигает твоё горло и режет глаза.";
			Listen:
				if (locutory_fireplace.lit == true)
					"Огонь слабо шипит и потрескивает.";
		],
		e_to entrance_hall,
		out_to [;
			<<Go e_obj>>;
		],
has		;

Simple_Door	locutory_door "двер/ь в зал"
with	name 'двер' 'восточ' 'в//' 'зал',
		side1_to locutory,
		side1_dir w_to,
		side2_to entrance_hall,
		side2_dir e_to,
		found_in locutory entrance_hall,
has		female;

Object	locutory_fireplace "камин/"
with	name 'камин' 'угли' 'огонь' 'пламя' 'дров' 'зол',
		description [;
			if (self.lit == true)
				"Сырые дрова дают мало тепла и много дыма. Хотя это лучше, чем
				мороз, царивший раньше.";
			else
				"Камин холодный, как мощи Святого Кутберта.";
		],
		react_before [;
			Burn:
				if (noun == nothing)
					<<Burn self>>;
		],
		before [;
			Touch:
				if (self.lit == true)
					"Огонь обжигает твою руку. Ты отдёргиваешь её, но волдыри уже
					появляются.";
				else
					"Печанник с золой.";
			Search:
				if (self.lit == true)
				"Огонь кусает твои руки. Ты ничего не находишь, кроме ожогов.";
				else
				"Ты не находишь ничего, кроме золы.";
			Extinguish:
				if (self.lit == false)
					"Он не горит.";
				else
					"Лучше не трогать его. С огнём здесь намного уютней.";
			Burn:
				if (self.lit == false) {
					QuoteFrom(isaiah44_16);
					self.lit = true;
					"После долгих уговоров, сырые дрова, наконец, загораются.
					Пламя слабое, но будет гореть некоторое время.";
				}
				else
					"Огонь уже горит. Ты не можешь сделать ничего больше.";
		],
		lit false,
		found_in locutory,
has		scenery male;

Object	locutory_bed "кроват/ь"
with	name 'кроват' 'матрац' 'матрас' 'постел' 'рам',
		description "Кровать маленькая, но чистая. В последние время здесь мало посетителей.",
		before [;
			Search:
				<<Examine self>>;
			LookUnder:
				"Плесень разрослась в темноте, но больше ты ничего не находишь.";
			Receive:
				if (noun == your_bedding && cecilia1 in location) {
					move your_bedding to cecilia1;
					cecilia1.bedding_given = true;
					"Ты накрываешь девушку своим одеялом, и она кажется чуточку
					умиротворённее.";
				}
				if (noun == cecilia_body) {
					remove cecilia_body;
					move cecilia1 to locutory;
					"Ты кладёшь девушку на кровать, и она моментально расслабляется.
					Её глаза остаются закрытыми, но больше не подёргиваются от
					неудобства.";
				}
				else
					return false;
		],
		found_in locutory,
has		scenery supporter enterable female;



!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Cloister
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	cloister "Галерея"
class	Outside_Room,
with	name 'галере' 'колоннад',
		initial [;
			if (sin_shadow.evil == true && matteo_papers.been_read == true) {
				move cecilia_tower2 to tower;
				remove constantin_tower;
			}

			if (matteo_papers.been_read == true && constantin_dead notin
			constantin_room) {
				remove constantin5;
				move constantin_tower to tower;
			}
			if (self hasnt visited && entrance_door has open) {
				move lucca1 to cloister;
				StartDaemon(lucca1);
				"Перед тем как уйти, ты закрываешь входную дверь, чтобы снег, или
				что похуже, не проникли вовнутрь.";
			}
			if (self hasnt visited) {
				move lucca1 to cloister;
				StartDaemon(lucca1);
				"Ты натягиваешь капюшон и выходишь в галерею.";
			}
			if (entrance_door has open) {
				give entrance_door ~open;
				"Перед тем как уйти, ты закрываешь входную дверь, чтобы снег, или
				что похуже, не проникли вовнутрь.";
			}
			else
				return false;
		],
		description [;
			switch(time_shadow.current_time) {
			1,2:
				"До весны здесь не будет сада. Трудно представить, что снег когда-нибудь
				растает.
				^^Колоннада прерывается на юге выходом в холл, и входом в трапезную
				на западе. Братский дортуар располагается на востоке, между котельной
				на юго-востоке и колокольней на северо-востоке.
				^^Церковь располагается на севере. Её шпили цепляются за небо, будто
				она пытается выкарабкаться из земли.";
			0:
				"В тёплые месяцы брат Матвей ухаживает за красивым садиком в галерее.
				Сейчас от него остались только несколько сухих стеблей, торчащих
				из под снега. Здесь стоит безмолвие и чувствуется спокойное величие:
				ветер не находит сюда входа. Колоннада прерывается на юге выходом
				в холл, и входом в трапезную на западе. Братский дортуар располагается
				на востоке, между котельной на юго-востоке и колокольней на
				северо-востоке.
				^^Церковь возвышается на севере, его шпиль устремлён в небеса.";
			3:
				"Солнце сияет на востоке, но в галерее полумрак. Прошлой ночью не шёл
				снег, и остатки позавчерашнего превращаются в жидкую грязь, поглощающую
				лучи света, проникающие сюда.
				^^Колоннада прерывается на юге выходом в холл, и входом в трапезную
				на западе. Братский дортуар располагается на востоке, между котельной
				на юго-востоке и колокольней на северо-востоке.
				^^Церковь сжалась, прячась от солнца. Её грехи, как и все грехи, открываются
				при свете дня.";
			5:
				"Облака закрывают небо, мешая проходить свету, но не снегу.
				^^Колоннада прерывается на юге выходом в холл, и входом в трапезную
				на западе. Братский дортуар располагается на востоке, между котельной
				на юго-востоке и колокольней на северо-востоке.
				^^Церковь, кажется, стала чуть выше. Бог не очень хорошо видит сквозь
				облака.";
			6,7:
				if (location == cloister && fire_shadow.room_said >= 2)
				"Церковь окружена кольцом огня: она будто шлюха в красном платье.
				Дым валит из дверей и из под крыши. Огонь танцует, и она направляет его
				в галерею. Только каменная башня на северо-востоке не повреждена.";
				else
				"Облака закрывают небо, мешая проходить свету, но не снегу.
				^^Колоннада прерывается на юге выходом в холл, и входом в трапезную
				на западе. Братский дортуар располагается на востоке, между котельной
				на юго-востоке и колокольней на северо-востоке.
				^^Церковь катается от смеха на севере, тыкая своими острыми пальцами
				в бесконечной насмешке над Богом.";
			};
		],
		each_turn [;

			if (dead_body in belltower_bottom && self.matteo_heard == false &&
			cecilia1.woken == true) {
				self.matteo_heard = true;
				"^@<<О Господи! - слышишь ты чей-то крик на северо-востоке. - Матвей!@>>";
			}
			else
				return false;
		],
		matteo_heard false,
		s_to entrance_hall,
		w_to refectory,
		ne_to belltower_bottom,
		n_to church,
		e_to dormitory,
		se_to outside_calefactory,
has		female;

Object	cloister_garden "сад/"
with	name 'сад' 'садик',
		description "Теперь здесь больше нет сада. Всё, что от него сталось - несколько
		сухих стеблей.",
		before [;
			Examine:
				return false;
			default:
				"Теперь здесь больше нет сада. Всё, что от него сталось - несколько
				сухих стеблей.";
		],
		found_in cloister,
has		scenery male;



Object	vines "стебл/и"
with 	name 'стебл',
		description "Переплетающиеся стебли торчат из снега.",
		before [;
			Pull:
				"Ты тянешь стебли, и они тянут обратно, обдирая твою сухую, тонкую кожу.";
			Take:
				"Несмотря на смерть, они отчаянно цепляются за землю. Ты не можешь
				вырвать их.";
		],
		found_in cloister,
has		scenery pluralname;
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Refectory
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	refectory "Трапезная"
with
		description [;
		if (self hasnt visited) {
		QuoteFrom(isaiah51_17);
		"Единственное, кроме церкви, помещение в монастыре Святого Кутберта,
		достаточно большое, чтобы собрать всех братьев. Раньше, когда это
		место было оживлённым, трапезная казалась бескрайней. Сейчас только
		потоки воздуха гуляют между столами, выходя в галерею на востоке.
		Многочисленные ряды пустых стульев служат свидетельством урона, нанесённого
		чумой. Кухня располагается на юге.";
		}
		else
		"Единственное, кроме церкви, помещение в монастыре Святого Кутберта,
				достаточно большое, чтобы собрать всех братьев. Раньше, когда это
				место было оживлённым, трапезная казалась бескрайней. Сейчас только
				потоки воздуха гуляют между столами, выходя в галерею на востоке.
				Многочисленные ряды пустых стульев служат свидетельством урона,
		нанесённого	чумой. Кухня располагается на юге.";
		],
		e_to cloister,
		s_to kitchen,
		out_to [;
			<<Go e_obj>>;
		],
		in_to [;
			<<Go s_obj>>;
		],
has		;

Object	tables "стол/ы"
with	name 'стол',
		description "Ряды столов превращают трапезную в лабиринт узких проходов.
		Их необработанные поверхности несут на себе отметины, полученные во время
		многих трапез.",
		found_in refectory,
has		supporter scenery pluralname;

Object	drogo_scratch "царапин/ы"
with	name 'царапин' 'рисунок',
		description "На первый взгляд они кажутся беспорядочными, но при ближайшем
		рассмотрении становится различим рисунок: две глубоко процарапанные
		пересекающиеся линии, окружённые зигзагообразными бороздками: крест, огонь.",
		found_in refectory,
has		scenery pluralname;

Object	chairs "стуль/я"
with	name 'стул' 'сиден' 'лавк',
		description "Дюжины стульев, по одному на каждого брата. Они все аккуратно
		придвинуты к столам.",
		found_in refectory,
has		supporter scenery pluralname enterable;


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Kitchen
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	kitchen "Кухня"
with
		initial [;
			if (cellar has visited)
			move after_cellar to all_hints;
			else
			move getting_in_cellar to all_hints;
		],
		description [;
			if (self hasnt visited)
				"Мёртвые не едят, по крайней мере, тебе так говорили. Несмотря на
				это, кухня практически пуста. На пустых столах нет ни крошки. Все
				скоропортящиеся продукты были доедены сегодняшним утром. Никто
				больше не придёт из Ровато, если он опустел настолько, насколько ты
				думаешь. Будем надеяться, что сквозь решётку в люке что-нибудь провалилось в подвал.
				Трапезная располагается на севере.";
			else
				"Мёртвые не едят, по крайней мере, тебе так говорили. Несмотря на
				это кухня практически пуста. На пустых столах нет ни крошки.
				Люк в полу ведёт в подвал. Трапезная располагается на севере.";
		],
		n_to refectory,
		d_to cellar,
		out_to [;
			<<Go n_obj>>;
		],
has		;

Object	kitchen_tables "стол/ы"
with	name 'стол',
		description "На них ни крошки.",
		found_in kitchen,
has		pluralname scenery;

Object	cupboard "сервант/"
with	pname 'сервант' 'дверь' 'дверцу',
		initial [;
			if (self hasnt open)
			"У стены стоит огромный сервант, его дверца закрыта.";
			if (cecilia_food in self && self has open)
			"У стены стоит огромный сервант с несколькими объедками внутри.";
			else
			"Пустой сервант стоит у стены.";
		],
		description [;
			if (self hasnt open)
				"Тонкая дверь серванта не способна защитить содержимое.";
			if (cecilia_food notin self && self has open)
				"Сервант пуст как твой желудок.";
			if (cecilia_food in self && self has open)
				"Несколько корочек хлеба и кусочек сыра - вот и всё,
				что осталось от еды.";
		],
		before [;
			Search:
				if (cecilia_food in self)
					"Несколько корочек хлеба и кусочек сыра - это всё, что осталось
					из еды в монастыре.";
		],
		after [;
			Open:
				if (self.opened == false) {
				QuoteFrom(baruch6_21);
				move cut_arm to misc_shadow;
				move hand_blood to kitchen;
				self.opened = true;
				"Как только дверь открывается, маленький чёрный силуэт выпрыгивает
				изнутри. Вспышка боли обжигает руку, но вскоре утихает. Ты вертишь
				головой в поисках кошки, но видишь только капли крови, упавшие с её
				когтей.";
				}
				else
				return false;
		],
		opened false,
		found_in kitchen,
has		static openable container male;

Object	hand_blood "капл/и кров/и"
with	name 'каплю' 'кровь' 'капл',
		description "Алые капли крови из расцарапаной руки.",
has		pluralname scenery;

Object	cecilia_food "немного еды"
with	name 'сыр' 'хлеб' 'ед' 'корочк' 'объед' 'корк',
		description "Просто несколько корочек хлеба и кусочек сыра. Этого немного,
		но лучше чем ничего.",
		before [;
			Eat:
				"Тебя почти рвёт, когда ты подносишь твёрдую корку хлеба к губам.
				Ты в том состоянии, когда от голода пропадает аппетит.";
		],
has		edible neuter;

Object	cut_arm "царапин/а"
with	name 'царапин' 'рук',
		description "Неглубокая царапина от кисти до локтя.",
has		female;


Object	cutlery_rack "подставк/а для ножей"
with	name 'подставк',
		initial "Подставка для ножей стоит на одном из столов.",
		description [;
			if (knife in self)
				"Огромный нож лежит на подставке.";
			else
				"Подставка пуста.";
		],
		before [;
			Receive:
				if (noun == knife)
					return false;
				else
					"Не помещается.";
		],
		found_in kitchen,
has		static container open female;

Object	knife "нож/"
with	name 'нож',
		description "Ты видел Константина, разделывающего огромные туши
		этим ножом. Несмотря на длительное использование, он остался острым.",
has		concealed male;

Simple_Door	hatch "люк/"
with	name 'подвал' 'решетк' 'люк',
		description [;
			if (location == cellar)
				"Люк ведёт наверх в кухню, прочь от темноты и вони.";
			if (hatch_lock in kitchen)
				"Люк в полу, с массивным стальным замком на нём.";
			else
				"Люк в полу, ведущий в подвал.";
		],

		before [;
			Lock:
				<<Lock hatch_lock>>;
			Close:
				if (location == cellar)
					<<Go u_obj>>;
			Open:
				if (hatch_lock has locked)
					"Заперто.";
			Attack:
				"Дерево слишком прочное.";
			Unlock:
				<<Unlock hatch_lock>>;
		],
		react_before [;
			Open,Attack,Unlock:
				if (noun == hatch or hatch_lock)
				QuoteFrom(open_hatch_quote);
				return false;
					Go:
					 if (noun == d_obj && (hatch_lock in kitchen && hatch_lock has
					 locked)) {
					 	QuoteFrom(open_hatch_quote);
						"Люк заперт.";
					 	}
					 if (noun notin compass) rfalse;
		         if ((noun.door_dir==self.side1_dir && location==self.side2_to)
		          || (noun.door_dir==self.side2_dir && location==self.side1_to)
		          || (location.(noun.door_dir)==self))
		               self.automat();
  		],
		side1_to kitchen,
		side1_dir  d_to,
		side2_to cellar,
		side2_dir  u_to,
		found_in kitchen cellar,
has		~open male ~female;

Object	hatch_lock "зам/о/к/ люка"
with	pname 'люк' 'замок' 'замк',
		description "Константин хотел убедиться, что братья едят только положенные порции,
		и потому настоял на том, чтобы запереть подвал. Он никогда не давал тебе ключ.",
		casegen [ beg end csID;
			return ICVowel (csID, beg, end, 'о', 0);
		],
		before [;
			Open:
				<<Open hatch>>;
			Unlock:
				if (self hasnt locked)
				"Уже отперто.";
				if (cellar_key notin player or location)
				"У тебя нет ключа.";
				else
				give self ~locked;
				"Ты вставляешь ключ в отверстие и поворачиваешь. Щёлк.";
			Lock:
				if (self has locked)
					"Уже заперто.";
				if (cellar_figure.dead == true)
					"Замок ничего не значит для привидений.";
				if (cellar_figure.incapacitated == true)
					"Это должно задержать его.";
				else
					return false;

			Attack:
				if (constantin_tools notin player or location)
				"Ты бьёшь замок, но он слишком крепкий, чтобы сломать его тем, что у
				тебя есть.";
				else
				give self ~locked;
				remove self;
				"Ты берёшь гвоздь и вставляешь его в замочную скважину. Несколько
				быстрых ударов молотком, и замок становится не более чем искорёженным
				куском стали.";

			Take:
				"Он прикреплён к люку.";
		],
		with_key cellar_key,
has		scenery lockable locked male;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!CELLAR
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	cellar
with
		short_name [;
			switch(self.hiding) {
				0:
					print"Подвал";
					return true;
				1:
					print"Подвал (в бочке)";
					return true;
				2:
					print"Подвал (среди тел)";
					return true;
				3:
					print"Подвал (под лестницей)";
					return true;
			}
		],
		initial [;
			if (self hasnt visited) {
				if (your_candle.lit == true) {
				blood_writing.examined = true;
				give vomit concealed;
				your_candle.lit = false;
				move once_in_cellar to all_hints;
				give hatch open;
 				"Лестница облита чем-то скользким. Неудачно шагнув, ты поскальзываешься,
				и несколько мгновений ловишь руками воздух. Свеча гаснет.";
				}
				else
				move once_in_cellar to all_hints;
				"Спускаясь в тёмный подвал, ты наступаешь на что-то липкое.
				Ты пытаешься схватиться за перила, но не находишь их, и слетаешь
				вниз по лестнице.";
			}
			else
			return false;
		],
		description [;
			if (self.hiding > 0)
			switch(self.hiding) {
			1:
				if (cellar_figure in location)
				"Из бочки видно немного. Отблески света перемещаются вперёд-назад,
				отбрасывая танцующие тени на стены.";
				else
				"Из бочки почти ничего не видно.";
			2:
				"Темнота. Ты ничего не видишь. Скрученные конечности и раздутые
				животы заполняют всё пространство вокруг тебя.";
			3:
				"Отсюда видна почти вся комната, но сейчас её загораживают чьи-то
				ступни.";
			}
			else {

			if (self.first_seen == true) {
				QuoteFrom(in_cellar_quote);
				move cowl to cellar_figure;
				move cellar_knife to cellar_figure;
				move cellar_stairs to self;
				move cask to self;
				move cellar_bodies to self;
				move prybar to self;
				StartDaemon(self);
				self.first_seen = false;
				"Ты сжимаешься в ожидании жёсткого удара об пол, но его не происходит.
				Вместо этого, ты падаешь в мягкую, неровную кучу. Твои кости остаются целы.
				Свет из кухни почти не проникает сюда: всё что ты видишь - это тени.";
			}
			if (your_candle.lit == false)
				"Ты не можешь почти ничего разобрать. Немного света струится
				из кухни, но его недостаточно. Пол покрыт чем-то мягким и комковатым.";
			if (your_candle.lit == true)
			self.bodies_seen = true;
				"Дюжины тел наполняют подвал, в некоторых местах кучи достают до пояса.
				Ты узнаёшь лица, которые не тронула чума и разложение. Запавшие глаза
				сверлят тебя со всех сторон. В мерцающем свете свечи кажется, что трупы
				извиваются и танцуют.
				^^Старая бочка из под вина стоит у стены.";
			}
		],
		before [;
			Exit:
				if (self.hiding == 0)
					return false;
				else
					self.hiding = 0;
					print "Ты возвращаешься к лестнице.^";
					<<Look>>;
			Hide:
				if (cellar_figure.incapacitated == true)
					"Больше не нужно прятаться.";
				if (self.hiding > 0)
					"Ты уже спрятался.";
				if (noun == nothing)
					"Где ты хочешь спрятаться?";
				if (noun == cask) {
					self.hiding = 1;
					"Ты быстро запрыгиваешь в бочку. Она маленькая, но ты помещаешься.";
				}
				if (noun == cellar_bodies) {
					self.hiding = 2;
					"Собравшись с духом, ты закапываешься в груду тел.
					Их масса душит так же, как и запах.";
				}
				if (noun == cellar_stairs) {
					self.hiding = 3;
					"Ты забиваешься под лестницу.";
				}
			Listen:
				if (self.ignatius_coming > 3 && cellar_figure.incapacitated == false)
					"Стук шагов. Он становится ближе.";
				else
					"Мёртвая тишина.";

			Smell:
				if (noun == nothing or cellar_bodies)
					"Гниение и болезнь душат тебя сильнее чем обычно. Слёзы поднимаются
					к твоим глазам, а рвота к горлу.";
			Go:
				if (self.hiding > 0 && noun == u_obj) {
					self.hiding = 0;
					print "Ты возвращаешься к лестнице.^";
					<<Look>>;
				}
				if (noun ~= u_obj)
					return false;
				if (noun == u_obj && cellar_figure.incapacitated == true) {
					self.hiding = 0;
					return false;
				}
				if (noun == out_obj)
					<<Exit>>;
				if (noun == u_obj && self.ignatius_there == false && cellar_figure.
				incapacitated == false) {
					self.ignatius_there = true;
					self.ignatius_coming = 4;
						"Как только ты начнешь подниматься по лестнице, звук шагов на
						кухне заставляет тебя замереть. Кто-то идёт.";
				}
				if (noun == u_obj && self.ignatius_there == true && cellar_figure.
				incapacitated == false)
					deadflag = true;
						"Когда ты доходишь до вершины лестницы, фигура в плаще появляется
						в поле твоего зрения. Прежде чем ты успеваешь среагировать, мощный удар
						сбивает тебя вниз. В этот раз падение не такое мягкое.
						Ты пролетаешь по ступенькам, ломая по пути все кости.
						^^Боль невыносима, но нож, рассекающий твоё горло, быстро
						кладёт ей конец.";

		],
		daemon [;
			switch(++(self.ignatius_coming)) {
				4:
					self.ignatius_there = true;
						"^Звук шагов слышится через решётку. Они лёгки, но уверенно
						приближаются.";
				5:
						"^@<<Проклятье!@>> - слышишь ты чьё-то ругательство с кухни. Шаги
						приближаются быстрее и останавливаются у лестницы.";
				6:
					move cellar_figure to cellar;
						"^@<<Выходи, отец!@>> - голос охрипший и надломленный. Блики
						от свечи падают вниз, на лестницу.";
				7:
					if (cellar_stairs.slippery == true) {
						move cellar_knife to cellar;
						cellar_figure.incapacitated = true;
						StartTimer(time_shadow, 5);
						StopDaemon(self);
							"^Наступив на ступеньку, смазанную жиром, силуэт теряет
							равновесие и кубарем слетает в нагромождение тел.
							^^@<<Проклятье!@>> - кричит он, пытаясь подняться.";
					}
					if (drausinus.cellar_prayed == true) {
						move cellar_knife to cellar;
						cellar_figure.incapacitated = true;
						StartTimer(time_shadow, 5);
						StopDaemon(self);
							"^Темнота сгущается вокруг фигуры, удерживая свет снаружи.
							Она вращается и клубится так, что сквозь неё ничего не видно.
							Ступив на первую ступеньку, мужчина слетает на пол с тяжёлым
							ударом - кость по камню.";
					}
					if (your_candle.lit == true) {
					deadflag = true;
							"^Из-за света свечи он сразу замечает тебя.
							^^@<<Вот ты где!@>> - широкий оскал виден под капюшоном. Так много
							зубов. Нож выскальзывает из под рясы.
							^^Ты пытаешься бежать, но он слишком быстр.
							В кучу падает ещё одно тело.";
					}
					else {
						switch(self.hiding) {
						0:
							deadflag = true;
								"^Света его свечи более чем достаточно, чтобы увидеть
								тебя, стоящего посреди комнаты.
								^^@<<Вот ты где!@>> - под капюшоном виден оскал.
								Так много зубов. Нож выскальзывает из под рясы.
								^^Ты пытаешься бежать, но он слишком быстр. В кучу
								падает ещё одно тело.";
						1:
							deadflag = true;
								"^Он рыскает немного, но, в конце концов, бочка даёт
								тебе всего пару лишних минут жизни.
								^^@<<Вот ты где!@>> - под капюшоном виден оскал.
								Так много зубов. Нож выскальзывает из под рясы.
								^^Ты пытаешься бежать, но он слишком быстр. В кучу
								падает ещё одно тело.";
						2:
							"^Он рыскает вокруг несколько минут, это даёт тебе время
							составить план действия.
							^^@<<Выходи! - требует он. - Я знаю, что ты здесь@>>.";
						3:
							deadflag = true;
								"Он рыскает немного, но, в итоге, лестница даёт
								тебе всего пару лишних минут жизни.
								^^@<<Вот ты где!@>> - под капюшоном виден оскал.
								Так много зубов. Нож выскальзывает из под рясы.
								^^Ты пытаешься бежать, но он слишком быстр. В кучу
								падает ещё одно тело."; 
					}
			}
				8:
								"^@<<Довольно игр, отец@>>, - произносит он, вытаскивая отвратительно
								изогнутый нож. Двигаясь с холодными, стремительными ударами, он
								врезается в кучу тел.";
				9:
								"^Нож влетает и вылетает из кучи. Случайный удар едва не отсекает
								тебе ухо.";
				10:
					deadflag = true;
								"^Ты лежишь абсолютно тихо, надеясь, что нож тебя не заденет,
								но один удачный выпад попадает прямо тебе с бедро. Ты сдерживаешь
								крик, слёзы подступают к глазам. Следующий удар приходится в руку.
								Это уж слишком.
								^^Истошный крик вырывается из тебя. Следующий взмах перерезает тебе горло.";
			}
		],
		hiding 0,
		ignatius_there false,
		ignatius_coming 0,
		bodies_seen false,
		first_seen true,
		u_to kitchen,
		out_to [;
			<<Go u_obj>>;
		],
has		;

Object	prybar "кочерг/а"
with	name 'кочерг',
		initial [;
			"Кочерга стоит, прислонённая к бочке.";
		],
		description "Она тяжёлая. Металл прочный и гладкий.",
has		concealed female;

Object	cask "бочк/а"
with	name 'бочк' 'бочонок' 'вин',
			description "Она большая и пустая. Евхаристия обычно проводится чаще в
			тяжёлые времена.",
has		container enterable open scenery female;

Object	cellar_bodies
with	name 'тел' 'бугр' 'бугор' 'куч' 'труп' 'груд' 'тен',
		short_name [;
			if (cellar.bodies_seen == true) {
				print "тела"; return true;
			}
			else
				print "бугры"; return true;
		],
		description [;
			if (your_candle.lit == false)
				"Ты ничего не можешь разобрать в темноте.";
			else
				QuoteFrom(isaiah1_6);
					"Все лица знакомы. Все они дразнят тебя. Бледные. Больные. Но не все
					они выглядят больными. И не все их раны оставила чума. Присмотревшись
					получше, ты видишь следы пальцев на многих шеях и ножевые порезы на
					спинах.
					^^Игнат.";
		],
		before [;
			Eat:
				QuoteFrom(leviticus26_29);
				sin_shadow.evil = true;
					"Масса мягкая, твои зубы легко проникают в неё. Ты отрываешь кусок.
					Плоть. Больная плоть. Опухоль лопается у тебя во рту, и прогорклая
					кровь капает с твоих губ.";

			PrayFor:
				"Если бы ты только был более внимательным. Твои молитвы оборачиваются
				горечью у тебя во рту.";
		],
has		scenery pluralname;

Object	cellar_stairs "лестниц/а"
with	name 'лестниц' 'ступеньк' 'ступен',
			description "Просто перекладины, набитые на две параллельные доски. Обычно
						под ней хранятся запасы еды, но теперь они иссякли.",
		before [;
			Receive:
				if (noun ~= your_candle)
					return false;
				else
					self.slippery = true;
						"Ты смазываешь салом ступеньки, оставляя на них толстый
						слой жира.";
		],
		react_before [;
			Attack,Trip,Take,Smell,Look,Listen,Exit,Go,Extinguish,Hide,PutOn,Insert,
			Wait,PrayTo,PrayThrough,Inv,Kill,Help:
				return false;
			Examine:
				if (cellar.hiding == 1 or 2)
					"Ты не можешь её видеть.";
				else
					return false;
			default:
				if (cellar.hiding > 0)
					"Ты не можешь этого сделать пока прячешься.";
				else
					return false;
		],
		slippery false,
has		scenery supporter female;

NPC		cellar_figure
with	short_name [;
			if (self.unmasked == true) {
				print "Игнат"; rtrue;
			}
			else
				print "фигура"; rtrue;
		],
		name 'фигур' 'человек' 'мужчин' 'брат' 'брата' 'ног' 'ступн' 'игнат' 'фигуру',
		initial [;
			if (self.dead == true)
                            "На камне, об который он ударился головой при падении, кровавое
                            пятно.";
			if (self.unmasked == true)
                            "Игнат лежит на полу, кровь сочится из трещины в его лбу.";
			if (self.incapacitated == true)

				"Фигура неподвижно лежит на земле.";
			if (cellar.hiding == 3)
                    "Пара ног стоит на ступенях перед тобой.";
			else
                    "Человек рыскает вокруг, бубня что-то себе под нос.";
		],
		description [;
			if(self.dead == true)
                    "Это просто кровавое месиво на земле.";
			if (self.unmasked == true)
                    "Игнат лежит на полу, истекая кровью из трещины во лбу.";
			if (self.incapacitated == true)
                    "Он лежит бесформенной грудой на полу. Капюшон всё ещё закрывает лицо.";
			else
                    "Он стремительно двигается. Ряса и капюшон огромные, ты не можешь
                    понять, кто это.";
		],


		before [;
			Eat:
				if (self.dead == false && self.incapacitated == false)
				"Не надо, он ещё жив.";
				else
				QuoteFrom(leviticus26_29);
				sin_shadow.evil = true;
                                "Кровь тёплая, вкусная, с привкусом болезни. Хорошо утоляет
                                жажду, высушившую тебе все внутренности.";
			Take:
				if (self.incapacitated == false)
					<<Attack self>>;
				else
                                    "Он слишком тяжёлый.";
			Unmask,Search,Pull,Open:
				if (self.unmasked == true)
					"Ты уже это сделал.";
				else
					self.unmasked = true;
                                    "Осторожно, ты поднимаешь капюшон с лица мужчины.
                                    ^^Игнат.";
			Attack,Trip,Kill,Push:
				if (self.dead == true)
                                    "Он уже мёртв.";
				if (self.incapacitated == true && self.dead == false){
					sin_shadow.evil = true;
					self.dead = true;
                                    "Ты поднимаешь ногу и сильно бьёшь его в голову. Она поддаётся,
                                    но только чуть-чуть. Затем ты прыгаешь. Вверх и вниз. Вверх и вниз.
                                    Когда ты заканчиваешь, от него остаётся только кровавое месиво
                                    на полу.
                                    ^^Ты скалишься.";

					}
				if (cellar.hiding ~= 2 or 3) {
					deadflag = true;
                                    "Ты прыгаешь, пытаясь ударить человека на земле. Он намного
                                    сильнее, чем ты представлял. Намного сильнее тебя. Резкий удар
                                    в живот отправляет тебя на землю. Какая острая боль.
                                    ^^Но не острее ножа, который вонзается в тебя через мгновение.";
				}
				if (cellar.hiding == 2) {
					StopDaemon(cellar);
					move cellar_knife to cellar;
					self.incapacitated = true;
					StartTimer(time_shadow, 5);
                                    "Ты ждёшь, пока он окажется достаточно близко, и изо всех сил бьёшь
                                    его в заднюю часть колена. Он валится, стукаясь головой о твёрдый
                                    пол.";
				}
				if (cellar.hiding == 3)
					StopDaemon(cellar);
					move cellar_knife to cellar;
					self.incapacitated = true;
					StartTimer(time_shadow, 5);
                                    "Ты ждёшь, пока он окажется достаточно близко, и изо всех сил бьёшь
                                    его в заднюю часть колена. Он валится, стукаясь головой о твёрдый
                                    пол.";

		],
		dead false,
		unmasked false,
		incapacitated false,
has		male animate container transparent open;

Object	cowl "капюшон/"
with	name 'капюшон' 'плащ' 'маск' 'ряс' 'роб',
		description "Одинаковый у всех братьев.",
		before [;
			Unmask,Remove,Take:
				<<Unmask cellar_figure>>;
		],
has		scenery male;

Object	cellar_knife "нож/"
with	name 'нож' 'лезви' 'клинок',
		description [;
			if (self in cellar_figure)
				"Нож отвратительно мерцает. Будто голодный.";
			else
				"Изогнутый. Больше похож на серп, чем на нож.";
		],

has		concealed male;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!BASE OF BELL TOWER
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	belltower_bottom "Основание колокольни"
class	Outside_Room,
with	initial [;
			if (dead_body in self && cecilia1.woken == true)
				StartDaemon(brothers_tower);
			else
				return false;
		],
		description [;
			if (dead_body notin self)
				"Прилегая к северо-восточному углу галереи, колокольня устремлена
				ввысь. Выше, чем шпили церкви. Следы шагов прочерчивают линию на
				снегу с юго-запада, от галереи, к лестнице на башню, на северо-восток.";
			if (dead_body in self && brothers_tower.murder_conversation >= 2 &&
			brothers_tower.murder_conversation < 5)
				"Ровный покров снега у основания колокольни, до этого нарушаемый
								только одной цепочкой следов, сейчас перемешан
								с грязью и кровью.
								Следы ведут на северо-восток, вверх на башню, и
								на юго-запад в галерею.
				^^Брат Лука лежит, раскинувшись на земле перед телом Матвея, и хнычет.";
			if (dead_body in self && brothers_tower.murder_conversation >= 5)
				"Ровный покров снега у основания колокольни, до этого нарушаемый
								только одной цепочкой следов, сейчас перемешан
								с грязью и кровью.
								Следы ведут на северо-восток, вверх на башню, и
								на юго-запад в галерею.
				^^Тело брата Матвея лежит на земле, кровь замерзает на его лице.";
			if (dead_body in self && cecilia1.woken == false)
				"Ровный покров снега у основания колокольни, до этого нарушаемый
				только одной цепочкой следов, сейчас перемешан с грязью и кровью.
				Следы ведут на северо-восток, вверх на башню, и на юго-запад в галерею.
				Брат Матвей лежит на земле, кровь стекает с его виска.";
			else
				"Ровный покров снега у основания колокольни, до этого нарушаемый
				только одной цепочкой следов, сейчас перемешан с грязью и кровью.
				Следы ведут на северо-восток и вверх на башню, и на юго-запад в галерею.
				^^Брат Матвей лежит на земле, кровь стекает с его виска. Лука стоит перед
		ним на коленях.";
		],
		before [;
			Go:
 				if (noun == u_obj or sw_obj or ne_obj) {
 					StopDaemon(brothers_tower);
 					return false;
 				}
 				else
 					return false;
 		],
		sw_to cloister,
		ne_to tower,
		u_to tower,
		in_to [;
			<<Go u_obj>>;
		],
has		;

Object	dead_body "Матвей"
with	name 'труп' 'тел' 'матве' 'матвей' 'брат',
		description "Он выглядит умиротворённым. Крошечные снежинки ложатся в
		морщины на его лице, тая всё медленнее. Его рот наполняется снегом.",
		react_before [;
			Kiss:
				if (noun == self)
					"Ещё тёплый, как парное молоко.";
		],
		before [;
			Eat:
				if (brothers_tower in belltower_bottom)
					"Не при братьях.";
				else
					QuoteFrom(leviticus26_29);
					sin_shadow.evil = true;
					"Подняв подол его рясы, ты видишь белую кожу его бёдер. Ты
					наклоняешься, и впиваешься в неё зубами, пока никто не видит.
					Ещё тёплая кровь струится по твоему языку, стекая в горло.
					^^Сладкая как мёд. Восхитительная.";

			PrayFor:
				"Ты шепчешь молитву о Матвее. Он в этом не нуждается.";
			TalkTo:
			if (matteo1.pushed == true) {
			QuoteFrom(cross_pushed_quote1);
			"Тишина.";
			}
			else
			"Тишина.";
			Search:
				if (matteo_note hasnt general) {
				give matteo_note general;
				move matteo_note to player;
				"Ты прощупываешь складки его рясы и находишь измятую записку.";
				}
				else
				return false;
			Bury:
				"Он слишком тяжёлый.";
			Take,Push,Pull,PushDir:
				"Матвей был крупным мужчиной. Ты не сможешь сдвинуть его.";
		],
		after [;
			Examine:
				QuoteFrom(genesis4_10);
		],
has		scenery proper male;

Object	matteo_note "записк/а Матвея"
with	pname 'записка' 'записку',
		description [;
			if (matteo1.pushed == true) {
				print "Написано вялыми каракулями:";
				style underline;
				print "^^Я бы написал это в свой дневник, но из-за усугубляющейся 
				паранойи я его спрятал. Я корю себя, потому что кажется, что Он так
				далеко от меня. Всё так далеко, это такое бремя.
				^^Отец приходил навестить меня недавно. Он не тот человек, которого
				я знал и уважал. Он смотрел на меня глазами убийцы. Я бы хотел
				поговорить с Лукой, но я боюсь. Нет, мне лень. Я не буду против,
				если он убьёт меня. Я бы сделал это сам, не будь я таким малодушным.^";
				style roman;
				rtrue;
			}
			else
				print "Написано ленивыми каракулями:";
				style underline;
				print "^^Шестой час
				^^Я бы написал это в свой дневник, но из-за усугубляющейся 
				паранойи я его спрятал. Я корю себя, потому что кажется, что Он так
				далеко от меня. Всё так далеко, такое бремя.
				Лука пристаёт ко мне с просьбой рассказать ему то, что я знаю, но
				я не могу. Это слишком тяжёлое бремя, я не могу делить его с кем-то
				невинным.
				^^Вечерня
				^^Я не могу больше держать это в себе. Мне не важно, что я буду
				вечно гореть, я должен покинуть это место. Дьявол ходит по монастырю
				в сердцах и умах моих братьев, во мне.
				^^Прости, Лука.^";
				style roman;
				rtrue;

		],
		before [;
			Attack,Kill:
				if (matteo1.pushed == true) {
					remove matteo_note;
					"Ты с ликованием разрываешь бумагу. Теперь никто не узнает.
					Ты улыбаешься.";
					}
					else
					remove matteo_note;
					"Ты разрываешь бумагу и кидаешь кусочки ветру.";
			Burn:
				if (matteo1.pushed == true) {
					remove matteo_note;
					"Бумага чернеет и сворачивается, прежде чем превратиться в золу.
					Теперь никто не узнает. Ты ликуешь.";
					}
					else
					remove matteo_note;
					"Бумага чернеет и сворачивается, прежде чем превратиться в золу.";
			Show,Give:
				if (second has animate)
					"Лучше оставить это у себя.";
		],
has		proper female;


Object	tower_footsteps "след/ы"
with	name 'след' 'отпечат',
		description [;
			if (time_shadow.current_time == 0)
				"Следы присыпаны снегом.";
			else
				"Следы теряются в месиве из крови и грязи.";
		],
		before [;
			Take:
				<<Take snow>>;
		],
		found_in belltower_bottom,
has		scenery pluralname;



Object	brothers_tower "брат/ья"
with	name 'брат' 'монах',
		initial "Оставшиеся браться с криками толпятся вокруг тела.",
		description "Братья Дрого, Игнат и Константин стоят, бросая друг на друга
		осторожные взгляды.",
		react_before [;
			TalkTo,Ask,Tell,Order,Answer:
				if (noun ofclass constantin)
				"@<<Заткнись, отец!@>> - рявкает он. Кажется, что он собирается
				извиниться, но не делает этого.";
				if (noun ofclass lucca)
				"@<<Прости, прости@>>, - только и причитает он.";
				if (noun ofclass ignatius)
				"@<<Не сейчас, отец@>>, - рявкает он.";
		],

 		daemon [;
 			switch(++(self.murder_conversation)) {
			2:  "^Константин делает шаг и бьёт Луку по лицу, опрокидывая его в снег.
			@<<Прочь от него, убийца!@>> - кричит он, с полыхающими от ярости глазами.
			^^@<<Константин! - дерзко встревает Игнат, вставая между ними.
			Хотя Константин возвышается над ним, Игнат кажется выше чем обычно. -
			Оставь его в покое@>>.
			^^Дрого хихикает.";
			3:  "^@<<Но он убийца!@>> - отвечает Константин, отступая. Его лицо
			пламенеет.
			^^@<<Я знаю это так же, как и ты, но это не оправдывает тебя перед
			Богом@>>.";
 			4:
 			StartDaemon(constantin2);
 			StartDaemon(ignatius2);
			"^@<<Мы запрём его в подвале, пока отец не решит, что с ним делать@>>,
			- продолжает Игнат.
			^^Константин прикусывает губу до крови: @<<Нет, не в подвале. Мы запрём
			его в отопительной@>>.
			^^@<<Ладно, ладно, как пожелаешь@>>.";
 			5:
 			remove brothers_tower;
			"^После этого Константин поднимает Луку за плечи, и толчками уводит
			его по направлению к отопительной.
			^^Игнат поворачивается к тебе и говорит: @<<Ты должен немного поспать,
			отец. Мы все должны. Утром ты сможешь решить, что делать
			дальше@>>, - он разворачивается и уходит к дортуару.";
 			6:
 			move what_now to all_hints;
			"^Дрого ухмыляется тебе: @<<Ох и повеселимся мы!@>>";
 			7:
 			StopDaemon(self);
 			}
 		],
 		murder_conversation 0,
has		static pluralname;



!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Tower
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	tower "Колокольня"
with	initial [;
			if (time_shadow.current_time == 8) {
			StartDaemon(constantin_tower);
			"Слегка запыхавшись, ты проделываешь путь по лестнице на вершину.";
			}
			else
			"Слегка запыхавшись, ты проделываешь путь по лестнице на вершину.";
		],
		description [;
			if (time_shadow.current_time == 8)
				"Пламя лижет стены, бросая зазубренные тени на колокол. Оно пытается
				забраться за ограждение, чтобы поглотить тебя, но сил не хватает.
				Камни неаппетитны для него.";
			if (dead_body in belltower_bottom)
                            "Ты не можешь оторвать взгляд от Матвея, лежащего внизу на земле. Отсюда
                            кажется, что он живой. Он улыбается тебе.
                            ^^Нет, не улыбается - насмехается. Он смеётся над тобой. Смеётся потому
                            теперь ты в ловушке. Он всегда смеялся.";
			if (time_shadow.current_time == 0)
				"Возвышаясь над монастырём Святого Кутберта, колокольня даёт
				возможность разглядеть окрестные земли. Весной они довольно красивы,
				но сейчас ты видишь только бескрайний, сияющий в лунном свете снег.
				Снег на деревьях. Снег на горах. Снег.";
			if (dead_body notin belltower_bottom)
                            "Снег внизу тёмный и истоптанный, а повсюду вокруг девственно чистый.";
		],
		before [;
			Jump:
				deadflag = true;
				"Закрывая глаза, ты шагаешь за край. Ветер свистит вокруг тебя, но
				ты не слышишь его.
				^^В аду есть особое место для самоубийц.";
			Smell:
				if (noun == nothing)
				"Холод проникает в твой нос будто иглы. Ты не чувствуешь ничего
				необычного.";
		],
		out_to [;
			<<Go d_obj>>;
		],
		sw_to belltower_bottom,
		d_to belltower_bottom,
		u_to "Ты никогда не был ближе к небесам.",
		cant_go [;
			if (self.jump_attempted == false) {
				self.jump_attempted = true;
                            "Ты шагаешь, но натыкаешься на ограждение. В следующий раз ты можешь
                            оказаться не настолько удачливым.";
			}
			else
				deadflag = true;
                            "Закрывая глаза, ты шагаешь за край. Ветер свистит вокруг, но ты
                            не слышишь.
                            ^^В аду есть особое место для самоубийц.";
		],
		jump_attempted false,
has		;

Object	tower_dead_body "Матве/й"
with	name 'матвей' 'матве' 'брат' 'тело' 'мёртв' 'труп' 'мертв',
		before [;
			Examine:
				QuoteFrom(tower_body_quote);
				"Он смеётся. Он улыбается. Он насмехается над тобой.";
			default:
				"Не здесь.";
		],
has		scenery male;

Object	tower_view "вид/"
with	name 'снег' 'дерев' 'гор' 'окружени' 'вид',
		description "Холодно и пустынно. Окружающий простор дразнит тебя, обещая
		свободу.",
		before [;
			Examine:
				return false;
			default:
				"Ты не можешь.";
		],
		found_in tower,
has		scenery male;

Object	bell "колокол/"
with	name 'колокол' 'язык/' 'язычок',
		initial "Колокол качается на ветру, его язычок почти касается стенок.",
		description "Почти такой же старый, как сам монастырь, колокол сообщал о
		проходящих часах. Матвей никогда не был звонарём, но, несмотря на
		это, любил бывать здесь, когда звонил колокол.",
		before [;
			Attack,Push,Pull:
				if (self.rung == true)
				"Звон колокола сильно ударяет по ушам.";
				else
				self.rung = true;
				"Колокол звенит. Ты никогда не слышал его так близко до этого.
				Твои уши пронизывает острая боль, пока он не стихает.";
		],
		after [;
			Examine:
				QuoteFrom(exodus28_34);
		],
		rung false,
		found_in tower,
has		static male;

Object	rail "ограждени/е"
with	name 'ограждени' 'перил' 'оград',
		description "Ограждение скрипит на ветру.",
		found_in tower,
has		scenery neuter;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!CHURCH
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	church "Церковь (среди скамей)"
with	description [;
			switch(time_shadow.current_time) {
			0:
			if (self hasnt visited)
				"С тех пор, как ты позволил братьям молиться в собственных кельях,
				собираясь только на мессу, церковь почти всегда пустует. Ряды скамей
				тянутся от центра до выхода в галерею на юге. Потолок возвышается
				над тобой. В свете свечей, фрески на нём кажутся тёмными.";
			else
				"Между холодными скамьями из кедра тянется проход с севера,
				от алтаря, на юг, к галерее. Потолок возвышается над тобой,
				в свете свечей фрески на нём кажутся тёмными.";
			1:
				"Ряд неудобных на вид скамей начинается перед тобой, оканчиваясь у
				алтаря на севере. Высоко над тобой виднеется потолок, озаряемый
				светом свечи. Высоко над тобой, то погружаясь, то выходя из тени
				виднеется потолок. Фрески на нём танцуют в мерцающем свете.";
			3:
				"Скамьи в беспорядке заполняют комнату: часть в середине зала, остальные на
				севере, у алтаря. Свет бросается в окна и теряется снаружи. В церкви
				сумрак, фрески скрываются в тени.";
			5:
				"Гниющие скамьи стоят в ряд, тянущийся до алтаря на севере, молясь
				о спасении. Рассеянный свет, проходя сквозь окрашенные стёкла, едва
				касается фресок наверху.";
			6,7:
				"Скамьи натыкаются друг на друга, безнадёжно пытаясь приползти к
				алтарю на севере. Свет не находит входа сюда: святые не пропускают
				его. Фрески теряются во мраке наверху.";
			}
		],
		before [;
			Smell:
				if (noun == nothing) {
				switch(time_shadow.current_time) {
					0:
						if (sin_shadow.evil == false)
						"К запаху свечей примешивается сладкий запах: будто дикие
						цветы выросли на алтаре.";
						else
						"К запаху свечей примешивается сладкий запах: будто дикие
						цветы выросли на алтаре.
						^^Так нежно. Мерзость.";
					1:
						"Среди запаха свечей чувствуется ещё один. Затхлый, пыльный.
						Он исходит от алтаря.";
					3:
						"Кислый. Как пот или... Ты не можешь разобрать.";
					5:
						if (sin_shadow.evil == false)
						"Кислый. Но не как пот. Что-то грязнее, хуже.";
						else
						"Кислый. Но не как пот. Что-то грязнее, хуже.
						^^Это доставляет тебе удовольствие.";
					6,7:
						if (sin_shadow.evil == false)
						"Кислый. Не совсем как пот. Это моча. Запах пропитывает
						всё, он проникает в твой нос и остаётся там.";
						else
						"Кислый. Не совсем как пот. Это моча. Запах пропитывает
						всё, он проникает в твой нос и остаётся там.
						^^Тебе нравится новый дом.";
				}
				}
				else
					return false;
		],
		s_to cloister,
		n_to chancel,
		u_to chancel,
		out_to [;
			<<Go s_obj>>;
		],
		in_to [;
			<<Go n_obj>>;
		],
has		;

Object	windows "витраж/и"
with	name 'витраж' 'святые' 'святых' 'святым' 'окн',
		initial [;
				if (sin_shadow.evil == false){
			switch(time_shadow.current_time) {
				0: "Святые радостно улыбаются со своих цветных витражей.";
				1: "Святые страдальчески улыбаются со своих стеклянных жилищ.";
				3: "Святые смотрят вниз холодными глазами. В них нет жалости.
				Что-то другое.";
				5: "Святые не смотрят на тебя, они плачут.";
				6,7: "Святые кричат из своих стеклянных клеток. Они хотят бежать,
				но они в ловушке.";
			}
			}
			else
			switch(time_shadow.current_time) {
				0,1,2: "Святые не смотрят на тебя, они плачут.";
				3,4,5: "Святые кричат в ярости, но не могут навредить тебе.
				Они заперты в своих стеклянных клетках.";
				6,7: "Святые кричат из своих стеклянных клеток. Они хотят бежать,
				но они в ловушке.";
			}
		],
		description [;
			switch(time_shadow.current_time) {
				0,1:
				"Ряд прекрасно отделанных окон с разноцветными стёклами
				располагается на сводчатом потолке церкви. В их рамы вставлены
				изображения Святого Франциска Ассизского, Медарда Нуайонского,
				Драусина и Кутберта.";
				3:
				"Тёмные окрашеные стёкла окон препятствуют свету, но не холоду.
				В рамы окон вставлены изображения Святого Франциска Ассизского,
				Медарда Нуайонского, Драусина и Кутберта.";
				9:
				"Окна разбиты и осколки рассыпаны по полу. Языки пламени пляшут в
				проёмах, пытаясь пробраться внутрь.";
				default:
				"Святые Франциск Ассизский, Медард Нуайонский, Драусин и Кутберт
				кричат из своих стеклянных клеток. Окна удерживают их взаперти.";
		}
		],
		found_in church chancel,
has		static pluralname;



Object	pews "скамь/и"
with	name 'скамь' 'скамейк' 'лавк',
		description "Их кедровые рамы потёрты за время бесчисленных месс. Ты провёл
		много времени на них, и в последнее время перестал чувствовать их жёсткость.",
		before [;
			Examine:
				return false;
			default:
				if (location == chancel)
					"Отсюда это сложно.";
		],
		found_in church chancel new_church,
has		supporter enterable scenery female pluralname;

Object	altar "алтар/ь"
with	name 'алтар',
		description "Похоже, что-то привязано к кресту.",
has		male scenery;

Object	church_candles "свеч/и"
with	name  'пламя' 'свеч' 'огонь',
		description [;
			switch(time_shadow.current_time) {
				0:
				if(sin_shadow.evil == false)
				"Пламя горит ровно и согревает твоё сердце.";
				else
				"Пламя жжёт глаза, будто осуждая тебя.";
				1:
				"Пламя колыхается, едва не затухая.";
				3:
				if(sin_shadow.evil == false)
				"Они горячие. Намного горячее, чем ты ожидал. Они наполняют
				помещение душным жаром.";
				else
				"Они горячие. Намного горячее, чем ты ожидал. Они наполняют
				помещение приятным теплом.";
				5:
				if(sin_shadow.evil == false)
				"Они ослепляют. Их пламя пробирается до самого дна твоих
				глаз.";
				else
				"Они ослепляют. Их пламя пробирается на самое дно твоих
				глаз, отражая ненависть.";
				6,7:
				if(sin_shadow.evil == false)
					"Это огни ада. Они обжигают не согревая, слепят, не давая
					света.";
				else
					"Это огни ада. Они обжигают не согревая, слепят, не давая
					света.
					^^Это огни дома.";
				9:
					"Свечи стали просто столбиками воска. Они стекают и
					расползаются.";
			}
		],
		before [;
			Take:
				"У тебя уже есть одна.";
			Extinguish:
				"Лучше не надо.";
		],
		found_in church,
has		scenery pluralname;

Object	church_ceiling "потол/о/к/"
with	name 'потолок' 'фрески' 'свод' 'череп' 'ангел' 'ангелов' 'демон' 'демонов' 'дьявол' 'нечисть',
		casegen [ beg end csID;
			return ICVowel (csID, beg, end, 'о', 0);
		],
		description [;
		switch(time_shadow.current_time) {
			0:
			if(sin_shadow.evil == false)
				"Грандиозные своды широки и открыты, как руки Господа. На фресках
				изображено изгнание Сатаны. Ангелы поют над поверженной нечистью.";
			else
				"Грандиозные своды широки и открыты. Слишком открыты, слишком
				свободны. На фресках изображено изгнание Сатаны. Ангелы поют над
				несправедливо осуждённым злом. Они такие праведные, такие
				одураченные.";
			1,2:
			if(sin_shadow.evil == false)
                            "Высота ошеломляет. Если так далеко до потолка, сколько же до Бога?
                            Ангелы на фресках продолжают нападать на Падшего, время от времени
                            поглядывая в твоём направлении.";
			else
                            "Если даже потолок так высоко, Бог и в самом деле должен быть
                            очень далеко. Ангелы на фреске продолжают свой крестовый поход на Падшего,
                            время от времени поглядывая в твоём направлении.";
			3:
			if(sin_shadow.evil == false)
                            "Сквозь мрачные тени едва проглядывают фрески. Падший ускользает от
                            ангелов, просачиваясь сквозь дыры в земле, расползаясь по всей планете.
                            Ангел находит тебя глазами и не отводит их.";
			else
                            "Сквозь мрачные тени едва проглядывают фрески. Падший ускользает от
                            ангелов, просачиваясь сквозь дыры в земле, расползаясь по всей планете.
                            Ангел находит тебя глазами и не отводит их. Дурак. Ты уничтожишь
                            его так же, как и его братьев.";
			5:
			if(sin_shadow.evil == false)
                            "Ангелы сбились в тесный кружок в середине, падшие окружили их со всех
                            сторон. Небесные силы перестали сражаться. Им остаётся только молиться.";
			else
                            "Ангелы сбились в тесный кружок в середине, падшие окружили их со всех
                            сторон. Небесные силы перестали сражаться. Им остаётся только молиться.";
			6,7:
			if(sin_shadow.evil == false)
                            "Ангелы повержены. Оперённые крылья и окружённые сиянием черепа
                            насажены на копья. Демоны торжествуют, их время настало.";
			else
                            "Ты победил, ангелы повержены. Оперённые крылья и окружённые сиянием черепа
                            насажены на копья. Демоны торжествуют, их время настало. Твоё время настало.";
			9:
				if (sin_shadow.evil == true)
                                    "Ты победил. Ангелы мертвы. Их кровь впитывается в землю. Скоро
                                    на Земле повторится сюжет этой фрески. Ты об этом позаботишься.";
				else
                                    "На фресках остался только водоворот красного и чёрного. Кровь
                                    и огонь. Зло торжествует.";
		};
		],
		found_in church new_church chancel,
has		scenery male;

Object	church_font "купел/ь"
with	name 'купель' 'бронза' 'плесень' 'горшок',
		initial [;
		switch(time_shadow.current_time) {
			0:
				"Купель тепло мерцает в свете свечи, на поверхности воды нет ни
				малейшей ряби.";
			1,2:
				"Купель наклонена к основанию алтаря.";
			3:
				"Купель посажена перед алтарём, её края покрыты серой плесенью.";
			5:
				"Перед алтарём стоит ржавая купель, вокруг разрослась зелёная плесень.";
			6,7:
				"Зловонный горшок стоит перед алтарём, человеческие эксременты облепили
				его края.";
		};
		],
		description [;
		switch(time_shadow.current_time) {
			0:
				"Бронзовая купель тепло мерцает в свете свечей, так же, как и на множестве
				месс до этого.";
			1,2:
				"Бронза потускнела: серые и зелёные разводы тянутся от воды до самого
				основания.";
			3:
				"Купель потрескалась и потускнела. Серо-зелёные полосы растений тянутся
				из воды и свисают вниз.";
			5:
				"Хлопья ржавчины осыпаются, и их место занимает зелёная плесень.
				Она прочно обосновалась на купели и не собирается отступать.";
			6,7:
				"Горшок покрыт фекалиями и мочой. Пахнет он ещё хуже чем выглядит.";
			9:
				"Чёрный и ужасный.";
		};
		],
		before [;
			Receive:
				if (noun == coin)
					"Это не фонтан желаний.";
				else
					"Лучше не надо.";
			Search:
				<<Examine holy_water>>;
			Drink:
				<<Drink holy_water>>;
			Eat:
				<<Eat holy_water>>;
			Smell:
				<<Smell holy_water>>;
			Taste:
				<<Taste holy_water>>;
			Touch:
				<<Touch holy_water>>;
			Take:
				<<Take holy_water>>;
		],
		found_in church new_church,
has		static container open female;

Object	holy_water "свят/ая вод/а"
with	name 'свят' 'вод',
		description [;
		switch(time_shadow.current_time) {
			0:
			if (sin_shadow.evil == false)
						"Вода кристально чистая: она искрится в свете свечей и рябит от
						твоего дыхания.";
			else
						"Вода кристально чистая. Она пузырится и шипит при твоём приближении.";
			1,2:
						"Поверхность воды затуманена. Она искажает твоё отражение, превращая
						его в желтоватый шар с острыми выпуклостями там, где кожа свисает
						со скул.";
			3:
						"Вода, если это вода, холодная и мутная. По поверхности перекатываются
						гладкие волны, будто крысы, которыми блюёт змея.";
			5:
						"Жидкость грязная и протухшая. Она перекатывается и ворочается
						в купели.";
			6,7:
						"Моча. Она киснет и перемешивается в старой купели.";
			9:
						"Моча завихряется в купели. У неё тёмный нездоровый цвет.";
		};
		],
		before [;
			Drink:
				switch(time_shadow.current_time) {
					0:
					if (sin_shadow.evil == false)
						"Вода сладкая на вкус, легко пьётся.";
					else
						deadflag = true;
						"Вода обжигает, протекая в твоё горло. Пар вырывается наружу -
						розовый от крови. Ты кричишь, но слов нет, только кровь.";
					1,2:
						"Она продирает горло, но утоляет жажду.";
					3:
					if (sin_shadow.evil == false)
						"Она кисло-горькая. Она не может утолить твою жажду.";
					else
						"Она кисло-горькая, вкусная. Ты избавился от жажды.";
					5:
					if (sin_shadow.evil == false)
						"Тебя чуть не вырвало от этого вкуса. Кислый, горький.
						^^Отвратительный.";
					else
						"Она проскальзывает в твоё горло легко и приятно. Кислая и
						горькая.";
					6,7:
					if (sin_shadow.evil == false)
						"Моча обжигает твой язык и заворачивает желудок.";
					else
						"Моча смягчает твой язык и успокаивает желудок.";
					9:
						if (sin_shadow.evil == true)
						"Сладкая. Она бежит по твоему горлу в желудок.";
						else
						"Мерзость. Ты бы вырвал, будь у тебя в желудке хоть
						что-нибудь.";
		};
			Eat:
				<<Drink self>>;
			Smell:
				switch(time_shadow.current_time) {
					0:
					if (sin_shadow.evil == false)
						"Свежесть и чистота. Это успокаивает твои нервы.";
					else
						"Свежесть, чистота. Это обжигает твой нос.";
					1,2:
						"Спёртый запах, будто кто-то сидел в ней несколько месяцев.";
					3:
						"Кислый, едкий запах. Как пот или что-нибудь ещё.";
					5:
						"Кислый, но не как пот. Что-то хуже.";
					6,7:
						"Кислый. Но не похоже на пот. Это моча. Запах пробирается
						в твой нос и остаётся в нём.";
					9:
						if (sin_shadow.evil == true)
						"Ты вдыхаешь. Сладко.";
						else
						"Мерзость. Ты бы вырвал, будь у тебя в желудке хоть
						что-нибудь.";
		};
			Taste:
				<<Drink self>>;
			Touch:
				switch(time_shadow.current_time) {
					0:
					if (sin_shadow.evil == false)
						"Она холодная. Не резким холодом, как всё остальное в этом
						месте, а скорее спокойной прохладой.";
					else
						"Вода обжигает твои пальцы, оставляя красные ожоги и белые
						волдыри на твоей морщинистой коже.";
					1,2:
					if (sin_shadow.evil == false)
						"Пальцы белеют от холода, когда ты опускаешь их в воду.";
					else
						"В воде руки холодеют и чешутся, кожа краснеет.";
					3:
					if (sin_shadow.evil == false)
						"Она тёплая, такой же температуры как твоя кожа. Ты почти не
						чувствуешь её, только неприятную липкость на пальцах.";
					else
						"Тёплая, как люди. Ты почти не чувствуешь её, только восхитительную
						слизь, остающуюся на коже.";
					5,6,7:
					if (sin_shadow.evil == false)
						"Тёплая, испускает пар на холоде. Она обжигает и вызывает зуд.";
					else
						"Тёплая, испускает пар на холоде. Она облегчает боль твоей слабой
						оболочки.";
					9:
						if (sin_shadow.evil == true)
						"Тёплая, смягчает твои чешуйки.";
						else
						"Мерзость. Она обжигает твою кожу.";
		};
			Take:
				<<Drink self>>;
		],
has		concealed female;


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!CHANCEL
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	chancel "Церковь (в алтаре)"
with	name 'цепь',
		description [;
			if (sin_shadow.evil == false) {
			switch (time_shadow.current_time) {
				0,1:
				"Ты провёл множество торжественных служб здесь, глядя на море
				своих братьев. Сейчас ты видишь лишь море пустых скамей на юге.";
				3:
				"Было ли твоё время потрачено здесь впустую? Имело ли всё это смысл?
				Глядя на юг, на пустые скамьи, ты удивляешься, как это могло
				кому-нибудь помочь.";
				default:
				"Все скамьи на юге пусты. На них никогда больше не будут сидеть.";
			}
			}
			else
			switch (time_shadow.current_time) {
				default:
				"Боже, подумать только, сколько времени было бесполезно проведено
				здесь. Слепцы вели слепцов. Беззвучный смех поднимается из твоего
				сердца. Остальная часть церкви находится на юге.";
			}
		],

		before [;
			Smell:
				if (noun == nothing) {
				switch(time_shadow.current_time) {
					0:
					if (sin_shadow.evil == false)
						"Запах свежий и успокаивающий. Будто дикие цветы выросли
						в монастыре.";
					else
						"Будто дикие цветы выросли в монастыре. Это раздражает.";
					1:
						"Затхлый и пыльный запах просачивается сквозь раку.";
					3:
					if (sin_shadow.evil == false)
						"Слабый запах наполняет комнату. Плохой запах. Мёртвый
						запах.";
					else
						"Слабый запах наполняет комнату. Хороший запах. Мёртвый
						запах.";
					5:
					if (sin_shadow.evil == false)
						"Разложение и смерть витает в воздухе, удушая тебя.";
					else
						"Разложение и смерть витает в воздухе, возбуждая твой голод.";
					6,7:
					if (sin_shadow.evil == false)
						"Грязь, смерть и гниение - единственные оставшиеся запахи.";
					else
						"Грязь, смерть и гниение - единственные оставшиеся запахи.
						Прямо как дома.";
				}
			}
			else
				return false;
		],
		s_to church,
		d_to church,
		out_to [;
			<<Go s_obj>>;
		],
has		;

Object	lectern "анало/й"
with	name 'аналой' 'кафедр' 'подиум',
		initial [;
			switch(time_shadow.current_time) {
				0:
				if (sin_shadow.evil == false)
                                    "Аналой стоит в середине алтаря, Библия лежит на нём, сверкая
                                    золотыми буквами.";
				else
                                    "Аналой стоит в середине алтаря, Библия лежит на нём, осуждая
                                    тебя со своей высоты.";
				1:
                                    "Аналой стоит, удерживая Библию. Библия вжимается в него, подальше
                                    от твоих глаз.";
				3:
                                    "Аналой шаткий и хрупкий, он едва выдерживает вес массивного
                                    тома.";
				5:
                                    "Аналой трещит. Удерживать Библию - непростое задание.";
				6,7:
                                    "Аналой сломан. Вес Библии оказался ему не под силу.";
			}
		],
		description [;
			switch(time_shadow.current_time) {
			0:
			if (sin_shadow.evil == false)
                            "Аналой стоит с большей силой и уверенностью, чем ты в последнее
                            время. Он держит Библию без колебаний.";
			else
                            "Аналой держит Библию увереннее чем ты.";
			1:
                            "Аналой устало держит Библию.";
			3:
                            "Пытаясь выдержать вес массивной книги, аналой выглядит так,
                            будто вот-вот развалится.";
			5:
                            "Сломанный аналой лежит на полу, Библия слетела с него.";
			6,7:
                            "Аналой сломан. Вес Библии оказался ему не под силу.";
			9:
                            "Ничего кроме пыли не осталось.";
			}
		],
		react_before [;
			TalkTo,Ask,Tell,Answer:
				drogo3.talking = 3;
				return false;
		],
		found_in chancel new_church,
has		static supporter male;

Object	bible "Библи/я"
with	name 'библи' 'книг' 'том' 'золото',
		description [;
			switch(time_shadow.current_time) {
			0,1:
			if (sin_shadow.evil == true)
                            "Библия гневается на тебя со своего возвышения. Осуждает, насмехается.";
			if (self.first_seen == true) {
				self.first_seen = false;
                            "Ах, Библия. Сколько раз она помогала тебе? Когда на твоё сердце ложилась тяжесть,
							ты часто обращался к ней, и она делилась с тобой своей мудростью.
                            Кажется, что сейчас она вмешивается в твои мысли, занятые мирскими проблемами.
                            Строки появляются неожиданно: в твоих ушах начинают звучать слова Бога, наполняя
							твой разум... Чем? Сейчас открыт Экклезиаст 9:3.";
			}
			else
                            "Библия лежит на аналое, сверкая золотыми буквами в свете твоей свечи.";
			3:
                            "Страницы Библии хрупкие и скрученные. Трещинки покрывают страницы
                            цвета мочи.";
			5:
                            "Библия опалённая и потёртая. Трещины пересекают кожаный переплёт.";
			6,7:
                            "Страницы переплетены шкурой мёртвого животного. Гниющего и полного личинок.";
			9:
                            "Ничего не осталось кроме пыли. Пустые слова здесь больше ничего не
                            значат.";
			}
		],
		before [;
			Read:
				switch(time_shadow.current_time) {
				0,1:
				style underline;
				print "Экклезиаст 9:3
				^^@<<Это-то и худо во всем, что делается под солнцем,
				что одна участь всем, и сердце сынов человеческих исполнено зла,
				и безумие в сердце их, в жизни их;
				а после того они отходят к умершим@>>.^";
				style roman;
				rtrue;
				3:
				"Ты смотришь на эти страницы как и много раз до этого, но не
				можешь сфокусироваться. Слова крутятся и ускользают от твоих
				глаз.";
				5:
				"Слова бессвязны, неразборчивы.";
				6,7:
				"Страницы пусты. Слова Бога не предназначены отродьям Сатаны.";
				9:
				"Ничего не осталось, кроме пыли. Пустые слова здесь больше ничего не
				значат.";
			}
			Take:
				if (time_shadow.current_time < 6)
				"Она прикреплена цепью к аналою.";
				else
				"Она обжигает твои руки.";
		],
		found_in lectern,
		first_seen true,
has		legible scenery female;

Object	saint_cuthbert "Свят/ой Кутберт/"
with	name 'свят' 'кутберт' 'тело' 'рак' 'стекл' 'мощи' 'могилу',
		initial [;
			switch(time_shadow.current_time) {
				0:
				if (self.broken == false)
				"Мощи Святого Кутберта покоятся в красивой стеклянной раке у
				основания алтаря.";
				else
				"Святой Кутберт покоится в раке, усыпанный битым стеклом.";
				1:
				"Мощи Святого Кутберта покоятся в сухой пыльной раке. Пыль налипает
				на твою влажную кожу, запах сушит твой нос.";
				3:
				"Святой Кутберт лежит в своей могиле. Труха осыпается с её краёв.";
				5:
				"Святой Кутберт гниёт в своей могиле, его глаза съедены личинками.";
				6,7:
				"Гниющая, в червоточинах, плоть и личинки - вот и всё, что осталось
				от тела Святого Кутберта.";
			};
		],
		description [;
			switch(time_shadow.current_time) {
				0:
				if (sin_shadow.evil == false)
				"Он такой спокойный, безмятежный. Его тело не тронули прошедшие
				века - он и в самом деле нетленный. Можно подумать, что под ним цветут цветы,
				такой божественный запах он источает.";
				else
				"Он такой спокойный, безмятежный. Его тело нетронуто прошедшими
				веками. Он и в самом деле нетленный. Пахнет как мерзкие цветы.
				От этого у тебя зудит нос.";
				1:
				"Он кажется старым и высохшим. Его волосы висят бледными пучками
				вокруг потрескавшегося лица. Он пахнет пылью, это сушит твой нос.";
				3:
				"Его кожа в выцветших пятнах, его волосы свисают с раскрошившегося
				черепа.";
				5:
				"Гнилостные кратеры покрывают его тело и очерчивают его лицо.";
				6,7:
				"На его теле дыры, или на скелете остатки плоти. Гниение
				распространяется по его костям, превращая их в крошево, в мерзкую пыль.";
			};
		],
		before [;
			Open:
				if (self.broken == true)
					"Уже разбито";
				else
					"Это цельное стекло без петель. Ты можешь только разбить его.";
			Eat:
				"Ты впиваешься зубами в его плоть. Она поддаётся как масло, но
				жжётся. Жжёт твои зубы, жжёт горло. Падает в твоё желудок и жжёт
				его тоже.";
			Take:
				"Ты слишком слаб.";
			Attack:
				if (self.broken == true)
					"Рака уже сломана.";
				else
					self.broken = true;
					"Удар твоего кулака разбивает стекло, осыпая каскадом осколков тело
					Святого.";
			Smell:
			switch(time_shadow.current_time) {
				0:
				if (sin_shadow.evil == true)
                                "Жалкие цветочки. Этот запах щекочет твой нос.";
				else
				QuoteFrom(psalms45_8);
                                "Сладкий как цветы или ладан.";
				1:
                                "Он выглядит старым и сухим. Его волосы свисают бледными
                                пучками на растрескавшееся лицо. Запах пыли от него сушит
                                твой нос.";
				3:
				if (sin_shadow.evil == true)
                                "Запах сворачивается в твоём носу и остаётся в нём. Тебе нравится
                                быть его новым гнездом.";
				else
                                "Запах сворачивается в твоём носу и остаётся в нём. Ты глубоко
                                дышишь несколько минут, чтобы прогнать его оттуда.";
				5:
				if (sin_shadow.evil == true)
                                "Восхитительный запах: личинки и смерть.";
				else
                                "У тебя глаза на лоб лезут от этого зловония. Оно пробирается через
                                твоё горло в живот.";
				6,7:
				if (sin_shadow.evil == true)
                                "Его запах находит путь через твой нос, и уносит свежий воздух
                                из лёгких. Удивительно.";
				else
                                "Его запах находит путь через твой нос, и уносит свежий воздух
                                из лёгких, удушая тебя.";
			};
		],
		broken false,
		found_in chancel,
has		static proper male;

Object	crucifix "крест/"
with	name 'крест' 'деревянн' 'матвей' 'матве' 'корон' 'шип' 'ноготь' 'ногти',
		initial [;
			switch(time_shadow.current_time) {
				0:
                                    "Надо всем нависает массивный деревянный крест. Это потрясающе.";
				1:
                                    "За алтарём находится деревянный крест. Он не возвышается,
                                    просто стоит.";
				3:
					if (drogo3.show_matteo > 1)
                                    "Матвей висит на кресте. Тающий снег стекает в лужу под его
                                    ногами.";
					else
                                    "За алтарём находится деревянный крест. Он не возвышается,
                                    просто стоит.";
				5:
                                    "Матвей висит на кресте, на его губах бессмысленная усмешка,
                                    над его бровями корона из шипов.";
				default:
                                    "Матвей, со своего места на кресте, приглашает тебя в алтарь.
                                    Застывшая ухмылка искажает его лицо, и капли крови стекают с
                                    шипов в его глаза.";
			}
		],
		before [;
			Examine:
				if (location == church) {
					switch(time_shadow.current_time) {
					0,1:
                                            "Крест установлен высоко над алтарём.";
					3:
                                            "Что-то странное произошло с крестом.";
					default:
                                            "Матвей ухмыляется. Это заметно через всю церковь.";
					}
					}
				else
					return false;

			Bury,Take,Push,Pull:
				if (drogo3.show_matteo > 1)
                                    "Дрого надёжно его прикрепил. Плоть и дерево стали одним целым.";
				else
                                    "Он надёжно прикреплён.";
			TalkTo:
				if (time_shadow.current_time < 3)
					return false;
				else
				switch((self.talking)++){
				0:
				if(matteo1.pushed == true) {
				QuoteFrom(cross_pushed_quote1);
				"Тишина.";
				}
				else
				QuoteFrom(cross_talking_quote1);
				"Тишина.";
				1:
				if(matteo1.pushed == true) {
				QuoteFrom(cross_pushed_quote1);
				"Тишина.";
				}
				else
				QuoteFrom(cross_talking_quote2);
				"Тишина.";
				2:
				if(matteo1.pushed == true) {
				QuoteFrom(cross_pushed_quote1);
				"Тишина.";
				}
				else
				QuoteFrom(cross_talking_quote3);
				"Тишина.";
				3:
				if(matteo1.pushed == true) {
				QuoteFrom(cross_pushed_quote1);
				"Тишина.";
				}
				else
				QuoteFrom(cross_talking_quote4);
				"Тишина.";
				default:
				"Тишина.";
				}
		],
		description [;
			switch(time_shadow.current_time) {
				0:
					"Он прекрасно сработан, со всем заслуженным вниманием.";
				1:
					"Дешёвый и расщеплённый. Мастер был жуликом.";
				3:
					if (drogo3.show_matteo > 1) {
					QuoteFrom(matteo_cross_quote);
                                    "Труп Матвея свисает с креста. Раны на его голове, руках и ногах
                                    блестят кристаллами замёрзшей крови. Его глаза смотрят сквозь тебя
                                    в никуда.
                                    ^^Иисус всегда выглядел красиво на кресте, Матвей же выглядит
                                    просто как мёртвец.";
					}
					else
                                    "Дешёвый и расщеплённый. Мастер был жуликом.";
				5:
                                    "Матвей прикреплён к кресту за руки и за ноги, оскал перекосил его
                                    свисающее лицо.";
				6,7:
                                    "Матвей наслаждается, глядя со своей высоты. Его его кровь пропитывает
                                    расщеплённое дерево.";
				9:
                                    "Матвей приветствует тебя в церкви с кровавым оскалом.";
			}
		],
		talking 0,
		found_in chancel new_church church,
has		static male;



!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Dormitory
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	dormitory "Дортуар"
with	description [;
			if (lucca1 in matteo_room)
			"Дюжины проёмов находятся в стенах холла, каждый из них ведёт в отдельную келью,
			кроме западного, который выходит в галерею. Хотя здесь и нет дверей,
			входы расположены таким образом, чтобы обеспечить максимальное
			уединение. Комната брата Матвея расположена на юге, Игната - на севере, недавно
			обжитая келья Дрого - на северо-востоке, Константина - на юго-востоке,
			а Луки - на юго-западе.
			^^Скребущие звуки доносятся из кельи Константина, образуя жуткое
			созвучие с рыданиями из комнаты Матвея.";
			else
			"Дюжины проёмов в стенах холла, каждый из них ведёт в отдельную келью,
						кроме западного, который выходит в галерею. Хотя здесь и
						нет дверей, входы расположены таким образом, чтобы
						обеспечить максимальное	уединение. Комната брата Матвея
						на юге, Игната - на севере, недавно	обжитая келья Дрого
						на северо-востоке, Константина - на юго-востоке,
			и Луки - на юго-западе.";
		],
		before [;
			Listen:
				if (constantin1 in constantin_room)
					"Быстрое скобление в комнате Константина почти не слышно
					за рыданиями из кельи Матвея.";
		],

		w_to cloister,
		se_to constantin_room,
		s_to matteo_room,
		n_to ignatius_room,
		ne_to drogo_room,
		sw_to lucca_room,
		out_to [;
			<<Go w_obj>>;
		],
has		;

Room	constantin_room "Келья Константина"
with	description [;
			switch(time_shadow.current_time) {
			0,1:
				if (constantin_tools in self)
				"Константин - один из нескольких братьев, у которых в келье нет
				ничего, кроме кровати. Несколько инструментов лежат неподалёку от
				двери на северо-западе - остатки от его жизни в профессии
				кузнеца. Здесь чувствуется запах. Кислый запах.";
				else
				"Константин - один из немногих братьев, у которых в келье нет
				ничего кроме кровати. Здесь чувствуется запах. Кислый запах.";
			3:
				"В комнате отвратительно воняет. Болезнь повсюду: она пропитала
				кровать, залезла на стены. Слабое дуновение свежего воздуха
				чувствуется с северо-запада, но этого явно недостаточно.
				^^Инструменты пропали.";
			default:
				if (constantin_tools notin self)
				"Это стены могилы Константина. Слизь покрывает пол и сочится со стен.
				Вонь грубая, плотная. Отсюда можно убежать на северо-запад.";
				else
				"Это стены могилы Константина. Слизь покрывает пол и сочится со стен.
				Вонь грубая, плотная. Отсюда можно убежать на северо-запад.
				^^Инструменты пропали.";
		}
		],
		before [;
			Listen:
				if (constantin1 in self)
				"@<<Тш-ш-ш@>>, - шепчет нож, скользя по зайчатине.";
			Smell:
				if (noun == nothing or brother_bed)
				switch(time_shadow.current_time){
				0,1:
					"Нездоровый запах, сложно понять. Возможно, рвота.";
				3:
					"Блевотина.";
				default:
					"Воздух отравляет твои лёгкие. Почему рвота всегда
					побуждает к рвоте?";
			}
		],
		nw_to dormitory,
		n_to dormitory,
		out_to [;
			<<Go nw_obj>>;
		],
has		;

Object	constantin_hare "за/я/ц/"
with	name 'заяц' 'зайца' 'тушу' 'тушку',
		casegen [ beg end csID;
			return ICVowel (csID, beg, end, 'я', 'й');
		],
		description "Константин держит зайца за ногу своей огромной рукой. Мокрый
		от снега мех впитывает кровь. Тушка подёргивается. Нет. Показалось. Это
		только движение ножа, разрезающего плоть.",
		before [;
			Take:
				"Константин отбирает его обратно. @<<Подожди пока я закончу@>>, - ворчит он.";
		],
		found_in constantin1,
has		male scenery;

Object	hare "за/я/ц/"
with	name 'заяц' 'зайца' 'тушу' 'тушку',
		casegen [ beg end csID;
			return ICVowel (csID, beg, end, 'я', 'й');
		],
		initial "Освежеванный заяц сидит на полу. Его мышцы мерцают на свету.",
		description
			"Сухожилия и мышцы связаны вместе в блестящий кусок.",
		before [;
			Eat:
				remove hare;
				"Холодная кровь пачкает твои губы и утоляет голод.";
		],
		after [;
			Take: "Ты берёшь зайца."; ! hack
		],
has		male edible;

Object	constantin_knife "нож/"
with	name 'нож',
		description "Он неприятно блестит в свете свечи.",
		before [;
			Take:
				"Константин выхватывает его обратно: @<<Он мой@>>.";
		],
		found_in constantin1,
has		male scenery;

Object	pool_of_blood "луж/а крови"
with	name 'луж' 'кров' 'ног',
		description "Кровь собирается в небольшую лужу у ноги Константина, остывая
		на холоде.",
		each_turn [;
			if (time_shadow.current_time ~= 0)
				give self absent;
		],
		found_in constantin_room,
has		female scenery;

Room	matteo_room "Келья Матвея"
with	initial [;
			StartDaemon(plague_shadow,7);
		],
		description [;
			switch(time_shadow.current_time){
			0:
				"Маленькая комната, такая же, как и остальные. Кровать стоит
				у стены, противоположной входу на севере.";
			1:
				"Ты нечасто видел здесь Матвея, он всегда был в колокольне. Тем не менее
				комната кажется опустевшей после того, как он ушёл. Выход на севере.";
			3:
				"У него всегда было много секретов. Ты знал, что однажды это его убьёт,
				но не руками Луки. Выход на севере.";
			default:
				"Пустая, совсем пустая. Выход на севере.";
		}
		],
		before [;
			Dig:
				if (noun == nothing)
					<<Dig flagstone>>;
		],
		n_to dormitory,
		out_to [;
			<<Go n_obj>>;
		],
has		;

Object	flagstone "плит/а"
with	name 'плит' 'камн' 'камен' 'пол' 'земл' 'кровь' 'дыр',
		initial [;
			if (self.lifted == true)
                        "Плита лежит рядом с небольшой дырой в полу.";
			else
                        "Одна из плит окрашена кровью.";
		],
		description [;
			if (self.lifted == true)
                            "Плита лежит в стороне, побеждённая.";
			else
			switch(time_shadow.current_time){
				0:
                                    "Лука цепляется за камень, безнадёжно пытаясь выскоблить землю со
                                    всех сторон.";
				1:
                                    "Камень выглядит так же, как и остальные, за исключением того
                                    что в его трещинах сворачивается довольно большое количество крови.";
				default:
                                    "Камень насмехается над тобой, сидя в своём гнезде.";
			}
		],
		react_after [;
			Unlock,Open,Take,Push,Pull,Dig:
				QuoteFrom(dig_flagstone_quote);
				return false;
		],
		before [;
			Unlock:
				if (self.lifted == true)
                                    "Плита уже поднята.";
				if (constantin_tools in player && prybar notin player)
                                    "Ты пытаешься поддеть камень молотком, но он не может зацепиться.
                                    Это неподходящий инструмент.";
				if (prybar notin player)
                                    "Это неподходящий инструмент.";
				else
					move matteo_papers to matteo_room;
					self.lifted = true;
                                        "Вставляя кочергу в трещину, ты выкорчёвываешь плиту. Она
                                        легко выходит.
                                        ^^На том месте, где она лежала, в неглубоком тайнике, ты
                                        замечаешь несколько свёрнутых листков бумаги.";
			Open,Take,Push,Pull,Dig:
				if (self.lifted == true)
                                        "Камень уже поднят.";
				if (constantin_tools in player && prybar notin player)
                                        "Ты пытаешься поддеть камень молотком, но он не может зацепиться.
                                        Это неподходящий инструмент.";
				if (prybar notin player)
                                        "Ты цепляешься за камень, но ничего не добиваешься, кроме
                                        расцарапанных пальцев.";
				else
					move matteo_papers to matteo_room;
					self.lifted = true;
                                        "Вставляя перекладину в трещины, ты выкорчёвываешь плиту. Она
                                        легко выходит.
                                        ^^На том месте, где она лежала, в неглубоком тайнике, ты
                                        замечаешь несколько свёрнутых листков бумаги.";
		],
		lifted false,
has		static concealed female;

Object	matteo_papers "бумаг/и"
with	name 'бумаг' 'лист' 'листк' 'дневник',
		initial "Бумаги Матвея, лежащие на полу, манят тебя.",
		before [;
			Read,Examine:
			if (self.been_read == true){
				matteo_journal.select();
				rtrue;
			}
			else {
				if (constantin_dead notin constantin_room) {
					self.been_read = true;
					move self to player;
					give bell concealed;
					move constantin_tower to tower;
					move cecilia_tower to tower;
					remove constantin5;
					matteo_journal.select();
					rtrue;
				}
				if (constantin_dead in constantin_room){
					self.been_read = true;
					move self to player;
					give bell concealed;
					move cecilia_tower2 to tower;
					matteo_journal.select();
					rtrue;
				}
			}
		],
		react_before [;
			Go:
				if (noun == n_obj or out_obj && self.been_read == false)
                                    "Ты не уйдёшь, пока не прочитаешь бумаги, из-за которых погибли
                                    два человека.";
		],

		been_read false,
has		pluralname legible;

Room	ignatius_room "Комната Игната"
with	description [;
			if (cellar hasnt visited)
			"В келье Игната пахнет не так сильно, как в остальных. В последнее время
			он проводил много времени в лазарете, заботясь о больных. Он смелее тебя.
			Заправленная кровать стоит у стены, противоположной входу на юге.";
			else
			"В келье Игната пахнет не так сильно, как в остальных. Заправленная
			кровать стоит у стены, противоположной входу на юге.";
		],
		s_to dormitory,
		out_to [;
			<<Go s_obj>>;
		],
has		;

Room	drogo_room "Келья Дрого"
with	description [;
			switch(time_shadow.current_time){
			default:
				"Кажется, он устроился как дома. В комнате стоит запах пота и животных;
				царапины украшают кровать, и ведут к двери на юго-западе.";

		}
		],
		before [;
			Smell:
				if (noun == nothing or brother_bed)
					"Пот и животные. Мокрая псина, или что-то похожее.";
		],
		sw_to dormitory,
		s_to dormitory,
		out_to [;
			<<Go sw_obj>>;
		],
has		;

Room	lucca_room "Келья Луки"
with	description "Маленькая келья, такая же, как и остальные. Кровать стоит у
стены, противоположной двери на северо-востоке.",
		ne_to dormitory,
		n_to dormitory,
		out_to [;
			<<Go ne_obj>>;
		],
has		;

Object	brother_bed "кроват/ь"
with	name 'кроват' 'матрац' 'матрас' 'ножк' 'царапин',
		description [;
			switch(location){
			drogo_room:
				"Ножки исполосованы царапинами. Некоторые от ногтей, некоторые
				от металла.";
			default:
			"Простой матрас на четырёх деревянных ножках, такой же, как
			и у остальных.";

			}
		],
		before [;
			LookUnder:
				"Плесень расползлась в темноте, но больше ты ничего не находишь.";
			Enter:
				"Тебе это не нужно.";
		],
		found_in constantin_room matteo_room ignatius_room drogo_room lucca_room,
has		scenery female;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Outside Calefactory
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	outside_calefactory "Перед отопительной"
class	Outside_Room,
with
		initial [;
			if (pass has visited)
				move blood_writing to calefactory;
		],
description "Возможно, это единственное место в монастыре с комфортной температурой.
Жара вырывается из отопительной с юго-востока, смешиваясь с морозом из галереи с
северо-запада. Нет, не так. Они не смешиваются - они только разжигают ярость
друг друга.",
		nw_to cloister,
		se_to calefactory_door,
		out_to [;
			<<Go nw_obj>>;
		],
		in_to [;
			<<Go se_obj>>;
		],
has		;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Calefactory
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	calefactory "Отопительная"
with	description "Расположенная прямо между дортуаром и твоей комнатой, отопительная
обогревает всех, хотя в последнее время её температура ниже нормальной.
В самой отопительной удушающе жарко, но жара остаётся взаперти. На твоём лбу появляются
капли пота, а тело бросает в жар. Немного снега из галереи тает на северо-западе.",
		nw_to outside_calefactory,
		out_to [;
			<<Go nw_obj>>;
		],
has		;

Object	blood_writing "надпис/ь"
with	name 'надпис' 'слова' 'кров' 'каракули' 'красные',
		initial [;

			if (self.examined == false)
			"Красные каракули опоясывают стены комнаты.";
			else
			"Кровавые слова опоясывают стены комнаты.";
		],
		description [;
			QuoteFrom(lucca_blood_quote);
			print "Здесь написано:";
			style underline;
			print "^^Прости, Господи. Пожалуйста, помилуй меня. Зло моих братьев
			и отца оскорбляет тебя. Прости их. Пожалуйста.
			^^Здесь кто-то есть.^";
			style roman;
			"^Это всё.";
		],
		after [;
			Examine:
				if (self.examined == true)
					return false;

				else
					self.examined = true;
					move ignatius3 to calefactory;
					StartDaemon(ignatius3);
		],

		examined false,

has		static female;

Ignatius ignatius3 "Игнат/"
with	initial [;
			"Игнат касается стены. Его рука скользит вдоль камня.";
		],
		description "Игнат стоит в мокрой от пота рясе, беспокойно глядя на тебя.
		Он голоден. Он стоит слишком близко.",
		before [;
			Attack,Kill:
				deadflag = true;
				"Ты двигаешься, но гораздо медленнее его. Или, возможно, он гораздо
				больше практиковался. Нож выскальзывает из под его рясы, и проходит
				поперёк твоего горла.
				^^Теперь здесь столько чернил для новых надписей на стенах.";

			Smell:
				"Пот и плесень. И смерть.";
		],
		react_before [;
			Go,Enter:
				if (noun == out_obj or nw_obj or calefactory_door && ignatius3 in
				calefactory)
					StopDaemon(ignatius3);
					remove ignatius3;
					print "@<<Да, я тоже должен идти, - медленно говорит Игнат. -
					Увидимся позже, отец@>>.";
					return false;
		],
		daemon [;
			switch(++(self.calefactory_talking)) {
			1:
				"^Шлёпающие шаги слышатся позади. @<<Любопытно, не правда ли?@>> - Это
				Игнат.
				^^Он протискивается мимо тебя, оставляя кровавый след своей рукой.
				@<<Лука, должно быть, был болен сильнее, чем мы думали, - он замокает. -
				Чума делает монстрами всех нас@>>.";
			2:
				"^Игнат прохаживается по комнате, но никогда не удаляется от двери.";
			3:
				"^Игнат рассматривает тебя немигающим взглядом.";

			}
		],
		calefactory_talking 0,
has		;

Simple_Door	calefactory_door "двер/ь отопительной"
with	name 'двер' 'петл',
		description [;
			if (location == outside_calefactory && self has open)
                            "Порывы горячего воздуха, проходящие через дверь, прогоняют озноб с твоих
                            костей.";
			if (location == outside_calefactory && self hasnt open)
                            "Жара исходит от дверей.";
			if (location == calefactory && self has open)
                            "Ледяной воздух от двери разбавляет жару в комнате.";
			if (location == calefactory && self hasnt open)
                            "Когда дверь закрыта, жара проникает глубоко в твои кости.";
		],
		before [;
			Open,Unlock:
				if (calefactory_lock notin self)
					return false;
				else
					"Константин повесил на дверь замок. Он очень крепкий.";
		],

		side1_to calefactory,
		side1_dir se_to,
		side2_to outside_calefactory,
		side2_dir nw_to,
!		door_dir [;
!			if (location == outside_calefactory)
!				return se_to;
!			else
!				return nw_to;
!		],
!		door_to [;
!			if (location == outside_calefactory)
!				return calefactory;
!			else
!				return outside_calefactory;
!		],
		found_in calefactory outside_calefactory,
has		container transparent female;

Object	calefactory_lock "зам/о/к/"
with	name 'замок' 'замк' 'скважин' ,
		casegen [ beg end csID;
			return ICVowel (csID, beg, end, 'о', 0);
		],
		initial "Блестящий стальной замок висит на двери отопительной.",
		description "Новый фасонный замок блестит в лунном свете.",
		before [;
			Attack,Kill:
				"Он слишком прочный.";
		],
		react_before [;
			Go:
				if (noun == se_obj)
					"Константин повесил на дверь замок. Он очень крепкий.";
		],
has		locked lockable static male;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!PATH
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	path "Дорога"
class	Outside_Room,
with	description [;
			switch(time_shadow.current_time) {
				3:
					"Солнечный свет не согревает тебя, вместо этого он с яростью
					жжёт твои глаза: ничего общего с холодной темнотой внутри монастыря,
					оставшегося на севере. Так светло, что ты едва можешь видеть конюшню на востоке:
					она кажется просто тёмным прямоугольником в белом поле. Лазарет находится 
					на западе. Вереница следов тянется на юг, к воротам.";
				6,7:
					"Темнота начинает сгущаться в небе на западе, над лазаретом.
					Последние лучи света освещают конюшню на востоке и ворота на юге.
					Монастырь располагается на севере, его стены обещают защиту.";
				default:
					"Свет стал мягче. Нет, не мягче: слабее. Облака закрывают солнце,
					позволяя разглядеть конюшню на востоке, среди белого поля.
					Лазарет находится на западе, а ворота - на юге. Монастырь даёт
					лживые обещания тепла на севере.";
			}
		],
		each_turn [;
			if (clearing hasnt visited && time_shadow.current_time >= 5)
					"^Слабый, приглушённый звук доносится с востока.";
		],
		before [;
			Listen:
				if (noun == nothing && lamb in clearing)
					"Пронзительное блеянье эхом отдаётся в горах.";
		],
		n_to archway,
		e_to stables,
		s_to gate,
		w_to outside_infirmary,
		in_to [;
			<<Go n_obj>>;
		],
has		;

Object	dove "голуб/ь"
with	name 'голуб' 'птиц',
		initial [;
			if (self.gone == false) {
			give self ~concealed;
			self.gone = true;
                        "Одинокий белый голубь улетает к утреннему солнцу.";
			}
			else
			give self concealed;
			return true;

		],
		before [;
			default:
				QuoteFrom(psalms55_6);
                        "Голубь улетел.";
		],
		gone false,
has	male;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!OUTSIDE INFIRMARY
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	outside_infirmary "Перед лазаретом"
class	Outside_Room,
with
		initial [;
			move infirmary_cemetery to all_hints;
		],
description "Лазарет стоит в отдалении от центра монастыря. В этом оказалось немного
пользы - чума всё равно нашла, как просочиться вовнутрь. Шаткая дверь ведёт в лазарет,
а протоптанная дорожка - к кладбищу на северо-западе и на восток, обратно к дороге.",
		in_to infirmary,
		e_to path,
		nw_to cemetery,
has		;

Simple_Door infirmary_door "двер/ь в лазарет"
with	name 'деревянн' 'двер' 'петл' 'лазарет',
		side1_to infirmary,
		side1_dir in_to,
		side2_to outside_infirmary,
		side2_dir out_to,
		found_in infirmary outside_infirmary,
has	female;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!INFIRMARY
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	infirmary "Лазарет"
with	description "Пахнет плохо, хотя не так ужасно, как ты ожидал: Константин, видимо,
умеет обращаться с мёртвыми. Пустые, испачканные рвотой кровати стоят в беспорядке по
комнате. Горшки переполнены отходами: чума выбрала подходящее место.
Воздух тяжёлый, болезненный.",
		before [;
			Smell,Search:
				if (noun == nothing or infirmary_beds or infirmary_marks or buckets)
				"Кровь, рвота и фекалии: Троица для чумы.";
		],
		out_to outside_infirmary,
has		;

Object	infirmary_beds "кроват/и"
with	name 'кроват' 'постел' 'койк',
		description "Кровати беспорядочно расставлены по комнате. Их здесь больше, чем
		обычно. Когда большинство братьев перетащили сюда свои 
		кровати из дортуара, здесь стало более людно, чем в нём. Следы рвоты обрисовывают
		гротескные очертания человеческих тел.
		^^Среди некоторых пятен рвоты, ты замечаешь странные, коричнево-красные следы.",
		before [;
			LookUnder:
				"Плесень разрастается в темноте, ты не видишь ничего, кроме неё.";
		],
		found_in infirmary,
has		scenery supporter enterable pluralname;

Object	infirmary_marks "след/ы"
with	name 'след' 'отпечат' 'отпечатк' 'красны' 'коричневы' 'кровь' 'пятн' 'очертания',
		description "Присмотревшись, ты различаешь следы засохшей крови.",
		found_in infirmary,
has		scenery pluralname;

Object	buckets "вёдр/а"
with	name 'ведр' 'отброс' 'рвот',
		description "Рвота и экскременты переполнили вёдра и растеклись по полу.
		Запах невообразимый.",
		before [;
			Take:
				"Нет, они отвратительны.";
		],
		found_in infirmary,
has		scenery container open pluralname;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!CEMETERY
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	cemetery "Кладбище"
class	Outside_Room,
with	description "Ветер мечется среди могильных камней, насвистывая неприятную
мелодию. Воздух свежий и чистый, не чувствуется ни намёка на запах трупов. В стороне
от привычного кладбища, ряд за рядом стоят грубые кресты: жертвы чумы. Тропинка вьётся
назад, на юго-восток, к лазарету.",
		before [;
			Smell:
				if (noun == nothing or tombstones or crosses)
					"Ничего, кроме свежего запаха ветра.";
			Dig:

				if (noun == snow or crosses or nothing or tombstones && self.dug ==
				false) {
					self.dug = true;
					"Ты раскапываешь снег своими руками, не обращая внимание на то, что
					пальцы коченеют от холода. В итоге, ты натыкаешься на землю.
					Расчистив небольшой участок, ты обращаешь внимание на то, что земля
					нетронута. Ты переходишь к другой могиле. То же самое. Ничто не
					касалось этой земли довольно долгое время.";
				}
				if (noun == snow or crosses or nothing && self.dug == true)
					"Здесь нечего искать.";
		],
		se_to outside_infirmary,
		dug false,
has		;

Object	tombstones "могильн/ые плит/ы"
with	name 'камень' 'камни' 'плита' 'плит',
		description "Надписи давно стёрлись с камней. Дюжины безымянных душ лежат
		под ними.",
		found_in cemetery,
has		scenery pluralname;

Object	crosses "крест/ы"
with	name 'крест' 'могил' 'царапин',
		description "Каждый крест - просто две связанные между собой ветки. На каждом
		из них едва различимые царапины: имена братьев, лежащих под ними. Константин
		неразборчиво нацарапал их трясущимися руками.",
		found_in cemetery,
has		scenery pluralname;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!STABLES
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	stables "Конюшня"
class	Outside_Room,
with
		initial [;
			move riding_horse to all_hints;
		],
		description [;
			if (player in stalls)
                                    "Запах здесь ещё хуже. Снег завалил крышу, из-за чего она проседает
                                    посередине. Летом на ней хранят сено, но теперь на ней лежит
                                    только снег.";

			if (self hasnt visited)
                                    "В тени конюшни ты можешь видеть более отчётливо. Полдюжины пустых
                                    стойл напоминают о чуме: лошади умерли от голода после того, как
                                    исчезли те, кто о них заботился. Запах проникает в твои ноздри,
                                    хоть они и окоченели. Отсюда можно уйти на дорогу, на запад, или
                                    в сад, на северо-восток. Небольшая лестница ведёт вверх, на крышу
                                    конюшни.";
			else
                                    "Полдюжины пустых стойл напоминают о чуме: после того, как умер пастух,
                                    за ним последовало и стадо. Запах проникает в твои ноздри,
                                    хоть они и окоченели. Отсюда можно уйти на дорогу, на запад, или
                                    в сад на северо-восток. Небольшая лестница ведёт вверх, на крышу
                                    конюшни.";
		],
		before [;
			Jump:
				if (player in stalls && wolves in location) {
					deadflag = true;
                                    "Ты прыгаешь в море пенящихся пастей и волнистых спин. Оно
                                    проглатывает тебя целиком.";
				}
				if (player in stalls)
                                    print "Твои кости трещат, когда ты влетаешь в снег. К счастью,
                                    он смягчает твоё падение, спасая тебя от переломов, но не от боли.^";
					PlayerTo(stables);

			Listen:
				if (noun == nothing && lamb in clearing)
                                    "Пронзительное блеянье эхом отдаётся в горах.";
			Drop,Give,ThrowAt:
				if (noun ~= hare or lamb)
					return false;
				if (wolves notin location)
					return false;
				if (noun == hare && wolves in location && lamb in player) {
					remove lamb;
					remove hare;
					StartTimer(time_shadow, 5);
					remove wolves;
					wolves.chasing = 0;
                                    "Ты бросаешь зайчатину в кусты терновника, в которых она запутывается,
                                    не долетая до земли. Волки разрываются между тобой и ей, в итоге
                                    делая выбор в её пользу. Ты и так доставил им достаточно трудностей.
                                    ^^Опасность минует и ты сбрасываешь ягнёнка. Он мягко падает и весело
                                    отпрыгивает в сторону.";
				}
				if (noun == hare && wolves in location) {
					remove lamb;
					remove hare;
					StartTimer(time_shadow, 5);
					remove wolves;
					wolves.chasing = 0;
                                    "Ты бросаешь зайчатину в кусты терновника, в которых она запутывается,
                                    не долетая до земли. Волки разрываются между тобой и ей, в итоге
                                    делая выбор в её пользу. Ты и так доставил им достаточно трудностей.";
				}
				if (noun == lamb && wolves in location)
					remove lamb;
					StartTimer(time_shadow, 5);
					remove wolves;
					wolves.chasing = 0;
                                    "Ты бросаешь ягнёнка в кусты терновника, которые смягчают его падение.
                                    Оцепенев на мгновение, ягнёнок быстро осознаёт своё новое окружение
                                    и бросается бежать. Волки разрываются между тобой и им, в итоге
                                    делая выбор в его пользу. Ты и так доставил им достаточно трудностей.
                                    ^^Блеянье. Нет, крик слышится вдали.";
			Smell:
				if (noun == nothing)
				<<Smell stalls>>;
		],
		each_turn [;
			if (clearing hasnt visited && time_shadow.current_time >= 5)
                            "^Пронзительное блеянье доносится с северо-востока.";
		],
		cant_go [;
			if (player notin stalls)
                            "Ты можешь идти только на северо-восток, на запад, или вверх.";
			else
                            "Ты можешь идти только на северо-восток, на запад, или вниз.";
		],
		w_to path,
		ne_to garden,
		u_to [;
			if (player notin stalls)
			<<Climb ladder>>;
		],
		d_to [;
			if (player in stalls)
			<<Climb ladder>>;
		],
has		;

Object	ladder "лестниц/а"
with	name 'лестниц',
		description "Просто несколько перекладин между двух досок.",
		react_before [;
			Go:
				if (noun == d_obj && player in stalls)
					<<Climb ladder>>;
		],
		before [;
			Climb:
				if (player in stables) {
                            print "С хрипом, ты затаскиваешь себя вверх по лестнице.^";
				PlayerTo(stalls);
				return true;
				}
				else
                            print "Ты спускаешься по лестнице, крыша с облегчением скрипит, когда
                            ты уходишь.^";
				PlayerTo(stables);
				return true;
		],
		found_in stables,
has		scenery female;


Object	stalls "стойл/а"
with	name 'стойла' 'мертвых' 'лошадей' 'конюшн' 'крыш' 'стойло',
		short_name [;
			if (player in stables) {
				print "конюшня"; return true;
			}
			else
				print "крыша"; return true;
		],
		description [;
			if (player in stalls)
				"Прогнившая крыша засыпана толстым слоем снега.";
			if (player in stables) {
			switch(time_shadow.current_time) {
				3:
					if (self.horse_seen == false) {
					self.horse_seen = true;
					give horse_stall ~concealed;
					give horse ~concealed;
						"Нет, ты ошибался. Не все лошади умерли от голода. Некоторые
						пытались бежать. Ворота побиты и оцарапаны, но ни одна лошадь не
						оказалась сильной настолько, чтобы сломать их. Их копыта ободраны,
						головы мягкие, в кровоподтёках.
						^^Постой. Одна из них шевелится. Она тощая и израненная, но живая.";
					}
					else
						"Не все лошади умерли от голода. Некоторые
						пытались бежать. Ворота побиты и оцарапаны, но ни одна лошадь не
						оказалась сильной настолько, чтобы сломать их. Их копыта ободраны,
						головы мягкие, в кровоподтёках.";
				default:
						"Не все лошади умерли от голода. Некоторые
						пытались бежать. Ворота побиты и оцарапаны, но ни одна лошадь не
						оказалась сильной настолько, чтобы сломать их. Их копыта ободраны,
						головы мягкие, в кровоподтёках.";
			}
			}
		],
		react_before [;
			Examine:
				return false;
			default:
				if (player in stalls && (noun == horse || second == horse))
						"Тебе лучше сначала спуститься с крыши.";
		],
		before [;
			Feed:
				"Насколько тебе известно, лошади мертвы.";
			Smell:
				"Панический пот - это особый вид пота. Обезумевшие лошади источают его
				запах. Холод предотвращает их разложение, но даже сейчас оно чувствуется
				в воздухе.";
			Search:
				<<Examine self>>;
			Open:
				<<Open horse_stall>>;
			Close:
				<<Close horse_stall>>;
			Enter:

				if (horse_stall hasnt open)
					"Ворота в стойла закрыты.";
				else

				"Там негде ступить от мёртвых лошадей.";
			Climb,GetOff:
				<<Climb ladder>>;
		],
		found_in stables,
		horse_seen false,
has		scenery pluralname supporter;


Object	horse_stall "ворота"
with	name 'ворот' 'двер',
				description "Стойла не повреждены. Ладно, повреждены не больше, чем
				что-либо ещё в монастыре.",
		before [;
			Enter:
				"Там негде ступить от мёртвых лошадей.";
			Climb,GetOff:
				<<Climb ladder>>;
		],
		after [;
			Open:
				if (horse.fed == false) {
					deadflag = true;
						"Лошадь, с проворностью умирающей от голода, бросается к сену
						прежде чем ты отпираешь ворота. Она опрокидывает тебя на землю
						своей головой, но это ещё не самое худшее.
						^^Вслед за этим её копыто становится на твою шею.";
				}
				if (francis.stable_prayed == true || cecilia.stable_prayed == true)
				{
					horse.released = true;
						"Освобождённая из стойла, лошадь подходит и беспомощно тыкается
						в тебя носом.";
				}
				if (horse.beaten == true) {
					horse.released = true;
						"Прихрамывая, лошадь покорно подходит к тебе с опущенной головой.";
				}
				if (francis.stable_prayed == false && cecilia.stable_prayed == false) {
!					horse.released = true;
						"Лошадь смотрит на тебя из открытого стойла, но не пытается выйти.";
				}
		],
has		scenery openable concealed pluralname;

Object	horse "лошад/ь"
with	name 'лошад' 'кобыл',
		description [;
			if (self.fed == false)
				"Лошадь таращится на кипу сена дикими глазами, и скребёт землю
				копытами.";
			if (self.fed == true && self.beaten == true)
				"Лошадь стоит с опущенной головой.";
			if (self.fed == true && (francis.stable_prayed == false && cecilia.
			stable_prayed == false))
				"Её голод утолён, она смотрит хитрыми глазами.";
			if (self.fed == true && (francis.stable_prayed == true || cecilia.
			stable_prayed == true));
				"Лошадь тычется в тебя мордой с бессмысленным взглядом.";
		],
		initial [;
			if (self.fed == false)
				"Лошадь таращится на кипу сена дикими глазами, и скребёт землю
				копытами.";
			if (self.fed == true && self.beaten == true)
				"Лошадь стоит с опущенной головой.";
			if (self.fed == true && (francis.stable_prayed == false && cecilia.
			stable_prayed == false))
				"Её голод утолён, она смотрит хитрыми глазами.";
			if (player in stalls)
				"Лошадь смотрит на тебя вопросительно.";
			if (self.fed == true && (francis.stable_prayed == true ||
			cecilia.stable_prayed == true));
				"Лошадь тычется в тебя мордой с бессмысленным взглядом.";
		],
		before [;
			Take,Push,Pull:
				if (francis.stable_prayed == false && cecilia.stable_prayed ==
				false && self.beaten == false)
					"Она дикая; её нужно приручить.";
				else
					"Просто иди, она последует за тобой.";
			TalkTo:
				if (francis.stable_prayed == false && cecilia.stable_prayed ==
				false)
					"Она трясёт головой и тяжело дышит на тебя.";
				else
					QuoteFrom(psalms33_17);
					"Она игриво ржёт.";
			Examine:
				if (stalls.horse_seen == false)
					<<Examine stalls>>;
				else
					return false;
			Smell:
				"Она воняет потом и болезнью.";
			Feed:
				if (hay notin location or player)
					"Тебе нечем покормить её.";
				else
					self.fed = true;
					stalls.horse_seen = true;
					remove hay;
						"Она начинает поспешно жевать сено. За несколько мгновений вся
						кипа исчезает.";
			Pet,Touch,Rub:
				if (francis.stable_prayed == true || cecilia.stable_prayed == true)
					"Лошадь тычется в тебя мордой с бессмысленным взглядом.";
				else
					"Лошадь трясёт головой, когда ты касаешься её.";
			Attack,Kill,Push,Pull:
				if (location == stables && self.beaten == false) {
					sin_shadow.middle = true;
					self.beaten = true;
						print "Ты поднимаешь руку и ударяешь лошадь по морде. Она вздрагивает,
						но остаётся дерзкой. Не желая уступать тупому мулу, ты сжимаешь
						руку в кулак, и несколько раз обрушиваешь его на лошадь. Спустя
						несколько минут она ломается и становится покорной.";

					if (horse_stall has open) {
						horse.released = true;
						print "^^Прихрамывая, лошадь покорно подходит к тебе с опущенной головой.";
					}
					rtrue;

				}
				if (location == pass) {
					sin_shadow.middle = true;
					remove horse;
					move dead_horse to pass;
						"Медленно, стараясь не привлекать её внимания, ты нагибаешься
						и подбираешь самый крупный из лежащих камней. Затем со всей силой,
						которую можешь собрать, ты обрушиваешь камень ей на голову.
						Она непонимающе таращится на тебя, прежде чем свалиться на землю.";
				}
				else
					"Это не требуется.";
			Enter, Climb:
				if (location == pass){
					deadflag = true;
						"Не желая искать источник шума, ты разворачиваешь лошадь, и
						подгоняешь её к монастырю.
						^^Шум продолжает нарастать. Ты смотришь вверх, и видишь как край
						горы съезжает вниз массивной лавиной. Ты пришпориваешь лошадь, но
						она недостаточного быстрая.
						^^Рёв снега не самый последний звук, который ты слышишь. Кто знал,
						что лошади могут кричать?";
				}
				if (location == river){
					move horse to pass;
						print "Здесь больше нечего делать, и ты, вскарабкавшись обратно
						на лошадь, разворачиваешь её обратно к монастырю.
						^^Когда монастырь показывается в поле зрения, эхо раскатывается по
						холмам. Резкий, чистый звук. Камень об камень.^";
					PlayerTo(pass);
					return true;
				}
				if (location == gate) {
					move lucca_dead to river;
					statusbar_right = "Первый час";
					time_shadow.current_time = 4;
						print "Взобравшись на лошадь, ты хлопаешь её пятками по бокам.
						Она ржёт, но трогается с места и спокойно везёт тебя на юг.
						^^Спустя несколько часов ты подъезжаешь к маленькой бухте. По
						крайней мере это место использовали как бухту. За несколько часов
						под солнечным светом снег растаял настолько, что здесь образовался
						бурлящий поток.^";
					PlayerTo(river);
					return true;
				}
				if (self.released == false && horse_stall hasnt open)
					"Ты не можешь, она заперта в своём стойле.";
				if ((francis.stable_prayed == false && cecilia.stable_prayed ==
				false) && self.beaten == false) {
					deadflag = true;
						"В тот момент, когда ты касаешься её, она дичает. Шквал копыт -
						последнее что ты видишь, прежде чем тебя сбивают на землю и
						растаптывают.
						^^Когда тебя находят, от тебя остаётся только кровавое пятно на снегу.";
				}
				if (location == stables)
					"Стойла не очень подходят для езды. Возможно, вам следует найти
					более подходящее место.";
				if (location ~= gate)
					"Возможно, вам следует найти более подходящее место для езды.";
			Drop:
				<<Open horse_stall>>;
		],
		life [;
			TalkTo,Ask,Tell,Answer:
				if (francis.stable_prayed == false && cecilia.stable_prayed ==
				false)
					"Она мотает головой и горячо дышит на тебя.";
				else
					QuoteFrom(psalms33_17);
					"Она игриво ржёт.";
			Give:
				if (noun == hay) {
					self.fed = true;
					remove hay;
						"Она начинает поспешно жевать сено. За несколько мгновений вся
						кипа исчезает.";
				}
				else
					return false;
		],
		fed false,
		released false,
		following false,
		beaten false,
has		animate female enterable concealed;



Object	hay "сен/о"
with	name 'сен' 'кип' 'сноп' 'трав',
            initial "Кипа сена лежит чуть дальше, чем может дотянуться лошадь из стойла.",
            description "Оно сырое и заплесневелое, но не похоже, что оно сгнило.",
		before [;
			Eat:
				"Ты не настолько голоден.";
			Attack:
				<<Sleep>>;
		],

has	neuter	;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Garden
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	garden "Сад"
class	Outside_Room,
with	description [;
			switch(time_shadow.current_time) {
			3:
				"В этих садах выращивали большую часть пищи для всего монастыря. Теперь только
				несколько чёрных стеблей торчат из под снега, они всегда росли ровными рядами.
				Заросли здесь сгущаются: скрученные ветви терновника перекрывают все направления,
				кроме юго-западного, ведущего обратно к стойлам.";
			default:
				"В этих садах выращивали большую часть пищи для всего монастыря. Теперь только
				несколько чёрных стеблей торчат из под снега, они всегда росли ровными рядами.
				Заросли здесь сгущаются: скрученный терновник разросся по всему саду. Конюшня
				находится позади, на юго-западе.";
			}
		],
		sw_to stables,
		n_to [;
			if (time_shadow.current_time == 3)
					"Терновник удерживает тебя и царапает шипами, в наказание за
					то, что ты побеспокоил его.";
			else
			return clearing;
		],
		cant_go [;
					"Терновник удерживает тебя и царапает шипами, в наказание за
					то, что ты побеспокоил его.";
		],
		each_turn [;
			if (clearing hasnt visited && time_shadow.current_time >= 5)
				"^Сдавленное блеянье доносится сквозь дыру в терновнике.";
		],
		before [;
			Listen:
				if (clearing hasnt visited && time_shadow.current_time >= 5)
					"Испуганное блеянье. Со временем оно становится слабее.";
		],
has		;

Object	stalks "мёртв/ые растени/я"
with	name 'стеб' 'ряд' 'растени' 'сад' 'перегно',
                description "Когда-то это была еда. Теперь это просто перегной.",
		before [;
			Take:
                            "Чёрный стебель крошится в твоей руке.";
		],
		found_in garden,
has		scenery pluralname;

Object	briars "терновник/"
with	name 'скрученн' 'терновник' 'дыр' 'куст' 'кусты',
		describe [;
			if (time_shadow.current_time == 3)
				return true;
			if (location == garden)
                            "^Дыра была прорезана в терновнике на севере.";
			else
                            "^Дыра в терновнике ведёт на юг.";
		],
		description [;
			switch(time_shadow.current_time) {
			3:
			if (drogo4 in garden)
                        "Кусты терновника соревнуются сами с собой в неистовой гонке по захвату
                        сада. Они все побеждают: сад зарос.
                        ^^Стремительная жёлтая вспышка в зарослях. Глаза.";
			else
                        "Кусты терновника соревнуются сами с собой в неистовой гонке по захвату
                        сада. Они все побеждают: сад зарос.";
			default:
			if (location == garden)
                        "Дыра, размером с человека, прорубившего терновник на север.";
			else
                        "Дыра ведёт назад на юг.";
		}
		],
		before [;
			Search:
				if (time_shadow.current_time == 3)
                                    "Фигуры быстро двигаются в темноте. Большие фигуры.
                                    Быстрые фигуры.";
				else
                                    "Ничего кроме шипов и ветвей.";
			Take,Touch:
                                "Ай! Гниение не затупило шипов.";
			Enter:
				if (time_shadow.current_time == 3)
                                "Ай! Гниение не затупило шипов.";

				if (location == garden)
					<<Go n_obj>>;
				else
					<<Go s_obj>>;

		],
		found_in garden clearing,
has		static male;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!CLEARING
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	clearing "Поляна"
class	Outside_Room
with	initial [;
			if (self has visited)
                            "Пригнув голову, проходя сквозь кустарник, ты попадаешь на поляну.";
			else
				move drogo_wolves to all_hints;
				StartDaemon(wolves);
                            "Пригнув голову, проходя сквозь кустарник, ты попадаешь на поляну.";
		],
                description "Небольшой, покрытый снегом участок, окружённый терновником.
                Он был частью сада, но теперь природа вернула его себе. Колокольня возвышается
                над кустами: небольшое напоминание о цивилизации среди дикой природы.",
		s_to garden,
		out_to [;
			<<Go s_obj>>;
		],
has		;

Object	wolves "волк/и"
with	name 'волк' 'собак' 'вожак' 'волков',
		initial [;
			if (player in stalls)
                            "Волки рыскают вокруг конюшни, время от времени сильно ударяя
                            в стены.";
			if (location == garden)
                            "Волки появляются с севера.";
			if (location == stables)
                            "Волки всё ближе. Вожак кусает тебя за пятки, пытаясь свалить на землю.";

		],
		description [;
                            "Волки чахлые и облезлые. Шерсть свисает с них жидкими серыми пучками:
                            гнездовьями блох и болезни.";
		],
		daemon [;
			switch(++(self.chasing)) {
				1:
					give lamb ~concealed;
					QuoteFrom(matthew10_16);
                                    "^Войдя на поляну, ты видишь кто блеял. Ягнёнок, не старше пары
                                    недель, привязанный к ветке, неистово вырывается. Он в ужасе кричит,
                                    когда свора волков появляется из кустов. Они голодные и озадаченные.
                                    Пойдут ли они к маленькому и лёгкому мясу, или к большему, но более
                                    трудному?
                                    ^^Крик с колокольни привлекает твоё внимание. @<<Яхху, отец! -
                                    ты видишь радостно машущего Дрого. - Ты не должен был приходить,
                                    это время кормления, - он пожимает плечами. - Ну ладно, в любом
                                    случае они будут накормлены@>>. После этого он исчезает на лестнице.";
				2:
					if (lamb.tied == true)
                                    "^Вожак вертит головой вперёд-назад, выбирая между тобой и ягнёнком.
                                    Остальные повторяют в унисон.";
                                    else
                                    "^Волки смотрят на тебя с ягнёнком голодными глазами, издавая
                                    низкий голодный рёв.";
				3:
					if (lamb.tied == true)
                                    "^Они сделали свой выбор: ты. Низкий рёв исходит отовсюду, откуда
                                    они появляются.";
					else
                                    "^Волки начинают окружать, отрезая путь к отступлению.";
				4:
					deadflag = true;
                                    "^Вожак атакует первым. Он кусает твою ногу, но он настолько слаб,
                                    что ты едва почувствовал бы это, не будь сам таким ослабевшим.
                                    Второй укус, за икру второй ноги, валит тебя навзничь. Ты пытаешься
                                    подняться, но оставшаяся стая напрыгивает на тебя, задушивая ковром
                                    из шерсти и зубов.";
			}
		],
		life [;
			Give:
				if (noun ~= hare or lamb)
					return false;
				if (noun == hare) {
					deadflag = true;
                                        "Ты бросаешь зайчатину волкам, надеясь отвлечь их внимание.
                                        Не получается. Один моментально накидывается на зайчатину,
                                        но остальные впивают свои глаза и зубы в тебя.";
				}

				if (noun == lamb)
					deadflag = true;
                                        "Ты бросаешь ягнёнка волкам, надеясь отвлечь их внимание.
                                        Не получается. Один моментально накидывается на ягнёнка,
                                        но остальные впивают свои глаза и зубы в тебя.
                                        ^^Твоё собственное блеянье вторит ягнёнку.";
			ThrowAt:
				if (noun ~= hare or lamb)
					return false;
				if (noun == hare) {
					deadflag = true;
                                        "Ты бросаешь зайчатину волкам, надеясь отвлечь их внимание.
                                        Не получается. Один моментально накидывается на зайчатину,
                                        но остальные впивают свои глаза и зубы в тебя.";
				}
				if (noun == lamb)
					deadflag = true;
                                        "Ты бросаешь ягнёнка волкам, надеясь отвлечь их внимание.
                                        Не получается. Один моментально накидывается на ягнёнка,
                                        но остальные впивают свои глаза и зубы в тебя.
                                        ^^Твоё собственное блеянье вторит ягнёнку.";
		],
		before [;
			Attack,Kill:
				deadflag = true;
                                "Ты нападаешь на волков, пиная одного из них в морду. Скуля, он
                                отскакивает, но остальные нет. Они набрасываются и разрывают твою
                                плоть. Когда они заканчивают, от тебя остаются одни кости.";
		],
		react_before [;

			Climb:
				if (noun == ladder) {
				if (player in stalls) {
					deadflag = true;
                                        "В тот момент, когда ты начинаешь спускаться по лестнице, один
                                        из волков подпрыгивает, пытаясь вцепиться в твою лодыжку.
                                        Он едва цепляет твою рясу, но этого оказывается достаточно,
                                        чтобы лишить тебя равновесия. Ты падаешь в бурлящее море
                                        зубов и меха.
                                        ^^Оно проглатывает тебя целиком, как и любое море.";
				}
				if (location ~= stables)
					return false;
				else
					self.in_stables = true;
                                    print "Отчаянно проталкиваясь, ты бросаешься на лестницу.
                                    Вожак хватает твою ступню, но ты трясёшь ей так энергично,
                                    что он опрокидывается в сугроб. Вскоре волки перегруппируются и
                                    обходят вокруг конюшни, поглядывая на тебя голодными глазами.^";
					PlayerTo(stalls);
					return true;
				}
			Go:
				if (location == garden && noun == n_obj) {
				deadflag = true;
                                "Ты бежишь прямо в ждущие пасти волков.
                                ^^Вожак атакует первым. Он кусает твою ногу, но он настолько слаб,
                                    что ты едва почувствовал бы это, не будь сам таким ослабевшим.
                                    Второй укус, за икру второй ноги, валит тебя навзничь. Ты пытаешься
                                    подняться, но оставшаяся стая напрыгивает на тебя, задушивая ковром
                                    из шерсти и зубов.";
				}
				if (location == stables && noun == ne_obj) {
				deadflag = true;
                                "Ты бежишь прямо в ждущие пасти волков.
                                ^^Вожак атакует первым. Он кусает твою ногу, но он настолько слаб,
                                    что ты едва почувствовал бы это, не будь сам таким ослабевшим.
                                    Второй укус, за икру второй ноги, валит тебя навзничь. Ты пытаешься
                                    подняться, но оставшаяся стая напрыгивает на тебя, задушивая ковром
                                    из шерсти и зубов.";
				}
				if (noun == s_obj && wolves notin garden) {
				give self ~concealed;
				move wolves to garden;
				StopDaemon(self);
                                print "Погоня начинается. Волки продираются сквозь кустарник
                                вслед за тобой.^";
				return false;
				}
				if (noun == sw_obj && wolves notin stables) {
				move wolves to stables;
                                print "Волки идут через сад вслед за тобой, поднимая в воздух снег
                                своими лапами. Твои ноги устали и появилась одышка.^";
				return false;
				}
				if (noun == w_obj && location == stables) {
				deadflag = true;
                                "Твой возраст и волки нагнали тебя. Спотыкаясь, ты пытаешься
                                сохранить скорость, но это не получается. Вожак вцепляется в
                                твою пятку, стаскивая тебя на землю. Вскоре появляются остальные,
                                задушивая тебя одеялом из шерсти и зубов.";
				}
				else
				return false;

		],
		each_turn [;
			if (location == garden && self.in_garden == false) {
			deadflag = true;
                                    "^Вожак атакует первым. Он кусает твою ногу, но он настолько слаб,
                                    что ты едва почувствовал бы это, не будь сам таким ослабевшим.
                                    Второй укус, за икру другой ноги, валит тебя навзничь. Ты пытаешься
                                    подняться, но оставшаяся стая напрыгивает на тебя, задушивая ковром
                                    из шерсти и зубов.";
					}
			if (location == stables && self.in_stables == false) {
			deadflag = true;
                                    "^Вожак атакует первым. Он кусает твою ногу, но он настолько слаб,
                                    что ты едва почувствовал бы это, не будь сам таким ослабевшим.
                                    Второй укус, за икру другой ноги, валит тебя навзничь. Ты пытаешься
                                    подняться, но оставшаяся стая напрыгивает на тебя, задушивая ковром
                                    из шерсти и зубов.";
			}
		],
		in_garden false,
		in_stables false,
		chasing 0,
has		pluralname animate concealed;

Object	lamb "ягнён/о/к/"
with	name 'ягнен' 'ягненк' 'овц' 'ветк',

		casegen [ beg end csID;
		return ICVowel (csID, beg, end, 'о', 0);
		],

                initial "Ягнёнок борется с веткой.",
		description [;
			if (self.tied == true)
                        "Ягнёнок оттягивает ветку, но он слишком слаб, чтобы освободиться
                        самостоятельно.";
			else
                        "Ягнёнок трясётся от холода и страха, вырываясь из твоих рук.";
		],

		before [;
			Take:
				if (wolves in clearing) {

				if (self.tied == false)
				return false;
				else
				move lamb to player;
				self.tied = false;
                                "Стремительным броском ты отрываешь ягнёнка от ветки и прижимаешь его
                                к груди. Его дрожь передаётся твоим костям.";
				}
				else
				remove lamb;
				"Ты освобождаешь ягнёнка из ловушки. Он бросается бежать через кусты,
				продолжая дрожать от ужаса.";
			Drop:
				if (self.tied == true) {
				if (wolves in location) {
				move lamb to player;
				self.tied = false;
                                "Стремительным броском, ты отрываешь ягнёнка от ветки и прижимаешь его
                                к груди. Его дрожь передаётся твоим костям.";
				}
				else
				remove lamb;
				"Ты освобождаешь ягнёнка из ловушки. Он бросается бежать через кусты,
				продолжая дрожать от ужаса.";
				}
				if (lamb.tied == false) {
					deadflag = true;
                                        "Ты бросаешь ягнёнка волкам, надеясь отвлечь их внимание.
                                        Не получается. Один моментально накидывается на ягнёнка,
                                        но остальные впивают свои глаза и зубы в тебя.
                                        ^^Твоё собственное блеянье вторит ягнёнку.";
				}
				else
				return false;

		],
		tied true,
has		animate concealed male;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!GATE
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	gate "Ворота"
class	Outside_Room,
with	initial [;
			if (self hasnt visited)
				QuoteFrom(nehemiah1_3);
		],
		description [;
			if (self hasnt visited)
                            "Молния ударила в ворота, оставив здесь только тёмные, расколотые камни.
                            Чёрные выжженные отметины проложили свой извилистый путь на булыжниках:
                            каменная крошка - это всё, что можно найти здесь.
                            Снег спёкся в золу. Обычно он был пересечён множеством цепочек следов,
                            но теперь только несколько нарушают чернильную темноту. Снег покрывает
                            обратный путь на север, к монастырю и на юг, к Ровато.";
			else
                            "Расколотые камни и снег - всё, что здесь осталось. На дороге с севера на
                            юг несколько цепочек шагов. Можно разобрать, что они ведут от монастыря
                            к Ровато.";
		],
		before [;
			Dig:
				if (noun == nothing)
					<<Dig gate_bodies>>;
			Smell:
				if (noun == nothing)
                                    "Смерть и огонь.";
		],
		n_to path,
                s_to "Слой снега слишком толстый. Ты не сможешь далеко уйти пешком.",
		out_to [;
			<<Go s_obj>>;
		],
has		;

Object	gate_object "ворот/а"
with	name 'ворот' 'двер' 'булыжник' 'камен' 'камн' 'руин',
                description "Просто обожжённые и расколотые камни. То, что прежде защищал
                Святой Кутберт, не смогло защитить само себя. Как забавно это устроено.",
		before [;
			Search:
                            "Ничего кроме черноты. Опалённый молнией камень.";
			default:
                            "Теперь это только груда камней.";
		],
		found_in gate,
has		scenery pluralname;

Object	footprints "след/ы"
with	name 'след' 'отпечат' 'зола' 'дыр' 'отметин' 'траву',
		description
		"Здесь две цепочки: одна идёт внутрь и наружу, другая только наружу.
		К ним примешиваются странные отпечатки на снегу, выглядят будто кто-то
		использовал две горячие кочерги как ходули, по одной в каждой руке. Они
		оставили в снегу протаявшие дыры, под которыми виднеется выжжённая трава.",
		before [;
			Dig,Push,Pull,Open:
				if (location == gate)
				<<Dig>>;
		],
		found_in gate path,
has		scenery pluralname;

Object	gate_bodies
with
		short_name [;
			if (self.dug == false) {
				print "насыпи";
				return true;
			}
			else
				print "тела";
				return true;
		],
		name 'тел' 'деревенск' 'насып' 'холм' 'труп' 'мертвы' 'женщин' 'лиц',
		initial [;
			if (self.dug == false)
				"Ряды странных насыпей тянутся к югу от места, где раньше были ворота.";
			else
				"Спутанная груда трупов лежит южнее бывших ворот.";
		],
		description [;
			if (self.dug == false)
				"Они бугристые, неровные. Ты не можешь сказать, что находится
				под снегом.";
			else
				"Дюжины трупов лежат у стены: жители Ровато.";
		],

		before [;
			Eat:
				if (self.dug == false)
				"Снег грязный и мерзкий.";
				else
				QuoteFrom(leviticus26_29);
				sin_shadow.evil = true;
				"Плоть твёрдая. Твои зубы скрипят по ней, в конце концов, откусывая
				небольшой кусочек пропитанного чумой мускула. Ты жуёшь. Вкус приятный,
				несмотря ни на что.";
			PrayFor:
				"Это твоя вина. Молитва будет слабым утешением.";
			Search:
				<<Dig self>>;

			Take,Push,Open,Push,Pull:
			if (self.dug == true)
				"Тела смёрзлись друг с другом в одну груду плоти и льда.";
			else
				<<Dig self>>;
			Smell:
				"Болезнь. Холод предотвращает разложение, но запах болезни нелегко
				победить.";
			Dig:
				if (self.dug == false) {
				QuoteFrom(isaiah1_6);
				self.dug = true;
				"Раскапывая снег обмороженными руками, ты внезапно натыкаешься на
				камень.
				^^Нет. Не на камень. Ты раскидываешь остатки снега и обнажаешь
				ледяное, твёрдое как камень лицо молодой женщины. В нём всего два
				цвета: чёрный и белый. Цвета чумы.";
				}
				else
				"Ты и так знаешь, что под этими холмиками.";
		],
		dug false,
		found_in gate,
has		pluralname static;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!RIVER
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	river "Река"
class	Outside_Room,
with
		initial [;
			move at_the_river to all_hints;
		],
                description "Шум оглушает, так как река на юге прорывается через острые камни.
                белые буруны взрываются над камнями, брызгая на и без того мокрую рясу.",
		before [;
			Listen:
				if (noun == nothing)
                                    "Река кричит, проносясь вниз по течению. Это ранит твои уши.";
				else
                                    "Шум воды, больше ничего.";
			Swim:
				deadflag = true;
                        "Ты пытаешься переплыть реку. Сначала всё идёт хорошо, пока огромная глыба
                        льда не врезается тебе в спину. Ты бьешься, пытаясь нащупать что-нибудь,
                        за что можно ухватиться.
                        ^^Ничего нет.";
		],
		n_to [;
			<<Enter horse>>;
		],
		s_to [;
			deadflag = true;
				"Ты пытаешься найти путь среди скал. Сначала всё идёт хорошо, пока огромная глыба
				льда не врезается тебе в спину. Ты бьешься, пытаясь нащупать что-нибудь,
				за что можно ухватиться.
				^^Ничего нет.";
		],
has		;

Object	river_footprints "след/ы"
with	name 'след' 'отпечаток' 'отпечатк' 'снег' 'кровь' 'пятн',
			initial "Следы заканчиваются здесь кровавым пятном на снегу.",
			description "Следы, прежде идущие аккуратной цепочкой, превратились
				в спутанную массу, ведущую в реку. Снег грязный и испачкан кровью.",
		before [;
			Examine:
			return false;
			Take:
			 <<Take snow>>;
			 default:
				"Это просто кровь и снег. С ними нечего делать.";
		],
		found_in river,
has		static pluralname;

Object	water "рек/а"
with	name 'вод' 'рек' 'поток',
		description [;
		if (lucca_dead.on_land == true || lucca_dead notin river)
				"Белая и синяя. Её гнев внушает благоговейный ужас. Река
				прорывается через скалы, а её рёв врывается в твои уши.";
		else
				"Белая и синяя. Её гнев внушает благоговейный ужас. Река
				прорывается через скалы, а её рёв врывается в твои уши.
				^^Ниже по течению лежит мешок с соломой. Нет, не мешок,
				что-то другое.";
		],
		before [;
			Enter:
				<<Go s_obj>>;
		],
		found_in river,
has		scenery female;

Lucca	lucca_dead "Лук/а"
with	short_name [;
			if (self.examined == false) {
				print "предмет"; rtrue;}
			else
				print "Луку"; rtrue;
		],
		name 'предмет' 'мешок' 'мешк' 'солом' 'лук' 'луку' 'тел' 'труп' 'ран' 'рану',
		initial [;
			if (self.on_land == true)
						"Тело Луки лежит на снегу.";
			else
						"Лука смотрит на тебя, его глаза холодны как вода в них.";
		],
		description [;
			if (self.on_land == true)
						"Ты касаешься тела и чувствуешь, как его кости перемалывают плоть
						изнутри. Он мягкий и побитый яростью воды. Но глубокая колотая рана
						на его спине больше похожа на ножевую, чем на что-то природное.
						Ох, Лука.";
			if (self.examined == false)
						"Предмет покачивается на воде: он похож на мешок с копной соломы, торчащей
						сверху. Подойдя немного ближе, ты видишь что это на самом деле.
						^^Лука. Его рот раскрыт. Кровь поднимается изнутри, смешиваясь с наполняющей
						его водой, добавляя немного цвета к белому и
						синему.";
			else
						"Лука смотрит на тебя, его глаза холодны, как вода в них.";
		],
		react_before [;
			Ask,Tell,Answer:
				if (noun == self)
						"Мертвец не расскажет историй.";
		],
		before [;
			Eat:
				QuoteFrom(leviticus26_29);
				sin_shadow.evil = true;
						"Его плоть мягкая. Её побило рекой будто отбивную молотком. Ты погружаешь
						свои зубы в его бок. Кровь прохладная, но она утоляет твою жажду как
						ничто прежде.";
			PrayFor:
						"Бедный Лука. Ветер уносит на небеса твои молитвы.";
			Bury:
						"Земля слишком твёрдая.";
			TalkTo:
				if (self.on_land == false) {
					print "Шум реки заглушает слова.^";
					return true;
				}
				else
					switch((self.dead_talking)++) {
					0:
					QuoteFrom(lucca_dead_quote1);
						"Только рёв реки отвечает тебе.";
					1:
					QuoteFrom(lucca_dead_quote2);
						"Только рёв реки отвечает тебе.";
					2:
					QuoteFrom(lucca_dead_quote3);
						"Только рёв реки отвечает тебе.";
					default:
						"Только рёв реки отвечает тебе.";

					}
			Search:
				if (self.on_land == false) {
					<Examine self>;
						"^Ты должен вытащить его на берег перед тем, как осмотреть.";
				}
				if (lucca_paper has moved)
					<<Examine self>>;

				else
					move lucca_paper to player;
					<Examine self>;
                                    "^Копаясь в его рясе, ты находишь оборванный клочок бумаги.
                                    Она мокрая, но остаётся целой, когда ты её вытаскиваешь.";

			Smell:
                            "Чистота и холод.";
			Examine:
				if (self.examined == false && self.on_land == false) {
					give self proper;
					give self ~concealed;
					!give self ~fem_grammar;
					self.examined = true;
                    "Предмет покачивается на воде: он похож на мешок с копной соломы, торчащей
                            сверху. Подойдя немного ближе, ты видишь что это на самом деле.
                            ^^Лука. Его рот раскрыт. Кровь поднимается изнутри, смешиваясь с
                            водой, которая наполняет его, добавляя немного цвета к белому и
                            синему.";
				}
				else
				return false;

			Take,Pull:
				if (self.on_land == false) {
				give self ~concealed;
				self.on_land = true;
				print "Стараясь не волочить, ты выносишь ", (the) self, " на берег.^";
				return true;
				}
				else
                                "Здесь ты больше не можешь этого сделать.";
			Push:
				remove self;
                                "Отталкивая ногой, ты посылаешь труп в плаванье вниз по течению.";
		],
		examined false,
		dead_talking 0,
		on_land false,
has		concealed male fem_grammar;

Object	lucca_paper "бумаг/а Луки"
with	name 'бумаг' 'бумажк' 'клочок' 'клочк' 'записк',
		description [;
                        print "На ней написано чернилами:";
			style underline;
                        print "^^Я пытался молиться, но мои мысли всё ещё терзают меня. Никто
                        не слышит! Поэтому я напишу. Они всегда говорили, что Бог всё видит,
                        но, может быть, он просто не всё слышит.
                        ^^Я не знаю что делать. Матвей говорит мне, что происходит что-то
                        странное, но не говорит что. Он боится подвергнуть меня 
                        опасности, или просто не принимает меня всерьёз. Я больше не могу с ним говорить.
                        ^^Он уже ни о чём не беспокоится.
                        ^^Он говорит, что не надо никому верить. Я удивлён, но это относится
                        и к нему тоже. У него никогда раньше не было секретов. Он говорит, что особенно
                        не стоит верить отцу, потому что он изменился больше остальных.";
			style roman;
                        print "^^И на обороте, написано кровью:";
			style underline;
                        print "^^Матвей мёртв. И он был прав. Все изменились.^";
		],
has		legible proper female;



Object	river_rocks "камн/и"
with	name 'кам',
		description "Острые и скользкие.",
		before [;
			Enter:
			deadflag = true;
                        "Ты пытаешься найти путь среди скал. Сначала всё идёт хорошо, пока огромная глыба
                        льда не врезается тебе в спину. Ты бьешься, пытаясь нащупать что-нибудь,
                        за что можно ухватиться.
                        ^^Ничего нет.";
		],
		found_in river,
has		scenery pluralname;


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!PASS
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Room	pass "Горный Проход"
class	Outside_Room,
with	initial [;
			StartDaemon(self);
		],
		description [;
			switch(self.avalanche) {
			0,1,2,3:
 				"Тишина. Ветер почти утих. Крутые белые холмы возвышаются по
				обе стороны прохода. Монастырь виднеется вдали на севере.";
			4,5,6:
 				"Ветер почти утих. Крутые белые холмы возвышаются по обе
 				стороны от прохода. Монастырь виднеется вдали на севере.";
			default:
				"Несмотря на лавину, немногое изменилось. Всё вокруг завалено снегом.
				Монастырь располагается на севере.";
			}
		],
		before [;
			Listen:
				if (figure.found == false) {
				give figure ~concealed;
				figure.found = true;
					"Звук продолжается. Трудно определить его источник: смешанный с эхом,
					он может быть где угодно.
					^^Осматриваясь вокруг, ты находишь источник: тёмная фигура на холме,
					среди камней. Она движется.";
				}
				else
					"Звук продолжается, становясь громче.";
			Hide:
				if (dead_horse notin self)
					"Здесь негде спрятаться.";
				else
					self.hiding = true;
					"Ты заползаешь за мёртвую лошадь, и сворачиваешься в клубок.";
		],

		daemon [;
			switch(++(self.avalanche)) {
				2:
					"^Звук становится громче.";
				3:
					"^К скрежету добавляется другой звук, более рассеянный,
					громыхающий.";
				4:
					if (dead_horse notin self) {
					move moving_avalanche to pass;
					remove horse;
					"^Громыхание превращается в рёв. Волны снега начинают лавиной
					съезжать с холма.
					^^Лошадь замирает, уши становятся торчком. Прежде чем
					ты успеваешь двинуться, она уносится вниз по дороге.";
					}
					else
					"^Громыхание превращается в рёв. Волны снега начинают лавиной
					съезжать с холма.";
				5:
					"^Деревья ломаются как хворостинки, присоединяясь к лавине.";
				6:
					if (medard.pass_prayed == false && cecilia.pass_prayed == false
					&& self.hiding == false) {
					QuoteFrom(avalanche_quote);
					"^Она уже здесь.";
					}
					else
					"^Она уже здесь.";
				7:
					if (medard.pass_prayed == true || cecilia.pass_prayed == true) {
					remove moving_avalanche;
					"^В нескольких метрах от твоей головы, волна снега раскалывается
					на две, проходя по обе стороны от тебя.
					^^Спустя несколько секунд, поток истощается. Когда он останавливается,
					ты стоишь потрясённый, но невредимый.";
					}
					if (self.hiding == true) {
					remove moving_avalanche;
					"^Волны снега проходят над тобой, но, к счастью, тело лошади
					укрывает тебя от основного удара. Её остаточного тепла оказывается
					достаточно, чтобы ты смог выбраться на поверхность снега после того,
					как лавина остановилась.";
					}
					else

					deadflag = true;
					"^Поток снега захватывает тебя, выдавливая воздух из
					лёгких. Ты пытаешься сражаться, но он такой сильный, что
					ты не можешь даже двинуться.
					^^Как может что-то настолько белое, изнутри выглядеть таким чёрным?";
			}
		],
		avalanche 0,
		hiding false,
		n_to [;
			if (self.avalanche < 7)
				"Ты немного пробегаешь на север, но это даёт мало пользы. Лавина
				приближается.";
			else
				give briars ~concealed;
				move drogo_wolves1 to clearing;
				move wolves to clearing;
				move lamb to clearing;
				move cellar_key to constantin5;
				move constantin5 to constantin_room;
				move tool_snow to outside_calefactory;
				remove hidden_wolves;
				remove drogo4;
				remove constantin3;
				statusbar_right = "Служба третьего часа";
				time_shadow.current_time = 5;
                            print "Когда лавина прошла, а лошади больше нет, у тебя не остаётся выбора,
                            кроме как вернуться в монастырь пешком.
                            ^^Ты не представляешь, сколько времени это займёт. Всё что ты знаешь, это то,
                            что небо затянуло облаками, и хлопья снега начали свой путь сверху.^";
				PlayerTo(gate);
				return true;
		],
		u_to [;
			"Края слишком крутые.";
		],
has		;

Object	hills "холм/ы"
with	name 'холм' 'гор',
		before [;
			Examine:
				if (figure.found == false) {
				give figure ~concealed;
				figure.found = true;
                            "Ты осматриваешь холмы, отыскивая источник шума.
                            ^^Ты находишь его: тёмная фигура среди камней высоко над проходом.
                            Она движется.";
				}
				else
                            "Холмы возвышаются над тобой.";

			Listen:
				if (figure.found == false) {
				give figure ~concealed;
				figure.found = true;
                            "Звук продолжается. Трудно определить его источник: смешанный с эхом,
                            он может быть где угодно.
                            ^^Осматриваясь вокруг, ты находишь источник: тёмная фигура на холме,
                            среди камней. Она движется.";
				}
				else
                            "Звук продолжается, становясь громче.";
			default:
                            "Не отсюда.";
		],
		found_in pass,
has		scenery pluralname;

Object	figure "фигур/а"
with	name 'фигур' 'силуэт' 'человек' 'брат',
		initial [;
			if (pass.avalanche < 7)
                    "Фигура стремительно движется. Чёрная на белом.";
			else
                    "Фигура исчезла.";
		],
		description "Ты ничего не сможешь сделать отсюда.",
		before [;
			Examine:
			if (pass.avalanche < 7)
                    "Фигура стремительно движется. Чёрная на белом.";
							else
                    "Фигура исчезла.";
			default:
                    "Она слишком далеко.";
		],
		found false,
		found_in pass,
has		concealed female;

Object	dead_horse "мёртв/ая лошад/ь"
with	name 'лошад',
                description "Лошадь лежит на земле, кровь сочится из нанесённой
		тобой раны",
                initial "Лошадь лежит на земле, кровь сочится из нанесённой
                тобою раны",
		before [;
			Smell:
                            "Такой же как и прежде, только с примесью панического пота.";
			Attack:
                            "Бессмысленно бить мёртвую лошадь.";
		],
has		female;

Object	moving_avalanche "лавин/а"
with	name 'лавин' 'снег',
                description "Лавина становится больше и больше, вырывая деревья и камни,
                и присоединяя их к себе.",
		before [;
			Examine,Listen:
				return false;
			default:
                                "Лучше не надо.";
		],
has		scenery female;



!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!NPCS
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Cecilia
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Cecilia_class	cecilia1 "девушк/а"
with	short_name [;
			if (self.talking_angel == 0) {
				print "девушка"; return true; }
			else
				print "Сесилья"; return true;
		],
		name 'девушк' 'сесиль' 'сесилии' 'сесилью' 'женщин' 'девушку',
		initial [;
			switch(time_shadow.current_time) {
				0:
				"Девушка спит на кровати, время от времени судорожно переворачиваясь.";
				1:
				if (self.talking_angel >=2)
				"Девушка мирно спит на кровати, небесное сияние разливается вокруг неё.";
				else
				"Девушка тихо всхлипывает, положив голову на руки.";
		}
		],
		description [;
			switch(self.description_state) {
				1: "Молодая девушка лежит в забытии на кровати, дрожа от холода.";
				2: "Молодая девушка лежит в забытии на кровати. Она дрожит, но уже
				не так сильно - тепло огня согревает её.";
				3: "Мерзкая девчонка лежит под грязным одеялом. Хотя, судя по её
				спокойному лицу, она предпочитает его холоду.";
				4: "Согретая огнём и укутанная одеялом, девушка выглядит почти
				довольной.";
				5: "Утолив голод и прогнав холод из костей, девушка, наконец, выглядит
				довольной.";
				6: "Девушка смотрит на тебя заплаканными глазами.";
			}
		],
		each_turn [;
			if (self.bedding_given == true && locutory_fireplace.lit == true && self.
			food_given == true)
				self.description_state = 5;
			if (self.bedding_given == true)
				self.description_state = 3;
			if (locutory_fireplace.lit == true)
				self.description_state = 2;
			if (self.bedding_given == true && locutory_fireplace.lit == true && self.
			warm_enough == false) {
				self.warm_enough = true;
				self.description_state = 4;
				"^Наконец, тепла становится достаточно, и она начинает шевелиться.
				^^@<<Еды, - произносит она. - Пожалуйста@>>.
				^^Вместе с тем она постепенно просыпается ото сна.";
			}
			else
				return false;
		],
		before [;
			Close:
				if (your_bedding in player)
					<<Give your_bedding cecilia1>>;
				else
					"Тебе нечем укрыть её.";
			Smell:
				QuoteFrom(kiss_cecilia_quote);
				"Сладкая. Очаровательная.
				^^Соблазнительная.";
			WakeOther:
				if (self.woken == false)
					"Ты мягко толкаешь её, но она слишком глубоко спит.";
				else
					"Не нужно.";
			Listen:
				if (time_shadow.current_time == 0)
					"Её дыхание поверхностное, но ровное.";
				else
					"Она плачет. Не подвывая, а тихо, сдержанно всхлипывая.";
			Feed:
				if (cecilia_food notin player)
					"Тебе нечем накормить её.";
				else
					<<Give cecilia_food cecilia1>>;
			Receive:
				if (noun == your_frock)
					"Лучше что-нибудь, что не оставит тебя раздетым.";
				if (noun == your_bedding) {
					move your_bedding to cecilia1;
					self.bedding_given = true;
					"Ты укрываешь своим одеялом девушку, и она кажется чуточку
					умиротворённее.";
				}
				else
					return false;
			SleepWith,Enter:
				if (self.woken == true)
						"Девушка отталкивает тебя.";
				if (self.slept_with == true)
						"Тебе уже достаточно.";
				else
					QuoteFrom(sleepwith_cecilia_quote);
					sin_shadow.evil = true;
					self.slept_with = true;
						"Пока девушка в забытии, ты входишь в неё. Закончив, ты
						толкаешь её обратно на кровать, спящую.";
		],
		life [;
			WakeOther:
				if (self.woken == false)
					"Ты осторожно толкаешь её, но она спит слишком крепко.";
				else
					"Не нужно.";
			Touch:
				if (self.woken == true)
				"Она отстраняется от тебя.";
				else
				QuoteFrom(kiss_cecilia_quote);
				"Ты осторожно касаешься её. Она мягкая, очень мягкая.";
			Kiss:
				if (self.woken == true)
				"Она отстраняется от тебя.";
				else
				QuoteFrom(kiss_cecilia_quote);
				"Ты осторожно целуешь её. Её губы мягкие, очень мягкие. У них приятный вкус.";
			Attack:
				if (self.woken == false) {
					self.description_state = 6;
					self.woken = true;
					self.smacked = true;
					StartDaemon(self);
					"@<<Проснись!@>> - рычишь ты, ударяя девушку по лицу. Она
					стонет. Ты бьёшь снова, и она начинает шевелиться.";
				}
				else
					"Она уже проснулась.";
			Give:
			if (noun == your_frock)
				"Лучше что-нибудь, что не оставит тебя раздетым.";
			if (noun == cecilia_food && self.woken == true)
				"Она жадно поглощает еду.";
			if (noun == cecilia_food && self.woken == false) {
					if (locutory_fireplace.lit == true && self.
					bedding_given == true) {
					remove cecilia_food;
					self.description_state = 5;
					self.food_given = true;
					self.woken = true;
					StartDaemon(self);
					"@<<Эй, - говоришь ты, доставая еду. - Я принёс тебе
					кое-что поесть@>>.
					^^Наконец, девушка полностью просыпается и быстро
					хватает еду из твоих рук. @<<Спасибо вам@>>, - говорит она,
					запихивая её в рот. Через пару мгновений, несколько крошек,
					которые ты принёс, исчезают, и девушка, наконец, выглядит
					довольной.";
					}
			else
					"Ты пытаешься разбудить девушку, чтобы покормить,
					но холод слишком сильно сковал её.";
				}
			if (noun == your_bedding) {
				move your_bedding to cecilia1;
				self.bedding_given = true;
					"Ты укрываешь своим одеялом девушку, и она кажется чуточку
					умиротворённее.";
			}
		],
		daemon [;
			switch (++(self.bell_ringing)) {
			2:
			if (self.smacked == false) {
			move neck_lump to misc_shadow;
			statusbar_right = "Повечерие";
			time_shadow.current_time = 1;
			give flagstone ~concealed;
					"^@<<Спасибо за вашу доброту, отец. - Спохватившись, она протягивает руку. 
					- Меня зовут Сесилья@>>. Сразу после этого звук колокола, звонящего вдали,
					заглушает её слова. Её глаза расширяются, а кровь отливает от щёк.
					^^@<<Здесь нечего бояться, - говоришь ты, мягко беря её за руку. - Это просто
					созыв на Вечерню@>>.
					^^@<<Этого я и боялась@>>, - Она опускает подбородок на грудь.";
			}
			else
			move neck_lump to misc_shadow;
			statusbar_right = "Повечерие";
			time_shadow.current_time = 1;
			give flagstone ~concealed;
					"^Девушка страдальчески смотрит на тебя, тряся головой. @<<Ох, отец@>>, -
					она вздрагивает. Сразу после этого звук колокола, звонящего вдали,
					заглушает её слова. Её глаза расширяются, а кровь отливает от щёк.
					^^@<<Чего ты испугалась? - резко спрашиваешь ты. - Это просто созыв на Вечерню@>>
					^^@<<Этого я и боялась@>>. - Она опускает подбородок на грудь.";
			3:
			move tower_dead_body to tower;
			move dead_body to belltower_bottom;
			move drogo2 to belltower_bottom;
			move constantin2 to belltower_bottom;
			move ignatius2 to belltower_bottom;
			move brothers_tower to belltower_bottom;
			move lucca2 to belltower_bottom;
			move hare to constantin_room;
			remove matteo1;
			remove drogo1;
			remove constantin1;
			remove constantin_tools;
			remove ignatius1;
			remove lucca1;
			self.description_state = 6;
			QuoteFrom(job27_9);
					"^Колокол продолжает звонить. Четыре. Пять. Шесть... Вместо седьмого
					удара разносится крик. Он врывается из галереи, и уносится ветром.
					^^Девушка закрывает лицо руками и тихо всхлипывает. @<<Прости, Отец, - она
					поворачивается к тебе. - И вы тоже@>>.";
			4:
			StopDaemon(self);
		}
		],
		react_before [;
			Go:
				if (self.bell_ringing >= 1 && self.bell_ringing <= 2)
					"Ещё рано.";
				else
					return false;
			Enter:
				if (noun == locutory_door) {
					if (self.bell_ringing >= 1 && self.bell_ringing <= 2)
						"Ещё рано.";
					else
						return false;
				}
				if (noun == locutory_bed && self.woken == true)
					"Девушка сталкивает тебя с кровати.";
				if (noun == locutory_bed && self.woken == false)
					<<SleepWith self>>;
		],
		description_state 1,
		!1 = cold 2 = fire on 3 = bedding given 4 = bedding given fire on
		warm_enough false,
		bedding_given false,
		food_given false,
		woken false,
		smacked false,
		bell_ringing 0,
		slept_with false,
has		female transparent;

Cecilia_class	cecilia2 "Сесиль/я"
with	name 'девушк' 'сесиль' 'сесилии' 'сесилью' 'женщин' 'девушку',
		initial [;
			if (self in entrance_hall)
				"Cесилья смотрит через дверной проём.";
			else
				"Сесилья ходит вперёд-назад.";
		],
		description [;
				"Сон ничуть не испортил её красоту.";
		],
		react_before [;
			Go:
				if (noun == n_obj && location == entrance_hall) {
				move self to locutory;
				print "Сесилья поворачивается в сторону зала.^";
				return false;
				}
				else
				return false;
		],
has		female;

Object	cecilia_back "Спин/а Сесильи"
with	name 'шишк' 'спину' 'крыл' 'крылья' 'выступ' 'шишечк',
		description "Шишечки выступают из спины Сесильи.",
		before [;
			Examine: return false;
			default:
				"Не беспокойся.";
		],
		found_in [;
			if (noun ofclass cecilia_class)
				return true;
		],
has		concealed pluralname;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Drogo
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Drogo	drogo1 "брат/ Дрого"
with	name 'брат' 'дрого',
        ! хак для "дрого"
        parse_name [ n;
            n = 0;
            while (NextWord() == 'дрого' or 'брат' or 'брата' or 'брату') n++;
            return n;
        ],
		initial [;
			if (refectory hasnt visited)
				"Брат Дрого сидит за одним из столов, яростно царапая его твёрдую
				поверхность.";
			else
				"Брат Дрого бормочет что-то себе под нос, его глаза бегают взад и вперёд,
				не фокусируясь ни на чём.";
		],
		description "Брат Дрого сидит в испачканной рясе, чёрные завитки сальных
		волос свисают ему на глаза. Время от времени он громко сдувает их с лица, но
		они тут же падают обратно.",

		visitor_told false,
has		proper male;

Drogo	drogo2 "брат/ Дрого"
with	description "Дрого быстро трёт руки, будто при обморожении. Поймав твой взгляд, он ухмыляется.",
        ! хак для "дрого"
        parse_name [ n;
            n = 0;
            while (NextWord() == 'дрого' or 'брат' or 'брата' or 'брату') n++;
            return n;
        ],
		initial [;
			if (brothers_tower notin belltower_bottom && self in belltower_bottom)
				"Дрого ухмыляется тебе.";
			if (self.said_begins == false) {
				self.said_begins = true;
				"Дрого подпрыгивает вверх-вниз, злорадно потирая руки.
				@<<Началось!@>> - взвизгивает он с широкой ухмылкой.";
			}
			else
				print "";
		],
		react_before [;
			Go:
				if (brothers_tower notin belltower_bottom && noun == ne_obj or u_obj
				or sw_obj) {
					print "^@<<Спокойной ночи, отец!@>> - желает тебе Дрого, и
					исчезает в темноте.^";
					remove drogo2;
					return false;
				}
				else
					return false;
		],

		said_begins false,
has		;

Drogo	drogo3 "Дрого"
with	
		! хак для "дрого"
        parse_name [ n;
            n = 0;
            while (NextWord() == 'дрого' or 'брат' or 'брата' or 'брату') n++;
            return n;
        ],
		initial [;
			if (self in cloister)
				StartDaemon(self);
			if (self in church)
                            "Дрого дико ухмыляется, таща тебя вверх к алтарю.";
			if (self in chancel)
                            "Дрого стоит, приосанившись, ожидая твоего одобрения. На его
                            губах играет неуверенная улыбка.";
		],
		description "Его волосы прилипли к вспотевшему лбу. Его дикие глаза налиты кровью.",
		daemon [ ;
			switch (++(self.show_matteo)) {
				1:
					move drogo_church_hint to all_hints;
					move drogo_dragging to misc_shadow;
					give windows concealed;
					give crucifix concealed;
					give church_font concealed;
					give lectern concealed;
					give saint_cuthbert concealed;
					move self to church;
					move altar to church;
					"Ты замечаешь Дрого, идущего на юг. Он ловит твой взгляд и машет.
					^^@<<Отец! - кричит Дрого, прыгая к тебе. - Я как раз искал тебя!
					Ты должен пойти со мной, это так красиво!@>> - он хватает тебя за руку
					и тащит по направлению к церкви.";
				2:
					PlayerTo(church);
					move self to chancel;
					"^@<<Идём, отец, - его глаза светятся детским энтузиазмом, но
					хватка стальная. - Мы почти пришли!@>>
					^^Что-то изменилось в дальнем конце алтаря. Что же?
					^^Святый Боже.";
				3:
					PlayerTo(chancel);
					"^@<<Смотри, отец! - говорит он, таща тебя к кресту. - Я сам
					всё это сделал@>>.
					^^Глядя наверх, ты видишь, из-за чего так волновался Дрого.
					Матвей распят на кресте. В его руках и ногах ужасные дыры.";
				4:
					remove drogo_dragging;
					give windows ~concealed;
					give crucifix ~concealed;
					give church_font ~concealed;
					give lectern ~concealed;
					give saint_cuthbert ~concealed;
					"^@<<Ну как, отец? Не правда ли красиво?@>> - Дрого стоит, крепко
					вцепившись в твоё запястье и согласно кивает себе.";
				6:
					if (self.talking == false) {
					move hidden_wolves to garden;
					move machete to drogo4;
					move drogo4 to garden;
					remove self;
					"^Дрого задумчиво потирает шею: @<<Хмм. Чего-то не хватает, -
					он выглядит озадаченным некоторое время, но вскоре взмахивает
					рукой, радостно присвистнув. - И я точно знаю чего!@>>
					^^Прежде чем ты успеваешь двинуться, он выбегает из церкви.";
					}
					else
					StopDaemon(self);
			}
		],
		before [;
			Smell:
				"Должно быть, он усердно работал над чем-то: от него несёт
				свежим потом.";
		],
		react_before [;
			Go:
				if (self in chancel && self.show_matteo <= 5 && noun == s_obj or
				d_obj)
					"Дрого стискивает руку ещё сильнее, почти ломая тебе запястье:
					@<<Не уходи никуда, отец, подожди@>>.";
				if (self in chancel && self.show_matteo > 5 && noun == s_obj or
				d_obj)
					move hidden_wolves to garden;
					move machete to drogo4;
					move drogo4 to garden;
					remove self;
					"^Дрого задумчиво потирает шею: @<<Хмм. Чего-то не хватает, -
					он выглядит озадаченным некоторое время, но вскоре взмахивает
					рукой, радостно присвистнув. - И я точно знаю чего!@>>
					^^Прежде чем ты успеваешь двинуться, он выбегает из церкви.";


			Listen:
							if (noun == nothing or self)
					"Дрого взволнованно щебечет сам с собой.";

			Yes:
				if (self.show_matteo < 6 && self.show_matteo > 3) {
					move hidden_wolves to garden;
					move machete to drogo4;
					move drogo4 to garden;
					remove self;
					StopDaemon(self);
					"@<<Да, это прекрасно, - Дрого задумчиво потирает шею. - Но чего-то
					не хватает, и я даже знаю, где это найти.@>>
					^^Прежде чем ты успеваешь двинуться, он выбегает из церкви.";
					}
				else
					return false;
			No:
				if (self.show_matteo < 6 && self.show_matteo > 3) {
					move hidden_wolves to garden;
					move machete to drogo4;
					move drogo4 to garden;
					remove self;
					StopDaemon(self);
					"На мгновение лицо Дрого темнеет, а глаза наполняются ненавистью.
					Он делает шаг к тебе, его руки тянутся к твоему горлу, но он
					быстро останавливается. @<<Хмм, - говорит он, потирая шею. -
					Возможно, ты прав. Но не беспокойся, я сделаю его лучше. Я знаю,
					чего не хватает@>>.
					^^Прежде чем ты успеваешь двинуться, он выбегает из церкви.";

					}
				else
					return false;

		],

		each_turn [;
			if (self notin cloister or chancel or church)
				StopDaemon(self);
			if (self.talking > 0)
					self.talking = self.talking - 1;
			if (self.talking == 0 && self.show_matteo > 5) {
					move hidden_wolves to garden;
					move machete to drogo4;
					move drogo4 to garden;
					remove self;
					"^Дрого задумчиво потирает шею: @<<Хмм. Чего-то не хватает, -
					он выглядит озадаченным некоторое время, но вскоре взмахивает
					рукой, радостно присвистнув. - И я точно знаю чего!@>>
					^^Прежде чем ты успеваешь двинуться, он выбегает из церкви.";
			}
			else
				return false;
		],
		talking 0,
		show_matteo 0,
has		;

Drogo	drogo_dragging "Дрого"
with	
		! хак для "дрого"
        parse_name [ n;
            n = 0;
            while (NextWord() == 'дрого' or 'брат' or 'брата' or 'брату') n++;
            return n;
        ],
		description "Его жирные волосы прилипли ко лбу, дикие глаза налиты кровью.",
		react_before [;
			Listen:
				if (noun == nothing or self)
					"Дрого взволнованно щебечет сам с собой.";
		],
		before [;
			Smell:
				"Должно быть, он усердно работал над чем-то: от него несёт
				свежим потом.";
		],
		life [;
			Ask,Tell,Answer:
				"@<<Тсс, отец. Скоро будет много времени для вопросов и ответов@>>.";
		],
has		;

Drogo	drogo4 "Дрого"
with	
        ! хак для "дрого"
        parse_name [ n;
            n = 0;
            while (NextWord() == 'дрого' or 'брат' or 'брата' or 'брату') n++;
            return n;
        ],
		initial "Дрого неистово рубит кустарник тупым тесаком.",
		description "Клинок прорывается сквозь терновник, отхватывая листья и ветки.
		Руки Дрого исцарапаны и сбиты от работы, но он не замечает этого. Кажется, он
		не замечает вообще ничего, кроме терновника.",
has		container transparent;

Object	machete "тесак/"
with	name 'тесак' 'нож' 'клинок',
		description "Он тупой, но ярость Дрого компенсирует это.",
		before [;
			Take:
				"@<<Нет! - пронзительно вопит он, отдёргивая клинок. - Моё! Всё моё!@>>";
		],
has male;

Object	hidden_wolves "волк/и"
with	name 'волк' 'вожак' 'собак' 'стаю' 'рёв' 'глаза' 'фигур' 'силуэт' 'волков',
		initial "Утробный рёв нарастает из кустов, подпевая свисту клинка Дрого.",
		before [;
			Examine:
				QuoteFrom(ezekial22_27);
				<<Examine briars>>;
			Listen:
				if (noun == self or nothing or briars)
				QuoteFrom(ezekial22_27);
				"Утробный рёв. Они голодны.";
			Smell:
				if (noun == self or nothing or briars)
				QuoteFrom(ezekial22_27);
				"Шерсть. Запах животных.";
			default:
				QuoteFrom(ezekial22_27);
				"Рёв служит единственным ответом.";
		],
has		static pluralname;

Drogo	drogo_wolves1 "Дрого"
with		before [;
			default:
				"Дрого исчез.";
		],
has		scenery;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Ignatius
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Ignatius ignatius1 "Брат/ Игнат/"
with	name 'брат' 'игнат' 'игната',
			initial "Брат Игнат сидит на одной из скамей, сосредоточенно глядя на свечи.",
			description "Шрам, пересекающий его левый глаз, сделал его наполовину слепым,
			поэтому Игнат всматривается здоровым глазом с двойным усердием.",

has		male;

Ignatius ignatius2 "Брат/ Игнат/"
with	describe [;
			if (self in belltower_bottom)
				return true;
			if (self in cloister)
			"^Чёрная роба Игната развевается позади него, когда он входит в дортуар.";
			if (self in dormitory)
			"^Игнат проносится в свою комнату.";
			if (self in ignatius_room)
			"^Игнат сидит на своей кровати, готовясь ко сну.";
			else
				"ОШИБКА";
		],
		description [;
			if (self in cloister)
			"^Чёрная роба Игната развевается позади него, когда он входит в дортуар.";
			if (self in dormitory)
			"^Игнат проносится в свою комнату.";
			if (self in ignatius_room)
			"^Игнат сидит на своей кровати, готовясь ко сну.";
			if (brothers_tower.murder_conversation >= 2)
			"Игнат встречается глазами с Константином. Его воля восполняет разницу в
			комплекции.";

			else
			"Игнат стоит над Матвеем, его голова склонена в молитве. Он осеняет свою грудь
			крестным знамением. Нет, похоже, он просто чешется?";

		],
		life [;
			Ask,Tell,Order:
			"@<<Я занят, отец@>>, - отвечает он резко.";
		],
		daemon [;
			switch (++(self.after_murder)) {
				2:
				move self to cloister;
				3:
				move self to dormitory;
				4:
				move self to ignatius_room;
				5:
				StopDaemon(self);
			}
		],
		after_murder 0,
has		male;



!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Constantin
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Constantin constantin1 "Брат/ Константин/"
with	name 'константин' 'константина' 'брат' 'брата',
        parse_name [ n;
            n = 0;
            while (NextWord() == 'константин' or 'константина' or 'константину' or 'брат' or 'брата' or 'брату') n++;
            return n;
        ],
		initial "Брат Константин сидит на кровати, совершая стремительные движения ножом.
		Молодой заяц свисает из его руки.",
		description "Константин сидит на кровати, провисающей под его огромным весом.
		Несмотря на размер, он ловко двигается, нож проворно скользит между шкурой
		и мышцами зайца. Лужа крови скапливается под его босыми ногами.",
		react_before [;
			Take:
				if (noun == constantin_tools)
					"@<<Оставь их, отец@>>, - ворчит он, не отводя глаза от тушки.";
		],
has		male;

Constantin constantin2 "Брат/ Константин/"
with	describe [;
			if (self in belltower_bottom)
				return true;
			if (self in cloister && self.after_murder < 3)
            "^Константин грубо толкает Луку к отопительной.";
			if (self in cloister && self.after_murder > 3)
            "^Константин шагает в сторону дортуара.";
			if (self in dormitory)
            "^Константин вваливается в свою комнату.";
			if (self in constantin_room)
            "^Константин готовится ко сну.";
			if (self in outside_calefactory)
            "^С презрительной руганью, Константин бросает Луку в отопительную. Ты слышишь
            глухой удар упавшего на землю тела, но, судя по продолжающимся причитаниям,
            он не сильно травмирован.
            ^^Ухмыляясь, Константин достаёт блестящий замок из-за пояса, и прикрепляет его на
            дверь. @<<Это должно его удержать@>>, - усмехается он. Невнятно бормоча, он протискивается
            мимо тебя, направляясь к дортуару.";
		],
		description [;
			if (self in constantin_room)
			"Константин стоит с босыми ногами, и, кажется, ему не холодно.";
			if (self in cloister)
			"^Константин грубо толкает Луку к отопительной.";
			if (brothers_tower.murder_conversation >= 2)
			"Константин стоит лицом к лицу с Игнатом, его щёки пылают.";
			else
			"Константин стоит с босыми ногами, и, кажется, ему не холодно. Мёртвый заяц
			свисает с его руки, на нём не осталось следов меха";
		],

		daemon [;
			switch (++(self.after_murder)) {
				2:
				move self to cloister;
				move lucca2 to self;
				3:
				move self to outside_calefactory;
				move calefactory_lock to calefactory_door;
				give calefactory_door ~open;
				give calefactory_door locked;
				4:
				move lucca_behind_door to outside_calefactory;
				move self to cloister;
				5:
				move self to dormitory;
				6:
				move self to constantin_room;
				time_shadow.lucca_jailed = true;
			}
		],
		after_murder 0,
has		transparent container open male;

NPC		figure_behind_door "шарканье"
with	name 'шум' 'царапанье' 'шарканье' 'звук' 'возню',
		react_before [;
			Exit:
				if (player notin your_bed)
				<<Push your_desk>>;
			Go:
				if (noun == out_obj or w_obj)
				<<Push your_desk>>;
			Open:
				if (noun == your_door)
					<<Push your_desk>>;

		],

		before [;
			Listen:
			"Ноги, шлёпающие по камням.";
			TalkTo:
			"Ответа нет, но возня за дверью ненадолго прекращается.";
			default:
			"Не отсюда.";
		],
		life [;
			Ask,Tell:
			"Ответа нет, но возня за дверью ненадолго прекращается.";
		],
has		scenery;

Constantin constantin3 "Константин/"
with	initial [;
			if (self in entrance_hall) {
				StopDaemon(your_bedroom);
				StartDaemon(self);
                "Константин нетерпеливо переминается, его лицо пылает.";
			}
			if (self in cloister)
                "Константин мчится к отопительной, взрывая ногами снег.";
			if (self in outside_calefactory && self.show_calefactory >= 5)
                "Константин ощупывает дверь, его руки стремительно движутся.";
			if (self in outside_calefactory)
				self.show_calefactory = 3;
				StartDaemon(self);
				return true;
		],
		description
		"На нём, наконец, начали проявляться признаки голода и чумы. Его глаза налиты
		кровью, он не может смотреть на солнце. Несмотря на это, он пытается казаться
		миролюбивым.",
		daemon [;
			switch(++(self.show_calefactory)) {
				1:
					move self to cloister;
					"^@<<Ты так долго возишься. Пошли со мной@>>, - ворчит он, тяжело
					ступая к галерее.";
				2:
					move self to outside_calefactory;
					StopDaemon(self);
				4:
					remove calefactory_lock;
					move constantin_tools to outside_calefactory;
					move calefactory_hole to outside_calefactory;
					move drogo3 to cloister;
				"@<<Смотри, - рявкает Константин, яростно указывая на дыру, зияющую на месте замка.
				- Ублюдок выбил его изнутри@>>.";
				5:
				"^Константин, бормоча проклятия, вытягивает из-за пояса инструменты и начинает
				чинить дверь.";
				6:
					StopDaemon(self);
		}
		],
		react_before [;
			Listen:
				if (noun == nothing or self)
					"Бах. Бах. Бах. Бах.";
			Open,Close,Lock:
				if (noun == calefactory_door)
					"@<<Не трогай, я пытаюсь работать@>>, - рычит он.";
			Go:
				if (noun == nw_obj)
					StopDaemon(self);
			Take:
				if (noun == constantin_tools) {
				if (self.take_attempted == false) {
				self.take_attempted = true;
				"Константин сильно бьёт тебя по руке молотком. @<<В следующий раз
				получишь по голове@>>, - рычит он, даже не глядя на тебя.";
				}
				else
				deadflag = 1;
				"Прежде, чем ты успеваешь среагировать, Константин с размаху бьёт тебя
				молотком в висок. Треск. Несколько звёзд. Невнятные извинения.
				^^Темнота.";
				}
				else
				return false;
		],
		show_calefactory 0,
		take_attempted false,
has		male;

Object	tool_snow "снег/"
with	name 'снег' 'хлопья',
		initial [;
			if (self.dug == false)
				"Слой свежего снега лежит на земле.";
		],
		description "Что-то виднеется под слоем снега.",
		react_before [;
			Dig,Search:
				if (noun == nothing or self && self.dug == false)
					move constantin_tools to player;
					remove self;
					self.dug = true;
					"Ты смахиваешь тонкий слой снега, под которым обнаруживаются
					оставленные Константином инструменты. Ты засовываешь их себе в карман -
					они слишком холодные, чтобы носить в руках.";

		],
		dug false,
has		static male;

Object	constantin_tools "инструмент/ы"
with	name 'инструмент' 'молотк' 'молотком' 'молоток' 'гвозд',

		description [;
			if (location == constantin_room)
				"Константин был ниспослан Богом пять лет
				назад. До него монастырь вербовал рабочих в Ровато, когда
				требовалось что-либо построить. Сейчас Константин делает это
				с радостью, только ворчит иногда.";
			else
				"Молоток. Несколько гвоздей. Константин
				обычно носит их повсюду.";
		],
		before [;
			Attack:
				<<Attack second noun>>; ! hack
			Examine,Smell,Listen:
				if (tool_snow.dug == false  && location == outside_calefactory  &&
				time_shadow.current_time ~= 3)
					"Ты не видишь здесь инструментов.";
			default:
				if (location == constantin_room)
					return false;
				if (constantin3 in location)
					"Это не очень мудрая идея.";
				if (tool_snow.dug == false)
					"Ты не видишь здесь инструментов.";
				else
					return false;
		],

has		concealed pluralname;

Object	calefactory_hole "пролом/"
with	pname 'пролом' 'дыру' 'замок' 'искры' 'кровь' 'дерево' 'следы',
		description [;
			switch(time_shadow.current_time) {
				3:
					"Доски сломаны от удара внутрь, и на этой стороне нет щепок. Только
					едва различимые следы красных искр на дереве.";
				default:
					"Константин слегка подправил дверь, но похоже, что он не в состоянии
					завершить работу. Кажется, он её не запер.";
				}
		],
		before [;
			Search:
				"Глядя сквозь пролом, ты почти ничего не видишь.";
		],
		react_before [;
			Examine:
				if (noun == calefactory_door)
					<<Examine self>>;

			Open,Unlock,Enter:
				if (pass has visited)
					return false;
				if (noun == calefactory_door)
					"Дверь сломана и заклинена; она не открывается.";
			Go:
				if (pass has visited)
					return false;
				if (noun == se_obj)
					"Дверь сломана и заклинена; она не открывается.";
		],
has		scenery male;

Constantin constantin5 "Константин/"
with	name 'уш' 'ухо' 'константин',
        parse_name [ n;
            n = 0;
            while (NextWord() == 'ухо' or 'уши' or 'константин' or 'константина' or 'константину' or 'брата' or 'брату') n++;
            return n;
        ],
		describe [;
			if (cellar_key in self)
			"^Константин лежит на боку, рвота стекает с угла его рта.
			Связка ключей свисает с его пояса, слегка позвякивая.";
			else
			"^Константин лежит на боку, рвота стекает с угла его рта.";
		],
		description [;
			"Похожий на огромный болезненный волдырь, Константин лежит, прикрыв
			опухшие глаза. Его дыхание неравномерно, вместе с воздухом изо рта
			вылетают капельки крови и рвоты.";
		],
		react_before [;
			PrayThrough:
				if (noun == cuthbert)
					"Всё происходит за считанные мгновения. Пучок ярких искр возникает
					под потолком, спускаясь к Константину. Они кружатся быстрее и быстрее,
					огибая его. Он вздрагивает от их прикосновений. Они проникают в раны,
					в рот, в глаза. Он кричит. Они не останавливаются.
					^^Наконец, все они проникают в него, и всё становится как прежде.
					Он всё ещё вскрикивает от боли и мечется в бреду.";
		],
		life [;
			HelpPerson:
				"Ты ничего не можешь для него сделать.";
		],
		before [;

			Kill:
				QuoteFrom(kill_constantin_quote);
				sin_shadow.evil = true;
				remove constantin5;
				move cellar_key to constantin_room;
				move constantin_dead to constantin_room;
				"Проворно двигаясь, ты вытаскиваешь подушку из под головы Константина,
				и прижимаешь её к его лицу. Он почти без сил. После нескольких слабых
				рывков он успокаивается.";
			Attack:
				"Константин ворчит и отмахивается от тебя.";
			Receive:
				if (noun ~= your_candle)
					return false;
				if (self.waxed == false) {
					self.waxed = true;
					"Ты осторожно закапываешь воск в открытое ухо Константина.
					Вскоре на нём образуется плотная пробка.";
				}
				else
					"Его ухо уже достаточно запечатано.";

			LetGo:
				if (noun == cellar_key && self.waxed == false) {
					deadflag = true;
					"Ты осторожно пытаешься отцепить ключи с его пояса, но в тот
					момент, когда ты касаешься их, они звякают, пробуждая Константина.
					Он поднимает опухшие веки, открывая два налитых кровью шара.
					^^@<<Вор!@>> - кричит он, вскакивая. Несмотря на болезнь, он остался
					сильным. Прижимая тебя к стене, он наносит несколько яростных ударов.
					Несмотря на болезнь, ты остался слабым.
					^^После этого тебе больше не встать.";
				}
				if (noun == cellar_key && self.waxed == true)
					move cellar_key to player;
					"Ты осторожно отцепляешь ключи с его пояса. Он не двигается.";

		],
		waxed false,
has		male container transparent open;

Constantin constantin_dead "Константин/"
with	name 'константин' 'труп',
		description "Болезненная масса опухолей и одежды.",
		describe [;
			if (cellar_key hasnt moved)
				"^Тело Константина лежит на боку, ключи безвольно свисают с его
				пояса.";
			else
				"^Труп Константина утопает в кровати.";
		],
		before [;
			Eat:
				QuoteFrom(leviticus26_29);
				sin_shadow.evil = true;
				"Плоть Константина мягкая и податливая. Чума хорошо поработала над ней.
				Ты почти не жуёшь. Она легко проскальзывает по твоему горлу в желудок.";
			Search:
				if (cellar_key notin self)
					"Ничего, кроме бугров и рвоты.";
				else
					move cellar_key to self;
					"Ты берёшь ключи, и они мягко звякают в твоей руке.";
			Push,Pull,Take:
				"Он слишком тяжёлый.";
		],
has		static male;

Object	cellar_key "ключ/и"
with	name 'ключ' 'ключи' 'пояс' 'связку',
		describe [;
		return true;
		],
		description "Они ярко блестят и звенят при движении.",
has		pluralname;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Lucca
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Lucca	lucca1 "Брат Лук/а"
with
	name 'лук' 'луку' 'лукой' 'луке',
	initial [;
			switch(location) {
			cloister:
				"Брат Лука с раскрасневшимся лицом и влажными щеками
				несётся от колокольни, на восток, к дортуару. На мгновение вы
				встречаетесь глазами.
				^^@<<Ты в порядке, брат?@>> - спрашиваешь ты, но не получаешь ответа.";
			dormitory:
				"С рясой, развевающейся позади, Лука бросается на юг, в комнату
				Матвея.";
			matteo_room:
				"Лука неистово роет землю, его кровь остаётся на камнях.";
			}
		],
		description "Окровавленными пальцами он выскребает камень. Его лицо красное
		и мокрое от слёз.",
		before [;
			HelpPerson:
				"Ты хватаешься за камень, но не можешь уцепиться.";
		],
		daemon [;
			switch (++(self.first_seen)) {
			1:
				move flagstone to matteo_room;
				move lucca1 to dormitory;

			2:
				move lucca1 to matteo_room;
				StopDaemon(self);

			}
		],
		first_seen 0,
has	male fem_grammar	;

Lucca	lucca2 "Брат Лук/а"
with	name 'лук' 'луку' 'лукой' 'луке',
		description [;
			if (self in constantin2)
				return constantin2.describe();
			if (brothers_tower.murder_conversation >= 2)
				"Лука лежит бесформенной кучей на земле, бормоча:
				@<<Прости, прости@>>, - снова и снова.";
			else
				"Лука перекатывается с бока на бок, бормоча:
				@<<Прости, прости@>>, - снова и снова.";
		],
		life [;
			Ask,Tell,Order:
				"Он только повторяет: @<<Прости@>>.";
		],
has		concealed male fem_grammar;

Lucca	lucca_behind_door "Лука"
with
		initial "Ты слышишь как Лука тихо неразборчиво тараторит за дверью.",
		description "Ты не можешь его видеть.",
		murder_asked false,
has		male fem_grammar;


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Matteo
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Matteo	matteo1 "брат/ Матве/й"
with	name 'брат' 'матвей' 'матве',
        !parse_name [ n;
        !    n = 0;
        !    while (NextWord() == 'матвей' or 'матвея' or 'брат' or 'брата' or 'брату') n++;
        !    return n;
        !],
		initial "Брат Матвей нагнулся через перила, подставив лицо ветру.",
		description "Он выглядит уставшим и мрачным. Он слегка облокотился
		на перила, будто использует их как опору. Ряса развевается на
		ледяном ветру; у него нет больше сил обматывать её вокруг себя.",
        
		before [;
			Push,Kill,Attack:
				QuoteFrom(kill_matteo_quote);
				sin_shadow.evil = true;
				remove matteo1;
				self.pushed = true;
				move tower_dead_body to tower;
				move dead_body to belltower_bottom;
				"Он поворачивается спиной на мгновение. Этого вполне достаточно. Ты
				сильно толкаешь его руками в спину, и он переваливается через
				ограждение. Во время падения он улыбается тебе. В последний раз.";
		],
		react_before [;
			Go:
				if (self.tower_talking > 2 && noun == d_obj)
					QuoteFrom(no_push_matteo_quote);
					return false;
			Yes:
				if (self hasnt general)
					return false;
				else
					"@<<Да, это трудные времена. Мы ничего не можем с этим поделать@>>.
					Он мягко улыбается. Он всегда улыбается.";
			No:
				if (self hasnt general)
					return false;
				else
					"Он отворачивается, подставляя лицо ветру.";
		],
		pushed false,
has		male;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!Starting Possessions
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Object 	tinderbox "трутниц/а"
with	name 'трутниц' 'трут' 'кремень' 'огниво' 'короб',
		article [;
			if (sin_shadow.evil == false)
				{ print "твоя"; rtrue; }
			else
				{ print " "; rtrue; }
		],
		description "Маленькая коробочка, содержащая кремень, огниво и трут.
		Ты всегда носишь её с собой на случай, если ветер задует свечу.",
		before [;
			LetGo,Drop,ThrowAt,PutOn,Insert:
				"Ты не хочешь потерять её. Темнота пугает.";
			Smell,Touch:
				"Сухо. Редкость в этом месте.";
			Open,Receive:
				"Это не требуется.";
		],
has		female;

Object	your_candle "свеч/а"
with	pname 'свеч' '.x' 'пламя' '.x' 'огонь' 'свечу' 'жир' 'воск' 'мою' 'свою',
		article [;
			if (sin_shadow.evil == false)
				{ print "твоя"; rtrue; }
			else
				{ print " "; rtrue; }
		],
		description [;
			if (self.lit == true)
				"Свиной жир и фитиль. Однако, очень хорошо держит огонь.
				Капли масла стекают от пламени по краям, делая их скользкими.";
			else
				"Свиной жир и фитиль. Однако очень хорошо держит огонь.";
		],
		invent [;
			if (sin_shadow.evil == true) {
			if (self.lit == true) {
				print "свеча (горит)"; rtrue;
			}
			else
				print "свеча"; rtrue;
			}
			if (self.lit == true) {
				print "твоя свеча (горит)"; rtrue;
			}
			else
				print "твоя свеча"; rtrue;
		],
		before [;
			LetGo,Drop,ThrowAt,PutOn,Insert:
				if (second == constantin5)
				return false;
				else
				"Ты не хочешь потерять её. Свет важен в эти тёмные времена.";
			Smell,Taste:
				if (self.lit == true)
					"Пахнет прогорклым свиным жиром, стекающим от огня.";
				else
					"Даже когда не горит, свеча воняет мёртвой свиньёй.";
			Burn:
				if (location == cellar && self.lit == false) {
					give prybar ~concealed;
					self.lit = true;
					print "Жир шипит в тот момент, когда пламя возвращается к жизни
					но быстро утихает.^";
					PlayerTo(cellar);
					return true;
					}
				if (self.lit == true)
					"Она уже горит.";
				if (self.lit == false) {
					self.lit = true;
					"Жир шипит в тот момент, когда пламя возвращается к жизни, но
					быстро утихает.";
				}
				else
					return false;
			Extinguish:
				if (self.lit == false)
					"Она уже не горит.";
				else
					self.lit = false;
					"Пламя задыхается в облаке вонючего чёрного дыма.";
		],
		lit true,
has		female;

Object	your_frock "ряс/а"
with	name 'ряс' 'роб' 'одежд',
		article [;
			if (sin_shadow.evil == false)
				{ print "твоя"; rtrue; }
			else
				{ print " "; rtrue; }
		],
		description "Изношенная ряса, способная сохранить немного тепла. Грубая
		ткань царапает, когда прикасается к телу, но это случается не очень часто:
		сейчас ряса слишком велика для тебя. Она пахнет потом и слезами.",
		before [;
			Disrobe:
				"Ты замёрзнешь.";
			Smell,Taste:
				"Засохшие слёзы и пот. Они больше не беспокоят тебя.";
		],
has		clothing female;

Object	neck_lump "шишк/а"
with	name 'шишк' 'комок' 'блямб' 'шишечк' 'опухол' 'бугор',
		description [;
			switch(time_shadow.current_time) {
				1:
					"Почти невидима, но ты можешь почувствовать её: шишечка
					величиной с	маленькую монетку образовалась на коже.";
				2:
					"Будто яйцо малиновки набухло на горле. Каждый раз когда
					ты сглатываешь, она отдаёт острой болью.";
				3,4:
					"Если бы ты не знал что к чему, ты мог бы поклясться, что проглотил
					яблоко, и оно застряло в горле, чуть выше воротника.";
				5:
					"Опухоль огромна, тебе трудно дышать. Кажется, будто голова
					насажена на грушу.";
				default:
					"У тебя больше нет шеи: голова просто расширяется, пока не
					переходит в плечи.";
				}
		],
		before [;
			Touch:
			switch(time_shadow.current_time) {
				1:
					"Мягкая и эластичная, немного разбухает от касаний.";
				2:
					"Больно; пальцы не оставляют вмятин.";
				3,4:
					"Шишка твёрдая и крепкая; боль усиливается, от касаний.";
				5:
					"Шишка вдавливается и вылезает обратно с огромной силой. Боль
					становится невообразимой.";
				default:
					"Опухоль оглушает болью и трясётся, когда ты дрожишь.";
				}
			default:
				"Ты ничего не можешь с этим поделать. Это часть тебя.";
			],
has		female;

Object	journal "journal"
with	article "your",
		pname 'book' 'paper' 'journal' 'diary',
		before [;
			default:
				"FLESH OUT JOURNAL. MAKE MENU. OR GET RID OF IT ENTIRELY";
		],
has		male;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!EVERYWHERE STUFF + SCENERY
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Object	snow "снег/"
with	name 'снег',
		description "Снег кусает твои ноги.",
		before [;
			Take:
				StartTimer(taken_snow);
				taken_snow.time_left = 3;
				move taken_snow to player;
				"Ты берёшь небольшую пригоршню снега. Он морозит твою руку.";
			Eat:
				"Твои зубы сводит резкой болью, снег хрустит на зубах.";
		],
		found_in [;
			if (location ofclass Outside_Room)
				return true;
		],
has		scenery male;

Object	taken_snow "пригоршн/я снега"
with	name 'пригоршню' 'снег' 'снежок' 'снега',
		description "Он грязнее, чем снег, которым ты играл будучи ребёнком.
		Сейчас всё грязнее.",
		time_out [;
			remove self;
			"Снег тает в твоей руке, превращаясь в несколько капель воды.";
		],
		before [;
			Drop:
				remove self;
				"Ты бросаешь снег: маленький мокрый холодный шарик.";
			Eat:
				"Твои зубы сводит резкой болью, снег хрустит на зубах.";
		],
		time_left,
has	female	;

Object	sky "неб/о"
with	name 'неб' 'облак' 'солнце' 'лун' 'небес',
		description [;
			switch(time_shadow.current_time) {
				0:
					"Солнце садится, но Луна ещё не взошла: тёмная неизвестность Вечерни.
					Твоя свеча даёт небольшой круг света, прогоняя голодные тени.";
				1:
					"Луна освещает облака, но её свет не касается Земли. Она
					боится.";
				3:
					"Солнце сияет, но не даёт тепла. Этот свет жжёт твои глаза.";
				4:
					"Облака начали наползать с юга.";
				5:
					"Небо затянуто облаками, в которых отражается земля. Белизна
					вверху, белизна снизу.";
				6,7:
					"Темнота сгущается на небе. Скоро только снег останется белым.";
				8:
					"Тьма вернулась. Она нашла свой дом. Теперь она останется.";
			}
		],
		before [;
			Examine:
				return false;
			default:
				"Оно слишком далеко.";
		],
		found_in [;
				if (location ofclass Outside_Room)
				return true;
		],
has		scenery neuter;

Object	scenic_church "церк/о/в/ь"
with	name 'церков' 'шпиль',
		casegen [ beg end csID;
			return ICVowel (csID, beg, end, 'о', 0);
		],
		description [;
			switch(time_shadow.current_time) {
				0:
					"Её шпили достают до неба: она словно мост между Небесами и Землёй.";
				1:
					"Она карабкается, но Земля тянет её вниз.";
				3:
					"Она укрывается от солнца. Прячется. Сжимается.";
				5:
					"Она веселится в своём укрытии. Она танцует под облаками.";
				6,7:
					"Её время почти наступило. Она насмехается над Богом, тыча своими
					острыми пальцами в Его глаза.";
			}
		],
		before [;
			Examine:
				return false;
			default:
				"Не отсюда.";
		],
		found_in cloister outside_calefactory tower belltower_bottom,
has		scenery female;

Object	scenic_tower "башн/я"
with	name 'башня' 'колокольн',
		description [;
			if (matteo_papers.been_read == true && constantin_dead in
			constantin_room)
				"Возвышаясь над пологом огня, башня разделяет небо. Языки пламени
				кружатся вокруг неё. В ярком свете пламени, ты видишь Сесилью,
				зовущую тебя.";
			if (matteo_papers.been_read == true)
				"Возвышаясь над пологом огня, башня разделяет небо. Языки пламени
				кружатся вокруг неё. В ярком свете пламени, ты видишь две борющиеся
				фигуры.";
			if (location == clearing)
				"Колокольня смеётся над тобой.";

			else
				"Колокольня возвышается надо всем остальным.";
		],
		before [;
			Examine:
				return false;
			default:
				"Не отсюда.";
		],
		found_in cloister outside_calefactory tower belltower_bottom clearing garden,
has		scenery female;

Object	vomit "рвот/а"
with 	name 'рвот' 'блевот' 'жиж' 'слюн' 'жидкость' 'капли',
		initial [;
			if (self.examined == false)
				"На земле капли тёмной, чёрно-красной жидкости.";
			if (location == cloister)
				"Следы рвоты ведут от отопительной к дортуару.";
			if (location == outside_calefactory)
				"Большая лужа рвоты растопила проталину в снегу.";
			if (location == dormitory)
				"Рвота тянется в келью Константина.";
			if (location == constantin_room)
				"Пол липкий от засыхающей рвоты.";
		],
		before [;
			Take:
				"Она скользит между твоими пальцами, пачкая их болезнью.";
			Smell:
				"Острый. Запах крови, почти потерянный среди разящего зловония
				рвоты.";
		],

		description [;
			if (cellar has visited)
				"Рвоту припорошило снегом.";
			if (self.examined == false) {
				self.examined = true;
				"Эта жидкость - мутная смесь чёрного с красным, в которой виднеются
				кусочки еды. Кровь и желчь: чумная рвота.";
			}
			else
				self.initial();
		],
		found_in [;
			if (time_shadow.current_time < 5)
				return false;
			if (location == outside_calefactory or cloister or dormitory or
			constantin_room)
				return true;
		],
		examined false,
has		static female;

Object	player_body "себя"
with	name 'руку' 'руки' 'ногу' 'ноги' 'лицо' 'кожу' 'пятна' 'тело',
		before [;
			Examine:
				<<Examine player>>;
			default:
				"Не нужно этого делать.";
		],
		found_in [;
			return true;
		],
has	 	static concealed scenery;

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!EYES
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Object	ignatius_eye "глаз/а Игната"
with	pname 'глаз' 'глаза' 'игната',
		
		description [;
			switch(time_shadow.current_time){

				default:
					"Он не моргает, только переводит взгляд туда-сюда.";
			}
		],

		after [;
			Examine:
				QuoteFrom(proverbs27_20);
		],
		found_in ignatius1 ignatius2 cellar_figure,
has		concealed proper pluralname;

Object	cecilia_eye "глаз/а Сесильи"
with	pname 'глаза' 'сесильи',
		description [;
			switch(time_shadow.current_time){
				0:
					"Они мерцают. Будто бабочки, сидящие на её лице.";
				default:
					"Голубые. Как ледяная вода.";
			}
		],

		after [;
			Examine:
				QuoteFrom(proverbs27_20);
		],
		found_in cecilia1 cecilia2 cecilia_body,
has		concealed pluralname;

Object	constantin_eye "глаз/а Константина"
with	pname 'глаза' 'константина',
		description [;
			switch(time_shadow.current_time){
				0:
					"Он смотрит на зайца, ловко водя ножом взад-вперёд.";
				1:
					"В них полыхает ярость.";
				2,3,4:
					"Белые шары, пересекаемые красными реками. Они подёргиваются.";
				default:
					"Они утопают в опухолях на лице.";
			}
		],

		after [;
			Examine:
				QuoteFrom(proverbs27_20);
		],
		found_in constantin1 constantin2 constantin3 constantin5 constantin_tower
		constantin_dead,
has		concealed proper pluralname;

Object	drogo_eye "глаз/а Дрого"
with	pname 'глаз' 'глаза' 'Дрого',
		description [;
			switch(time_shadow.current_time){
				0:
					"Они виднеются между прядями жирных волос, как всегда осторожные.";
				1:
					"Они искрятся ликованием.";
				3:
					"Они горят страстью. Нет, отчаянием.";
				default:
					"Они сверкают и гаснут: одновременно ясные, и в то же время, видящие
					только им доступные вещи.";
			}
		],

		after [;
			Examine:
				QuoteFrom(proverbs27_20);
		],
		found_in drogo1 drogo2 drogo3 drogo4,
has		concealed proper pluralname;

Object	lucca_eye "глаз/а Луки"
with	pname 'глаз' 'луки',
		description [;
			switch(time_shadow.current_time){
				0:
					"Они пылают глубоким красным светом, под наворачивающимися слезами.";
				default:
					"Океаны печали.";
			}
		],

		after [;
			Examine:
				QuoteFrom(proverbs27_20);
		],
		found_in lucca1 lucca2,
has		concealed proper pluralname;

Object	matteo_eye "глаз/а Матвея"
with	pname 'глаз' 'глаза' 'матвею' 'матвея',
		description [;
			switch(time_shadow.current_time){
				default:
					"Они глубоко посажены. Кажется, что его веки боятся оставаться открытыми.";
			}
		],
		after [;
			Examine:
				QuoteFrom(proverbs27_20);
		],
		found_in matteo1,
has		concealed proper pluralname;


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!SAINTS
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Saint	cuthbert "Свят/ой Кутберт/"
with	name 'кутберт' 'собак' 'ног' 'свят',
		description "Святой Кутберт величественно стоит, опираясь на свой посох,
		хотя заметно, что он страдает от болезни. Собака зализывает волдырь на
		его ноге.",
		before [;
			PrayThrough:
				if (sin_shadow.evil == true) {
					QuoteFrom(evil_pray_quote);
					"Огонь проходит по твоему телу, заставляя плоть кипеть. Опухоли
					волдырями появляются на тебе. Ты заходишься кашлем, не в силах
					вздохнуть, брызги крови и рвоты исторгаются из тебя. Уши раздирает
					многоголосым криком.
					^^Ты падаешь без сил, и боль постепенно уходит.";
				}
				if (self.plague_prayed == true)
					"Он сделал всё что мог.";
				else
					self.plague_prayed = true;
					"Он слаб, его ковчег разбит. Нарывы вскакивают на твоей коже,
					разрастаясь, как сорняки. Они ужасно болят, но вскоре проходят.
					Он не может помочь тебе.";
		],
		plague_prayed false,
has		male;

Saint	medard "Свят/ой Медард/"
with	name 'медард' 'орл' 'орёл' 'крылья' 'свят' 'нуайонского',
		description "Снег кружится за стеклом, но не прилипает к нему. Медард стоит
		прямо, орлиные крылья раскрыты за его спиной.",
		before [;
			PrayThrough:
				if (sin_shadow.evil == true) {
					QuoteFrom(evil_pray_quote);
					"Мурашки пробегают по твоим пальцам и ушам. Нет, скорее жжение. Ледяное
					жжение. Оно распространяется по твоим рукам и ногам,
					боль чувствуется несмотря на онемение. Вскоре возникает другое
					жжение. Красные волдыри набухают на коже. Они лопаются и, шелушась,
					падают на землю как снег.
					^^Ты кричишь, и со временем боль утихает.";
				}
				if (location == archway && time_shadow.current_time == 1 or 0)
					"Внезапно мороз проникает в тебя. Он просачивается в твои
					кости, превращая их в лёд. Затем кости оттаивают, и тепло
					расходится по конечностям. Он защищает тебя от холода, но не
					от ветра. Пламя свечи дрожит, едва не угасая.";
				if (location ~= pass)
					"Ты произносишь несколько коротких слов молитвы Святому Медарду.
					^^Если он и слышит, то не отвечает. Не сейчас.";
				else {
					if (self.pass_prayed == true)
						"Он сделал всё, что мог.";
					else
						self.pass_prayed = true;
						"Слова слетают с твоих губ, и тут же в твои пальцы и уши
						впивается мороз. Твои плечи обжигает, но это жжение другого
						рода. Заглянув под рясу, ты видишь, как твоя кожа краснеет и
						покрывается волдырями, будто ошпаренная.
						^^Со временем жжение проходит, и ты чувствуешь себя точно так
						же, как и прежде.";
				}
		],
		pass_prayed false,
has		male;

Saint	drausinus "Свят/ой Драусин/"
with	name 'драусин' 'кинжал' 'свят',
		description "Наёмный убийца крадётся в темноте, но ореол света, исходящий от
		Святого Драусина, разоблачает его. Он остаётся невредим.",
		before [;
			PrayThrough:
				if (sin_shadow.evil == true) {
					QuoteFrom(evil_pray_quote);
					"Желчная темнота сочится из земли, окутывая твои ноги, вращаясь
					вокруг тебя. Она затягивает тебя, рвёт одежду и плоть. Шрам, который
					ты получил во время аварии на ферме, раскрылся, тепло вытекает из
					него вместе с кровью, пропитывая рясу. Ты дрожишь. Темнота заползает
					тебе в глаза.
					^^Ты моргаешь, и всё становится таким же как прежде.";
				}
				if (self.night_prayed == true)
					"Ты закрывает глаза и начинаешь молитву. Она остаётся без ответа.
					^^Он уже помог тебе один раз.";
				if (location == your_bedroom && time_shadow.current_time == 1) {
					give your_door ~open;
					your_desk.against_door = true;
					self.night_prayed = true;
					"Темнота клочками наполняет комнату через окно, и танцует вокруг
					твоей головы. Медленнее. Быстрее. Она кружится и прыгает, поглощая
					весь свет в комнате. Она заползает в горло, забирая дыхание из
					лёгких. Грубый скрежет разносится по комнате. Стол ползёт по полу,
					пока не ударяется в дверь, надёжно подпирая её.
					^^Затем тьма рассеивается.";
				}

				if (location == cellar && self.cellar_prayed == false) {
					self.cellar_prayed = true;
					"Пока слова слетают с твоих губ, темнота вокруг тебя сгущается.
					Она поглощает воздух вокруг, и растекается по углам.";
				}
				if (location == cellar && self.cellar_prayed == true)
					"Он уже сделал всё, что мог.";
				if (location ~= your_bedroom || time_shadow.current_time ~= 1)
					"Не нужно. Не сейчас.";
		],
		cellar_prayed false,
		night_prayed false,
has		male;

Saint	cecilia "Сесиль/я"
with	pname 'сесилью' 'сесилье' 'сесилии' 'сесиль',
		before [;
			TalkTo:
				"Ты не видишь её.";
			PrayThrough:
				deadflag =true;
				"В тот момент, когда слова слетают с губ, дрожь охватывает твоё тело.
				Невидимые кулаки бьют тебе в живот; кровь выплескивается изо рта.
				^^Твой разум кричит. Сердце останавливается.";
			PrayTo:
				if (location == cellar && cellar_figure.incapacitated == false) {
				QuoteFrom(cecilia_cellar_quote);
				"Она с тобой.";
				}
				if (time_shadow.current_time == 1 && location == your_bedroom &&
				self.night_prayed == false) {
					self.night_prayed == true;
					"В тот момент, когда слова слетают с твоих губ, мягкое сияние
					разливается по комнате.
					^^@<<Я здесь, отец. Спасибо тебе за силу, она поможет мне.
					Но будь осторожен, многие здесь хотят навредить тебе. Спи
					чутко, отец. Мы ещё поговорим утром@>>.
					^^Её слова затихают в ночи, и ты чувствуешь как остаёшься один.";
				}
				if (location == new_church)
					"Она смеётся. @<<Не нужно формальностей, - произносит она, мягко
					касаясь твоего лица. Я не ценю подобные жесты@>>.";
				if (location ~= pass or stables && wolves notin location)
					"Ты произносишь несколько коротких слов Сесилье.
					^^Сейчас она ничего не может для тебя сделать.";
				if (location == pass) {
					if (self.pass_prayed == true)
						"Она уже сделала всё что могла.";
					else
						self.pass_prayed = true;
						"Слова слетают с твоих губ, и тут же мягкое сияние разливается
						вокруг твоей головы. Оно смывает холод и боль, окутывая тебя
						теплом.
						^^Постепенно, оно проходит, и ты чувствуешь себя точно так же,
						как и прежде.";
				}
				if (wolves in stables) {
					if (lamb in player) {
					remove lamb;
					StartTimer(time_shadow, 5);
					remove wolves;
					wolves.chasing = 0;
					"Со слезами на глазах, ты отчаянно умоляешь Сесилью услышать
					тебя. Волки окружают, готовясь напасть. Ты говоришь быстрее.
					Громче. Пожалуйста.
					^^Волки перестают рычать, и озадаченно смотрят на тебя.
					Ты прогоняешь их обратно в заросли, и всё затихает.
					^^Опасность миновала, ты аккуратно сбрасываешь ягнёнка. Он убегает
					с весёлым блеяньем.";
					}
					else
					remove lamb;
					remove wolves;
					StartTimer(time_shadow, 5);
					wolves.chasing = 0;
					"Со слезами на глазах, ты отчаянно умоляешь Сесилью услышать
					тебя. Волки окружают, готовясь напасть. Ты говоришь быстрее.
					Громче. Пожалуйста.
					^^Волки перестают рычать, и озадаченно смотрят на тебя.
					Ты прогоняешь их обратно в заросли, и всё затихает.";
				}
				if (wolves in location) {
					if (lamb in player || location == clearing) {
					remove lamb;
					StopDaemon(wolves);
					remove wolves;
					StartTimer(time_shadow, 5);
					wolves.chasing = 0;
					"Со слезами на глазах, ты отчаянно умоляешь Сесилью услышать
					тебя. Волки окружают, готовясь напасть. Ты говоришь быстрее.
					Громче. Пожалуйста.
					^^Вожак смыкает зубы на твоей руке, пытаясь перекусить её,
					но тут же тепло разливается по твоим конечностям, прогоняя
					озноб. Волк ослабляет хватку. Осторожно придерживая твою руку,
					он начинает зализывать только что нанесённую рану. Убедившись в
					собственной безопасности, ты прогоняешь волков.
					^^Опасность минует, и ты отпускаешь ягнёнка. Он ластится к тебе
					некоторое время, а затем убегает в кусты с жизнерадостным блеяньем.";
					}
					else
					StopDaemon(wolves);
					remove wolves;
					StartTimer(time_shadow, 5);
					wolves.chasing = 0;
					"Со слезами на глазах, ты отчаянно умоляешь Сесилью услышать
					тебя. Волки окружают, готовясь напасть. Ты говоришь быстрее.
					Громче. Пожалуйста.
					^^Вожак смыкает зубы на твоей руке на, пытаясь перекусить её,
					но тут же тепло разливается по твоим конечностям, прогоняя
					озноб. Волк ослабляет хватку. Осторожно придерживая твою руку,
					он начинает зализывать только что нанесённую рану. Убедившись в
					собственной безопасности, ты прогоняешь волков.";
				}
				if (location ~= stables ||(location == stables && horse notin
				stables))
					"Ты произносишь несколько коротких слов Сесилье.
					^^@<<Сейчас я ничего не могу для тебя сделать@>>, - говорит она.
					Её голос звучит успокаивающе.";
				if (location == stables && self.stable_prayed == false && horse_stall has open) {
					self.stable_prayed = true;
					horse.released = true;
					"Ты закрываешь глаза и начинаешь молитву. Волны тепла прокатываются
					по твоим конечностям, прогоняя холод.
					^^Дикие глаза лошади внезапно затуманиваются и наполняются грустью.
					Она медленно и покорно подходит, и утыкается в тебя мордой.";
				}
				if (location == stables && self.stable_prayed == false) {
					self.stable_prayed = true;
					"Ты закрываешь глаза и начинаешь молитву. Волны тепла прокатываются
					по твоим конечностям, прогоняя холод. Игривое ржание лошади вырывает
					тебя из грёз.";
				}
				if (location == stables && self.stable_prayed == true)
					"Она уже сделала всё, что могла.";
				default:
					"Она не здесь. По крайней мере, её тело.";
		],
		stable_prayed false,
		pass_prayed false,
		night_prayed false,
has		female;

Saint	francis "Свят/ой Франциск/"
with	name 'свят' 'франциск' 'птиц' 'волков' 'ассизского',
		description "Святой Франциск стоит. На его плечах сидят птицы, а
		под ногами - волки. Его лицо спокойно.",
		before [;
			PrayThrough:
				if (sin_shadow.evil == true) {
					QuoteFrom(evil_pray_quote);
					"Вой ветра заполняет всё вокруг, заставляя твои кости дрожать.
					Внезапно налетевшая стая ворон оглушает карканьем, почти заглушая
					попискивание снизу. Крысы. Они кишат под твоими ногами, кусаясь,
					неистово разрывая плоть. Они стремительно меняют окрас с серого на
					ржавый, по мере того, как мех пропитывается кровью. Ты спотыкаешься,
					и они поглощают тебя, увлекая в бурлящий поток грубой шерсти.
					^^Ты открываешь глаза, и они исчезают.";
				}
				if (self.stable_prayed == true)
					"Ты закрываешь глаза и начинаешь молитву. Она остаётся без ответа.
					^^Один раз он тебе уже помог, и ты полагаешь что этого достаточно.";
				if (wolves in stables) {
					if (lamb in player) {
					remove lamb;
					StartTimer(time_shadow, 5);
					remove wolves;
					wolves.chasing = 0;
					"Слёзы наполняют твои глаза, ты отчаянно умоляешь Святого Франциска
					услышать тебя. Волки сжимают кольцо, готовясь к прыжку. Ты молишься
					ещё быстрее. Громче. Пожалуйста.
					^^Волки перестают рычать, и озадаченно смотрят на тебя. Ты прогоняешь
					их обратно в кусты и всё стихает.
					^^Опасность уходит, и ты осторожно сбрасываешь ягнёнка. Он убегает
					с жизнерадостным блеяньем.";
					}
					else
					remove lamb;
					remove wolves;
					StartTimer(time_shadow, 5);
					wolves.chasing = 0;
					"Слёзы наполняют твои глаза, ты отчаянно умоляешь Святого Франциска
					услышать тебя. Волки сжимают кольцо, готовясь к прыжку. Ты молишься
					ещё быстрее. Громче. Пожалуйста.
					^^Волки перестают рычать и озадаченно смотрят на тебя. Ты прогоняешь
					их обратно в кусты и всё стихает.";
				}
				if (wolves in location) {
					if (lamb in player || location == clearing) {
					remove lamb;
					StopDaemon(wolves);
					remove wolves;
					StartTimer(time_shadow, 5);
					wolves.chasing = 0;
					"Слёзы наполняют твои глаза, ты отчаянно умоляешь Святого Франциска
					услышать тебя. Волки сжимают кольцо, готовясь к прыжку. Ты молишься
					ещё быстрее. Громче. Пожалуйста.
					^^Вожак смыкает зубы на твоей руке, пытаясь перекусить её,
					но тут же тепло разливается по твоим конечностям, прогоняя
					озноб. Волк ослабляет хватку. Осторожно придерживая твою руку,
					он начинает зализывать только что нанесённую рану. Убедившись в
					собственной безопасности, ты прогоняешь волков.
					^^Опасность минует, и ты отпускаешь ягнёнка. Он ластится к тебе
					некоторое время, а затем убегает в кусты с жизнерадостным блеяньем.";
					}
					else
					StopDaemon(wolves);
					remove wolves;
					StartTimer(time_shadow, 5);
					wolves.chasing = 0;
					"Слёзы наполняют твои глаза, ты отчаянно умоляешь Святого Франциска
					услышать тебя. Волки сжимают кольцо, готовясь к прыжку. Ты молишься
					ещё быстрее. Громче. Пожалуйста.
					^^Вожак смыкает зубы на твоей руке на, пытаясь перекусить её,
					но тут же тепло разливается по твоим конечностям, прогоняя
					озноб. Волк ослабляет хватку. Осторожно придерживая твою руку,
					он начинает зализывать только что нанесённую рану. Убедившись в
					собственной безопасности, ты прогоняешь волков.";
				}
				if (location ~= stables ||(location == stables && horse notin
				stables))
					"Ты произносишь несколько коротких слов Святому Франциску.
					^^Если он и слышит, то не желает отвечать. По крайней мере, сейчас.";
				if (location == stables && self.stable_prayed == false && horse_stall has open) {
					self.stable_prayed = true;
					horse.released = true;
					"Ты закрываешь глаза и начинаешь молитву. Волны тепла прокатываются
					по твоим конечностям, прогоняя холод. Однако, когда они достигают груди,
					то превращаются в ледяную черноту. Она сворачивается внутри, сокращаясь и
					расширяясь. Когда тебе уже начинает казаться, что она вот-вот взорвётся,
					пульсирование стихает.
					^^Дикие глаза лошади внезапно затуманиваются, и наполняются грустью.
					Она медленно и покорно подходит и утыкается в тебя мордой.";
				}
				if (location == stables && self.stable_prayed == false) {
					self.stable_prayed = true;
					"Ты закрываешь глаза, и начинаешь молитву. Волны тепла прокатываются
					по твоим конечностям, прогоняя холод. Однако, когда они достигают груди,
					то превращаются в ледяную черноту. Она сворачивается внутри, сокращаясь и
					расширяясь. Когда тебе уже начинает казаться, что она вот-вот взорвётся,
					пульсирование стихает.";
				}
				if (location == stables && self.stable_prayed == true)
					"Он сделал всё что мог.";

		],
		stable_prayed false,
has		male;

Saint	god "Бог/"
with	name 'бог' 'иисус' 'иегов' 'господ' 'отцу',
		react_before [;
			Pray:
				print "(Богу)^";
				<<PrayThrough self>>;
		],
		before [;
			Examine:
				"Он слишком далеко, чтобы увидеть.";
			PrayThrough:
				if (sin_shadow.evil == true)
					"Его крик раскалывает твой разум. Он зол. Он в ярости.";
				switch(time_shadow.current_time) {
					0:
						if (location == church && sin_shadow.evil == false && self.
						prayed_church == false) {
						self.prayed_church = true;
						"Ты закрываешь глаза и читаешь вечерние молитвы. Слова механически
						слетают с твоего языка; они оседают золой на губах. Когда ты
						заканчиваешь, на твоём сердце остаётся такая же тяжесть, как и раньше.";
						}
						else
						"Тепло расходится по твоему телу. Он с тобой.";
					1:
						"Ничего. Ты не чувствуешь его.";
					2:
						"Холод и тьма. Он отказывается слушать.";
					3,4:
						"Твоя голова раскалывается, его голос протекает в тебе, как масло.";
					default:
					"Его крик раскалывает твой разум. Он зол. Он в ярости.";
				}
		],
		prayed_church false,
has		male;

Saint	devil "Дьявол/"
with	name 'дьявол' 'сатан' 'люцифер' 'злу',

		before	[;
			Examine:
				"Он близко, но ты не можешь увидеть его.";
			PrayThrough:
				deadflag = true;
				"Когда слова соскальзывают с губ, дрожь охватывает твоё тело.
				Невидимые кулаки вонзаются в живот, кровь выплёскивается изо рта.
				^^Твой разум захлёбывается криком. Сердце останавливается.";
			PrayTo:
				if (self.prayed == false) {
					self.prayed = true;
					sin_shadow.evil = true;
					"Ты закрываешь глаза и подготавливаешь себя. @<<Пожалуйста, Сатана, - начинаешь
					ты. Слова даются тебе с трудом. Они режут горло, выходя. - Пожалуйста,
					Сатана, избавь меня от чумы, и я отдам тебе свою душу@>>, - слова медленно,
					подобно чёрной смоле, впитываются в землю.
					^^Десятки уродливых рук протягиваются в ответ из земли, забирая черноту и болезнь,
					терзающие твоё тело и душу. Они кружатся и танцуют. Прежде чем скрыться
					обратно под землю, одна из них задерживается. Она пробирается по твоей
					ноге, и, скользнув по груди, проникает внутрь, тут же появляясь снова,
					зажав в костистых пальцах крошечный светящийся шарик. Рука с добычей падает
					на землю, и тут же исчезает.
					^^Всё кончено.";
				}
				else
					"Он уже владеет твоей душой. Тебе больше нечего предложить.";
		],
		prayed false,
has		~proper male;

Saint	mary "Мар/ия"
with	pname 'марии' 'мария' 'мари' 'дев',
		before [;
			PrayThrough:
				if (sin_shadow.evil == true)
				"Скорбный плач эхом разносится у тебя в голове.";
				switch(time_shadow.current_time) {
					0:
						"Ты чувствуешь её присутствие. Оно наполняет тебя теплом и радостью.";
					1:
						"Она молчит.";
					default:
						"Ты слышишь только плач.";
			}
		],
has	female;


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!MISCELLANEOUS QUOTES
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

!Есфирь 1:11
!Они привели царицу Астинь пред лице царя в венце царском для того, чтобы показать
!народам и князьям красоту ее; потому что она была очень красива.

!Job 40:10
!Deck thyself now with majesty and excellency; and array thyself with glory and
!beauty.

!Isaiah 3:24
!And it shall come to pass, that instead of sweet smell there shall be stink; and
!instead of a girdle a rent; and instead of well set hair baldness; and instead of a
!stomacher a girding of sackcloth; and burning instead of beauty.

!2 Samuel 11:2
!And it came to pass in an eveningtide, that David arose from off his bed, and walked
!upon the roof of the king's house: and from the roof he saw a woman washing herself;
!and the woman was very beautiful to look upon.

!Isaiah 64:11
!Our holy and our beautiful house, where our fathers praised thee, is burned up with
!fire: and all our pleasant things are laid waste.


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!ENTRY POINT ROUTINES
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

[ DayOne k;
  @erase_window -1; print "^";
  k = 0->33; if (k > 30) k = (k-30)/2;
  style bold; font off; spaces(k);
  print "       День Первый";
  style roman; print "^^"; spaces(k);
  print "^^^^^^^";

  font on;
  box
  	 	"Страннолюбия не забывайте,"
  		"ибо через него некоторые, не зная,"
  		"оказали гостеприимство Ангелам."
  		""
  		"                -- К Евреям 13:2"
  		;
  @read_char 1 -> k;
  @erase_window -1;
];

[ DayTwo k;
  @erase_window -1; print "^";
  k = 0->33; if (k > 30) k = (k-30)/2;
  style bold; font off; spaces(k);
  print "        День Второй";
  style roman; print "^^"; spaces(k);
  print "^^^^^^^";

  font on;
  box
		"Душа моя среди львов; "
		"я лежу среди дышущих пламенем, "
		"среди сынов человеческих, "
		"у которых зубы - копья и стрелы, "
		"и у которых язык - острый меч. "
		""
		"                   -- Псалтирь 57:4"
  		;
  @read_char 1 -> k;
  @erase_window -1;
];

[ DayThree k;
  @erase_window -1; print "^";
  k = 0->33; if (k > 30) k = (k-30)/2;
  style bold; font off; spaces(k);
  print "       День Третий";
  style roman; print "^^"; spaces(k);
  print "^^^^^^^";

  font on;
  box
		"И неудивительно: потому что сам сатана"
		"принимает вид Ангела света."
		""
		"           -- 2-е Коринфянам 11:14"
  		;
  @read_char 1 -> k;
  @erase_window -1;
];

[ DrawStatusLine width j;
  ! get the width of the status bar, and go into the status bar font
  ! and so on
  width = 0->33;
  font off;
  @split_window 1; @buffer_mode 0; @set_window 1;
  style reverse; @set_cursor 1 1; spaces(width);

  ! go to column 2 and print the location name
  @set_cursor 1 2;
  PrintShortName(location);

  ! we want to print the other text ending at column (width-2),
  ! which means we have to print it to a temporary array and then
  ! work out its length
  @output_stream 3 statusbar_temp;
  print (string) statusbar_right;
  @output_stream -3;

  ! its length is in statusbar_temp-->0, so step back that many chars,
  ! plus 2 more, from the right side of the status bar:
  j = (width - (statusbar_temp-->0) - 2);
  @set_cursor 1 j; print (string) statusbar_right;

  ! and turn off all the statusbar printing fonts and stuff:
  style roman; @buffer_mode 1; @set_window 0; font on;
];


![ DrawStatusLine;
!  @split_window 1; @set_window 1; @set_cursor 1 1; style reverse;
!  spaces (0->33);
!  @set_cursor 1 2;  PrintShortName(location);
!  if (1 == 1)
!  		switch(time_shadow.current_time) {
!      0:
!      @set_cursor 1 105; print "Вечерня",;
!      1:
!      @set_cursor 1 103; print "Повечерие",;
!      2:
!      @set_cursor 1 107; print "Утреня",;
!      3:
!      @set_cursor 1 107; print "Похвалы",;
!      4:
!      @set_cursor 1 107; print "Первый час",;
!      5:
!      @set_cursor 1 107; print "Третий час",;
!      6:
!      @set_cursor 1 108; print "Шестой час",;
!      7:
!      @set_cursor 1 108; print "Девятый час",;
!      8:
!      @set_cursor 1 105; print "Вечерня",;
!      9:
!      @set_cursor 1 105; print "",;
!      default:
!      @set_cursor 1 105; print "ERROR",;
!      }
!  @set_cursor 1 1; style roman; @set_window 0;
!];

[ DeathMessage ;
	if (deadflag == 4)
		print "Это конец";
	if (deadflag == 3)
		print "Это конец";
	if (deadflag == 5)
		print "Это конец";
	else
		return false;
];

[ ChooseObjects obj code;
  if (code < 2) { if (obj has scenery or animate or static) return 2; rfalse; }
  if (action_to_be == ##TalkTo && obj has animate) return 3;
  if (action_to_be == ##Eat && obj has edible) return 3;
  if (action_to_be == ##Enter && obj has supporter) return 3;
  if (action_to_be == ##Open && obj has openable) return 3;
  if (obj hasnt scenery) return 2;
  return 1;
];


[ Initialise;
		statusbar_right = "Вечерня";
		StartDaemon(plague_shadow);
		move constantin_tools to constantin_room;
		move dove to path;
		move hatch_lock to kitchen;
		move hay to stables;
		move holy_water to church_font;
!		move journal to player;
		move your_frock to player;
		move your_candle to player;
		move tinderbox to player;
		give your_frock worn;
		move your_bedding to your_bed;
		move constantin1 to constantin_room;
		move drogo1 to refectory;
		move ignatius1 to church;
		move matteo1 to tower;
!		move knife to cutlery_rack;
		move cecilia_food to cupboard;
		DayOne();
		location = your_bedroom;
		lookmode = 2;
		style underline;
		print
		"
		^^Прошло пять дней. Пять дней с тех пор, как я принял решение.
		Пять дней с тех пор, как я закрыл ворота.^^
		На самом деле, у меня не оставалось выбора. Ровато был проклят, свидетельством чему был первый признак:
		кровавый кашель исторгся изо рта оборванца. Дать больным убежище
		в монастыре Преподобного Кутберта, значило также навлечь на нас проклятье.^^
		Но мы уже были прокляты.^^
		Чума пришла. И теперь наш черёд страдать.^^
		";
		style roman;
];


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!GRAMMAR
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Include "RussiaG";



[ ScoreSub ;
	if (deadflag == 0)
	"В этой игре нет очков.";

];

[ ReadSub;
  <<Examine noun>>;
];

[ WhoisSub;
	"Ты не знаешь, кто это.";
];
             
[ ExtinguishSub;
	"Не горит.";
];

[ PrayToSub;

	if (noun == god)
		<<PrayThrough noun>>;
	if (noun ofclass Saint && noun ~= god) {
		sin_shadow.total_sin = sin_shadow.total_sin + 5;
		<<PrayThrough noun>>;
	}
	else
		"Ты произносишь несколько слов молитвы, но они остаются неуслышанными.";
];

[ HideSub;
	"Здесь негде спрятаться.";
];

[ PetSub;
	"Это не приведёт ни к чему хорошему.";
];

[ FeedSub;
	if (hay notin player|| cecilia_food notin player || lamb notin player || hare
	notin player)
		"У тебя нет еды.";
	if (noun has male)
		"Он не голоден.";
	if (noun has female)
		"Она не голодна.";

];

[ TripSub;
	"В этом нет необходимости.";
];

[ UnmaskSub;
	"В этом нет необходимости.";
];

[ TalkToSub;
	if (location == locutory && cecilia1.woken == true)
		"Она медленно просыпается.";
	else
	"Нет ответа.";
];

[ KillSub;
	<<Attack noun>>;
];

[ SleepWithSub;
	if (noun == player)
		<<Masturbate>>;
	else
	"Ты не можешь.";
];

[ MasturbateSub;
	if (sin_shadow.masturbated == true)
		"Ты иссяк.";
	else
		QuoteFrom(masturbate_quote);
		sin_shadow.masturbated = true;
		sin_shadow.evil = true;
		"Медленно, ты ласкаешь себя через рясу. Быстро. Быстрее. Через несколько
		мгновений ты кончаешь: семя освобождается.";

];

[ KneelSub;
	if (location ~= church or chancel)
		"Не в этом месте.";
	else
		"Ты преклоняешь колени, они хрустят от старости.";
];

[ InviteSub;
	"Не нужно.";
];

[ PrayThroughSub;
	if (noun ofclass Saint)
		return false;
	else
		"Ты произносишь несколько слов молитвы, но они остаются неуслышанными.";
];

[ MakeSub;
		"Ты не можешь этого сделать.";
];

[ ShoutSub;
	"Ты кричишь в глухие уши.";
];

[ BurySub;
	"Не нужно.";
];

[ RepentSub;
	if (sin_shadow.evil == true)
	"Эти слова обожгли твой язык. Такое Бог не прощает.";
	else
	"Ты пробормотал несколько суетливых слов. Они высохли и раскрошились во рту.";
];

[ PrayForSub;
	"Ты пробормотл несколько суетливых слов. Они высохли и раскрошились во рту.";
];

[ HelpPersonSub;
	if (noun hasnt animate)
	"Ты не можешь помочь этому.";
	if (noun has female)
	"Ей не нужна твоя помощь.";
	else
	"Ему не нужна твоя помощь.";
];

[ ScratchSub;
		"Ты яростно чешешься некоторое время. Чесотка не прекращается, но безумие слегка
		ослабевает.";
];

[ AlternativesSub;
	alternatives_menu.select();
];

[ WalkthruMiddleSub;
"о себя
^з
^открыть коробок
^взять монетку
^с
^в
^ю
^говорить с лукой
^говорить с лукой
^говорить с лукой
^поднять камень
^с
^юв
^говорить с константином
^говорить с константином
^говорить с константином
^говорить с константином
^с
^з
^св
^вверх
^говорить с матвеем
^говорить с матвеем
^говорить с матвеем
^говорить с матвеем
^вниз
^юз
^с
^говорить с игнатом
^говорить с игнатом
^говорить с игнатом
^говорить с игнатом
^с
^читать библию
^ю
^ю
^з
^говорить с дрого
^говорить с дрого
^говорить с дрого
^говорить с дрого
^говорить с дрого
^о царапины
^ю
^открыть сервант
^посмотреть в сервант
^взять еду
^открыть люк
^с
^в
^ю
^открыть дверь
^подобрать девушку
^з
^положить девушку на кровать
^зажечь камин
^в
^в
^взять одеяло
^з
^з
^укрыть девушку одеялом
^дать еды девушке
^о девушку
^говорить с девушкой
^говорить с девушкой
^в
^с
^св
^говорить с дрого
^говорить с дрого
^говорить с дрого
^z
^юз
^юв
^говорить с лукой
^говорить с лукой
^говорить с лукой
^говорить с лукой
^говорить с лукой
^говорить с лукой
^говорить с лукой
^сз
^св
^обыскать матвея
^прочитать блокнот
^юз
^в
^юв
^говорить с константином
^говорить с константином
^говорить с константином
^с
^с
^говорить с игнатом
^говорить с игнатом
^говорить с игнатом
^говорить с игнатом
^ю
^з
^ю
^з
^говорить с девушкой
^говорить с девушкой
^говорить с девушкой
^говорить с девушкой
^в
^в
^помолиться сесилье
^передвинуть стол
^спать
^слушать
^спрятаться
^
^
^з
^говорить с сесильей
^говорить с сесильей
^с
^юв
^говорить с константином
^говорить с константином
^говорить с константином
^о дыру
^сз
^с
^с
^о матвея
^говорить с дрого
^говорить с дрого
^говорить с дрого
^говорить с матвеем
^говорить с матвеем
^говорить с матвеем
^ю
^ю
^ю
^ю
^з
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^в
^ю
^ю
^о голубь
^в
^о стойла
^покормить лошадь
^помолиться сесилье
^открыть ворота
^з
^ю
^о следы
^о насыпи
^выкопать насыпи
^залезть на лошадь
^о следы
^о реку
^о мешок
^вытащить луку
^обыскать луку
^прочитать клочок
^говорить с лукой
^говорить с лукой
^говорить с лукой
^залезть на лошадь
^слушать
^о фигуру
^с
^о лавину
^помолиться
^помолиться сесилье
^с
^с
^в
^св
^с
^взять ягненка
^ю
^юз
^вверх
^бросить ягненка волкам
^вниз
^з
^з
^внутрь
^о кровати
^о следы
^выйти
^сз
^о кресты
^выкопать кресты
^юв
^в
^с
^с
^з
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^в
^с
^в
^юв
^положить воск в ухо константину
^взять ключи
^с
^з
^з
^ю
^открыть замок ключом
^вниз
^зажечь свечу
^взять кочергу
^о тела
^погасить свечу
^спрятаться за лестницей
^ударить мужчину
^выйти
^о фигуру
^обыскать фигуру
^вверх
^с
^в
^в
^ю
^открыть плиту
^взять листки
^прочитать листки
^esc
^c
^з
^св
^вверх
^столкнуть константина
^
^
^ж
^ж
^ж
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^вверх
^конец
";
];

[ WalkthruGoodSub;
	"о себя
^з
^открыть коробок
^взять монетку
^с
^в
^ю
^говорить с лукой
^говорить с лукой
^говорить с лукой
^помочь луке
^поднять камень
^с
^юв
^говорить с константином
^говорить с константином
^говорить с константином
^говорить с константином
^с
^з
^св
^вверх
^говорить с матвеем
^говорить с матвеем
^говорить с матвеем
^говорить с матвеем
^вниз
^юз
^с
^говорить с игнатом
^говорить с игнатом
^говорить с игнатом
^о окна
^о франциска
^о медарда
^о драусина
^о кутберта
^с
^читать библию
^ю
^ю
^з
^говорить с дрого
^говорить с дрого
^говорить с дрого
^говорить с дрого
^о царапины
^ю
^открыть сервант
^посмотреть в сервант
^взять еду
^открыть люк
^с
^в
^ю
^открыть дверь
^подобрать девушку
^з
^положить девушку на кровать
^зажечь камин
^в
^в
^взять одеяло
^з
^з
^укрыть девушку одеялом
^дать еды девушке
^о девушку
^говорить с девушкой
^говорить с девушкой
^в
^с
^св
^о матвея
^говорить с дрого
^говорить с дрого
^говорить с дрого
^юз
^юв
^говорить с лукой
^говорить с лукой
^говорить с лукой
^говорить с лукой
^говорить с лукой
^говорить с лукой
^сз
^св
^обыскать матвея
^прочитать блокнот
^юз
^в
^юв
^говорить с константином
^говорить с константином
^говорить с константином
^спросить константина про зайца
^взять зайца
^с
^с
^говорить с игнатом
^говорить с игнатом
^говорить с игнатом
^говорить с игнатом
^ю
^з
^ю
^з
^говорить с девушкой
^говорить с девушкой
^говорить с девушкой
^говорить с девушкой
^в
^в
^передвинуть стол
^спать
^слушать
^спрятаться
^
^
^з
^говорить с сесильей
^говорить с сесильей
^с
^юв
^говорить с константином
^говорить с константином
^говорить с константином
^о дыру
^сз
^с
^с
^говорить с дрого
^говорить с дрого
^говорить с дрого
^о матвея
^ю
^ю
^ю
^ю
^з
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^в
^ю
^ю
^о голубь
^в
^о стойла
^покормить лошадь
^помолиться франциску
^открыть ворота
^з
^ю
^о следы
^о насыпи
^выкопать насыпи
^залезть на лошадь
^о следы
^о реку
^о мешок
^вытащить луку
^обыскать луку
^прочитать клочок
^залезть на лошадь
^слушать
^о фигуру
^помолиться медарду
^ж
^ж
^ж
^с
^с
^в
^св
^с
^взять ягненка
^ю
^юз
^вверх
^бросить зайца волкам
^вниз
^з
^з
^внутрь
^о кровати
^о следы
^выйти
^сз
^о кресты
^выкопать кресты
^юв
^в
^с
^с
^з
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^в
^с
^о капли
^юв
^о снег
^раскопать снег
^сз
^з
^ю
^сломать замок
^вниз
^зажечь свечу
^взять кочергу
^о тела
^погасить свечу
^спрятаться за лестницей
^помолиться драусину
^выйти
^о фигуру
^обыскать ее
^вверх
^с
^в
^в
^ю
^открыть плиту кочергой
^взять листки
^прочитать листки
^esc
^c
^з
^св
^вверх
^столкнуть сесилью
^
^
^ж
^ж
^ж
^ж
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^говорить с сесильей
^покаяться
^вверх";
];

[ WalkthruEvilSub;
"о себя
^з
^открыть коробок
^взять монетку
^с
^в
^ю
^говорить с лукой
^говорить с лукой
^говорить с лукой
^вытащить камень
^с
^юв
^говорить с константином
^говорить с константином
^говорить с константином
^говорить с константином
^с
^з
^св
^вверх
^говорить с матвеем
^говорить с матвеем
^говорить с матвеем
^говорить с матвеем
^столкнуть матвея
^вниз
^обыскать матвея
^читать блокнот
^юз
^с
^говорить с игнатом
^говорить с игнатом
^говорить с игнатом
^ю
^з
^говорить с дрого
^говорить с дрого
^говорить с дрого
^говорить с дрого
^говорить с дрого
^о царапины
^ю
^открыть люк
^с
^в
^ю
^открыть входную дверь
^взять девушку
^з
^положить девушку на кровать
^ударить девушку
^ж
^говорить с девушкой
^говорить с девушкой
^в
^с
^св
^говорить с дрого
^говорить с дрого
^говорить с дрого
^ж
^юз
^юв
^говорить с лукой
^сз
^в
^юв
^говорить с константином
^говорить с константином
^говорить с константином
^с
^с
^говорить с игнатом
^говорить с игнатом
^говорить с игнатом
^говорить с игнатом
^ю
^з
^ю
^з
^г с девушкой
^г с девушкой
^г с девушкой
^в
^в
^помолиться сесилье
^подвинуть стол
^спать
^слушать
^спрятаться
^
^
^з
^г с сесильей
^г с сесильей
^с
^юв
^г с константином
^г с константином
^г с константином
^о дыру
^сз
^г с дрого
^ж
^г с дрого
^г с дрого
^г с дрого
^о матвея
^ю
^ю
^ю
^ю
^з
^г с сесильей
^г с сесильей
^г с сесильей
^в
^ю
^ю
^о голубя
^о следы
^в
^о стойла
^покормить лошадь
^ударить лошадь
^открыть ворота
^з
^ю
^о насыпи
^раскопать насыпь
^залезть на лошадь
^о следы
^о реку
^о мешок
^вытащить луку
^обыскать луку
^прочитать бумаг
^залезть на лошадь
^слушать
^о фигуру
^убить лошадь
^спрятаться за лошадью
^ж
^ж
^с
^с
^в
^св
^с
^о ягненка
^помолиться сесилье
^ю
^юз
^з
^з
^сз
^о кресты
^раскопать могилы
^раскопать кресты
^юв
^внутрь
^о кровати
^о следы
^выйти
^в
^с
^с
^з
^г с сесильей
^г с сесильей
^г с сесильей
^в
^с
^в
^юв
^убить константина
^взять ключи
^с
^з
^з
^ю
^открыть люк ключами
^вниз
^зажечь свечу
^взять кочергу
^о трупы
^спрятаться в трупах
^ж
^ударить человека
^вылезти
^о фигуру
^обыскать его
^вверх
^с
^в
^в
^ю
^открыть плиту кочергой
^взять листки
^прочитать их
^esc
^с
^з
^св
^вверх
^
^
^ж
^ж
^ж
^ж
^г с сесильей
^г с сесильей
^г с сесильей
^г с сесильей
^г с сесильей";
];

[ BrothersSub;
	"Братья:
	^^Дрого, Матвей, Константин, Лука, и Игнат.";
];

[ SaintsSub;
	"Святые:
	^^Медард, Франциск, Кутберт, и Драусин.";
];

[ SellSub;
	<<PrayTo devil>>;
];

[ QuotesOnSub;
	misc_shadow.quotes_on = true;
	"Цитаты включены.";
];

[ QuotesOffSub;
	misc_shadow.quotes_on = false;
	"Цитаты отключены.";
];


Verb meta 'братья'
* -> Brothers;

Verb meta 'святые'
* -> Saints;

Verb 'царап'
* -> Scratch
* 'себя' -> Scratch
* 'кожу' -> Scratch;

Object "царапать" VerbDepot
	with name 'царап';

Verb 'чес'
* 'себя' -> Scratch
* -> Scratch;

Object "чесать" VerbDepot
	with name 'чес';

Extend 'чит' first * legible -> Read;

!Verb 'who'
!* 'is' topic -> Whois;
Verb 'кто'
* topic -> Whois
* 'такой' topic -> Whois;

Verb 'пн'
* cAcc_noun -> Attack;

Object "пнуть" VerbDepot
	with name 'пн';

Verb 'звон'
* 'в'/'во' cAcc_noun -> Attack;

Object "звонить" VerbDepot
	with name 'звон';

!Extend 'см' last
!* -> Look
!* scope = TopicScope 'в'/'во' cPre_noun	-> Consult reverse
!* 'в'/'во' cPre_noun scope = TopicScope -> Consult;

Extend 'чит' first
* 'о'/'об' scope = TopicScope 'в'/'во' cPre_noun	-> Consult reverse
* 'в'/'во' cPre_noun 'о'/'об' scope = TopicScope -> Consult;

!Extend 'иск' first
!* scope = TopicScope 'в'/'во' cPre_noun	-> Consult reverse
!* 'в'/'во' cPre_noun scope = TopicScope -> Consult;

!Extend 'consult' first
!    * noun 'about' scope = TopicScope 	-> Consult;

Extend 'спрос' first
    * creature 'о'/'об'/'про' scope = TopicScope -> Ask
    * creature 'о'/'об'/'про' topic -> Ask;

!Extend 'сказ' first
!* creature 'о'/'об' scope = TopicScope -> Tell;
Extend 'сказ' first
    * creature 'о'/'об'/'про' scope = TopicScope -> Tell
    * creature 'о'/'об'/'про' topic -> Tell;

Extend 'ответ' first
	* cDat_creat 'про'/'о'/'об' scope = TopicScope -> Answer reverse
    * 'про'/'о'/'об' scope = TopicScope cDat_creat 	-> Answer;

!Extend 'put'
!* 'out' noun -> Extinguish;

Verb 'туш'
* cAcc_noun -> Extinguish;

Object "тушить" VerbDepot
	with name 'туш';

Verb 'накр' 'укр'
* cAcc_noun cIns_noun -> PutOn reverse;

Object "укрыть" VerbDepot
	with name 'накр' 'укр';

Extend 'ду' first
* 'на' cAcc_noun -> Extinguish
* cAcc_noun -> Extinguish; ! "задуть"
!* cAcc_held	-> Extinguish;

Extend 'бр'
* 'на' cAcc_noun -> Climb; ! "забраться на"
 
Verb 'вылез' 'слез' ! вылезти, слезть
* -> Exit
* 'из'/'с' cGen_noun -> Exit
* 'в' cAcc_noun -> Enter;

Verb 'спуститься'
* -> Exit
* 'с' cGen_noun -> Exit;

Extend 'прыг'
* 'в'/'во' cAcc_noun -> Climb
* 'на' cAcc_noun -> Climb;

Extend 'прыг'
* 'вниз' -> GetOff;

Verb 'спрыгн'
* -> GetOff;
!* 'вниз' -> GetOff;

Object "спрыгнуть" VerbDepot
	with name 'спрыгн';

Verb 'пуст'
* cAcc_noun -> Drop;

Object "отпустить" VerbDepot
	with name 'пуст';

!Verb 'let'
!* noun 'go' -> Drop
!* noun 'out' -> Drop;

!Verb 'release'
!* noun -> Drop;


Extend 'мол'
* 'о'/'об' cPre_noun -> PrayFor
* 'за' cAcc_noun -> PrayFor
* cDat_noun -> PrayTo
* 'через' cAcc_noun -> PrayThrough
* 'богу' 'через' cAcc_noun -> PrayThrough;

Verb 'прят'
* -> Hide
* 'за'/'под' noun -> Hide
* 'в'/'во' noun -> Hide;

Verb 'поднять' 
* cAcc_multi -> Take;

Verb 'цеп' 
* cAcc_multi -> Take;

Object "подцепить" VerbDepot
	with name 'цеп';

Object "прятаться" VerbDepot
	with name 'прят';

Verb 'глад'
* animate -> Pet;

Object "гладить" VerbDepot
	with name 'глад';

Verb 'корм'
* animate -> Feed;

Object "кормить" VerbDepot
	with name 'корм';

Verb 'седл'
* noun -> Enter;

Object "седлать" VerbDepot
	with name 'седл';

!Verb 'бить'
!* noun -> Attack;

Extend 'брос'
* cAcc_noun cDat_noun -> Give
* cDat_noun cAcc_noun -> Give reverse;

!Verb 'free'
!* noun -> Drop;

Verb 'отвяз'
* cAcc_noun -> Drop;

Object "отвязать" VerbDepot
	with name 'отвяз';

Extend 'коп' first
* -> Dig;

Verb 'раскоп'
* -> Dig
* cAcc_noun -> Dig;

Object "раскопать" VerbDepot
	with name 'раскоп';


Extend 'удар'
* cAcc_noun cGen_noun -> Attack
* cGen_noun cAcc_noun -> Attack reverse;

!Extend 'лом'
!* noun 'with' noun -> Attack;

!Extend 'crack'
!* noun 'with' noun -> Attack;

!Extend 'destroy'
!* noun 'with' noun -> Attack;

!Extend 'smash'
!* noun 'with' noun -> Attack;

!Extend 'wreck'
!* noun 'with' noun -> Attack;

Verb 'маз'
* cAcc_noun 'на' cPre_noun -> PutOn
* 'на' cPre_noun cAcc_noun -> PutOn reverse
* cAcc_noun 'по' cDat_noun -> PutOn
* 'по' cDat_noun cAcc_noun -> PutOn reverse;

Object "мазать" VerbDepot
	with name 'маз';

Extend 'тер'
* cGen_noun 'по' cDat_noun -> PutOn
* cAcc_noun 'по' cDat_noun -> PutOn
* 'по' cDat_noun cGen_noun -> PutOn reverse
* 'по' cDat_noun cAcc_noun -> PutOn reverse
* cGen_noun cAcc_noun -> PutOn
* cAcc_noun cGen_noun -> PutOn reverse;

!Verb 'trip'
!* noun -> Trip;

Verb 'раздеть'
* noun -> Unmask;

Object "раздеть" VerbDepot
	with name 'раздеть';

Verb 'говорить' 'г'
* 'с' cIns_noun -> TalkTo
* 'с' creature 'о' topic -> Ask
* noun -> TalkTo;

Verb 'убить'
* animate -> Kill;

Object "убить" VerbDepot
	with name 'убить';

!Extend only 'murder' 'kill' replace
!    * animate -> Kill;

!Extend 'murder'
!* noun -> Attack;

!Extend 'kill'
!* noun -> Attack;

Extend 'спа'
* 'с' animate -> SleepWith;

!Extend 'enter'
!* animate -> SleepWith;

Verb 'заняться'
* 'сексом'/'любовью' 'с' animate -> SleepWith;

Verb 'насиловать' 
* animate -> SleepWith;

Verb 'трахнуть' 
* animate -> SleepWith;

Verb 'мастурбировать' 'дрочить'
* -> Masturbate;

!Extend 'стать' first
!* 'на' 'колени' -> Kneel
!* 'на' 'пол' -> Kneel;

Verb 'стать'
* 'на' 'колени' -> Kneel
* 'на' 'пол' -> Kneel;

!Verb 'kneel'
!*	-> Kneel
!* 'on' 'ground' -> Kneel
!* 'on' 'floor' -> Kneel;

Verb 'пригласить'
* animate -> Invite
* animate 'внутрь' -> Invite;

!Verb 'пустить'
!* animate -> Invite
!* animate 'внутрь' -> Invite

!Verb 'start'
!* 'fire' -> Burn;

!Verb 'поднять'
!* cAcc_noun -> Take;

Verb 'заправить' ! постель
* cAcc_noun -> Make;

Extend 'см'
* 'за' cGen_noun -> LookUnder;
!* 'out' noun -> Search;

Verb 'крикн' 'крич' 'рев' 'вы' 
* -> Shout;

Object "кричать" VerbDepot
	with name 'крикн' 'крич' 'рев' 'вы';

!Extend 'shout' first
!* -> Shout;

Verb 'хорон'
* cAcc_noun -> Bury;

Object "похоронить" VerbDepot
	with name 'хорон';

Verb 'закопать'
* cAcc_noun -> Bury;

!Verb 'раскопать'
!* cAcc_noun -> Search;

!Extend 'dig'
!* 'in' noun -> Search;

!Verb 'hammer'
!* noun -> Attack;

Verb 'кая' 'исповедов'
* 'в' 'грехах' -> Repent
* -> Repent;

Object "покаяться" VerbDepot
	with name 'каять' 'исповедов';

Extend 'ес' first
* cAcc_noun -> Eat;

Verb 'гас'
* cAcc_noun -> Extinguish;

Object "погасить" VerbDepot
	with name 'гас';

!Extend 'blow'
!* noun 'out' -> Extinguish;

!Verb 'unhide'
!* -> Exit;

Verb 'ли'
* cAcc_held 'в'/'на' cAcc_noun -> Insert;

Object "налить" VerbDepot
	with name 'ли';
	
Verb 'кап'
* cAcc_held 'в'/'на' cAcc_noun -> Insert;

Object "капать" VerbDepot
	with name 'кап';

Verb meta 'альтернативы'
* -> Alternatives;

Verb meta 'прохождение'
* -> WalkthruMiddle
* 'центр' -> WalkthruMiddle
* 'добрый' -> WalkthruGood
* 'злой' -> WalkthruEvil;

Verb 'продать'
* 'душу' 'дьяволу' -> Sell
* 'душу' 'люциферу' -> Sell
* 'душу' 'сатане' -> Sell
* 'душу' -> Sell;

Verb meta 'цитаты' 'цитата'
* 'вкл' -> QuotesOn
* 'откл' -> QuotesOff
* 'выкл' -> QuotesOff;

Verb 'помочь'
* animate -> HelpPerson;

Object "помочь" VerbDepot
	with name 'помочь';

